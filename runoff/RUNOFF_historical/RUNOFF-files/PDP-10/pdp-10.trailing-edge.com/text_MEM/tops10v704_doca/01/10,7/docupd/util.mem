















                       TOPS-10 User Utilities Manual


|                        Electronically Distributed
|  
|  
|  
|            This manual contains descriptions of  the  TOPS-10
|            utilities,  their  formats, and their usage.  This
|            manual  supercedes  the  TOPS-10  User   Utilities
|            Manual  published in July, 1986.  The order number
|            for that manual, AA-0998B-TB, is obsolete.



             Operating System:             TOPS-10 Version 7.04

             Software:                    DECnet-10 Version 4.0
                                             GALAXY Version 5.1










   digital equipment corporation                   maynard, massachusetts



|  TOPS-10 Software Update Tape No. 02, June 1990

   First Printing, March 1975
   Revised, June 1986
|  Revised, June 1990



   The information in this document is subject to change  without  notice
   and  should  not  be  construed  as  a commitment by Digital Equipment
   Corporation.  Digital Equipment Corporation assumes no  responsibility
   for any errors that may appear in this document.

   The software described in this document is furnished under  a  license
   and  may  be  used or copied only in accordance with the terms of such
   license.

   No responsibility is assumed for the use or reliability of software on
   equipment that is not supplied by Digital Equipment Corporation or its
   affiliated companies.



|  Copyright C 1975, 1986, 1990 Digital Equipment Corporation.

   All Rights Reserved.



   The following are trademarks of Digital Equipment Corporation:

   CI             DECtape     LA50             SITGO-10
   DDCMP          DECUS       LN01             TOPS-10
   DEC            DECwriter   LN03             TOPS-20
   DECmail        DELNI       MASSBUS          TOPS-20AN
   DECnet         DELUA       PDP              UNIBUS
   DECnet-VAX     HSC         PDP-11/24        UETP
   DECserver      HSC-50      PrintServer      VAX
   DECserver 100  KA10        PrintServer 40   VAX/VMS
   DECserver 200  KI          Q-bus            VT50
   DECsystem-10   KL10        ReGIS
   DECSYSTEM-20   KS10        RSX              d i g i t a l




                                      CONTENTS



   PREFACE


   CHAPTER 1       SAVING AND RESTORING FILES USING BACKUP


   CHAPTER 2       CREATING DIRECTORIES AND SUB-FILE DIRECTORIES USING 
                   CREDIR


   CHAPTER 3       GETTING CROSS-REFERENCE LISTINGS USING CREF


   CHAPTER 4       COMPARING FILES USING FILCOM


   CHAPTER 5       LISTING GLOBAL SYMBOLS USING GLOB


   CHAPTER 6       NETWORK FILE TRANSFER USING NFT 


   CHAPTER 7       CONTROLLING SUBJOBS USING OPSER 


   CHAPTER 8       LOCAL FILE TRANSFER USING PIP


   CHAPTER 9       LISTING DISK QUOTAS USING QUOLST


   CHAPTER 10      FORMATTING TEXT FILES USING RUNOFF


   CHAPTER 11      SETTING SEARCH LISTS USING SETSRC 


   CHAPTER 12      DISPLAYING SYSTEM STATISTICS USING SYSDPY


   INDEX
















                                  PREFACE



   This manual describes the user utilities available with TOPS-10.   The
   program descriptions are arranged alphabetically.

   Before you read this manual,  you  should  be  familiar  with  TOPS-10
   command  usage,  file specifications, and terminology.  If you need to
   refer to any of the elements of the TOPS-10 command environment,  read
                    _______ _________ ______ ________ ______   Chapter 1 of the TOPS-10 Operating System Commands Manual.  Before you
   attempt to use the programs described in this User  Utilities  Manual,
   you must be familiar with the following concepts:

         o  monitor and user levels

         o  special control characters

         o  switches and arguments

         o  file specifications

         o  device names

         o  wildcard constructions

         o  search lists and directory paths















                                     iv



   CONVENTIONS USED IN THIS MANUAL   CONVENTIONS USED IN THIS MANUAL

   The following conventions are used in this manual:

   __________     _______   Convention     Meaning

   addr           Program or location address.

   arg            An argument to a command.

   core           Referring to main (processor) memory.

   CTRL/x         A control character.

   date           A date in the form of two digits  for  the  day,  three
                  letters  for  the  month,  and two digits for the year.
                  (For example, 22-AUG-86 represents August 22, 1986.)

   date-time      The date and time in the standard format.  For example,
                  13-SEP-86:13:00:00 represents September 13, 1986 at one
                  p.m..

   density        The density of a magnetic tape.

   dev:           Any logical or physical device name.  (You must include
   device-name    a colon (:) when a device name is part of a
   devnn          file specification.)
   devnnu
   devu

   [directory]    A directory name.  This can be either a UFD or an SFD.
   [dir]          

   expression     A numeric expression.

   file.ext       A file name  and  a  file  extension,  separated  by  a
                  period.

   file name      A name of a file.

   file-spec      A   file   specification   written   in   the   format:
                  dev:file.ext[directory].

   fs             File structure.

   hh:mm:ss       The time of day using a  24-hour  clock,  where  hh  is
                  hours, mm is minutes, and ss is seconds.

   id             An identifier.

   job            A job number.



                                     v



   jobname        The name of the job.

   letter         An alphabetic character.

   line-number    Referring to the number of the line.

   list           A list of arguments.

   logical-name   A logical device name, chosen by the user.
   log-name
   log

   memory         The decimal number of memory words measured in K or  P.
                  (1K  is  equal to 1024 words; 1P (page) is equal to 512
                  words.)

   MFD            A master file directory.

   <nnn>          A protection code.

   nnnn           A tape density.

   n              A decimal number, such as a unit number.

   ^name^         A DECtape identifier.

   nodelist       A list of all the systems in a network environment.

   PPN            A project-programmer number.

   program        A program name.

   proj,prog      A project-programmer number.

   [proj,prog]    The name of a user-file directory.

   SFD            A sub-file directory .

   spec           A specification of a file.

   str            A file structure name.

   /switch        A command line modifier.

   time           Referring to a time of day.

   UFD            A user-file directory.

   v              Version number.

   x              A numeric or text variable.



                                     vi



   $              The symbol printed on your terminal when you press  the
                  ESCape (or ALTmode) key.

   ^x             A character that is printed when you press the  CONTROL
                  key  while  you  type  a  character key.  (For example,
                  typing a CTRL/C prints ^C at your terminal.)

   <CTRL/x>       Indicates that you should press the CONTROL key at  the
                  same time as the key indicated here by "x".

   <DEL>          Indicates when you should press the  DELETE  or  RUBOUT
                  key.

   <RET>          Indicates when you should press the RETURN key.

   <ESC>          Indicates when you should press the ESCape (or ALTmode)
                  key.

   All examples, commands, switches, values, and arguments are  shown  in
   uppercase.   This  is for the sake of distinction.  Examples are shown
   as they would appear on  a  terminal  that  does  not  have  lowercase
   ability.
































                                     7

























































                                    1-1












                                 CHAPTER 1                                 CHAPTER 1

                  SAVING AND RESTORING FILES USING BACKUP                  SAVING AND RESTORING FILES USING BACKUP



   Function

   The BACKUP program saves disk files on magnetic tape and places all or
   some  of  these files back onto the disk.  You can save your disk area
   on magnetic tape and restore all of your files or  a  subset  of  your
   files  back  to your area.  You can also use this program to move your
                                                                  _______   files from one  system  to  another.   Please  refer  to  the  TOPS-10
   __________ _____   Operator's Guide for detailed information about the BACKUP program.


   Format

        R BACKUP
        /command

   where:  command is one of the BACKUP commands, which are in verb form.
           BACKUP  prompts with a slash (/), after which you respond with
           one of three command types:

            o  Action command

            o  Status-setting command

            o  Tape-positioning command



   Action Commands

   Action commands perform I/O on the tape specified  in  the  last  TAPE
   command.   You  must  specify a tape using the TAPE command before you
   use an action command.  TAPE is  described  under  the  status-setting
   commands for BACKUP.

   SAVE file-spec                Saves the specified disk files on tape.

   RESTORE file-spec             Restores the  specified  tape  files  to


                                    1-1
                  SAVING AND RESTORING FILES USING BACKUP                  SAVING AND RESTORING FILES USING BACKUP


                                 disk.

   CHECK file-spec               Verifies that  the  tape  and  the  disk
                                 files are the same.

|  [N]PRINT file-spec            Prints a directory of  the  entire  tape
|                                specified   by   file-spec.    N  is  an
|                                optional prefix meaning  narrow.   PRINT
|                                produces  the  effect of a NODIRECTORIES
|                                command; that is,  no  user  directories
|                                are printed.

   The file-spec arguments are optional.  File  specifications  may  have
   wildcards.   You  can  specify  input  and  output  files  in the form
   output=input, or you can specify input alone.  Use commas to  separate
   file-spec entries in a list.

   If you do not supply  an  argument  with  an  action  command,  BACKUP
   defaults to a file-spec as follows:

         o  For anyone logged-in under [1,2], the default  file  spec  is
            ALL:*.*  [*,*,*,*,*,*,*].   This  specifies  all files on all
            UFDs, and all SFDs of all file structures, with no renaming.

         o  For all  other  users,  the  default  file  spec  is  ALL:*.*
            [PPN,*,*,*,*,*]  where PPN is the user's PPN.  This specifies
            all files in the user's areas should be  saved  with  a  disk
            structure   specified,   and   restored  to  the  appropriate
            structure.


   Action Command Switches

   You can use the following switches in the file specification list  for
   the  action  commands.   These  switches  can  be  either permanent or
   temporary.  Input files are those being transferred from disk to tape.
   Output files are those being transferred from tape to disk.

   /ABEFORE date                 On  input  file,  includes  only   files
                                 accessed before the specified date.

   /ASINCE date                  On  input  file,  includes  only   files
                                 accessed since the specified date.

   /BEFORE date-time             On  input  file,  includes  only   files
                                 created before the specified date-time.

   /ERNONE                       On input file,  gives  an  error  if  no
                                 files match.

   /ERPROTECTION                 On input file, gives an error  if  there
                                 is a protection failure.


                                    1-2
                  SAVING AND RESTORING FILES USING BACKUP                  SAVING AND RESTORING FILES USING BACKUP


   /ERSUPERSEDE                  On output file, does not restore a  file
                                 from tape if it already exists on disk.

   /ESTIMATE n                   On output file,  estimates  output  size
                                 (n).

   /LENGTH low:high              On input file, includes the file only if
                                 file length is between low (minimum file
                                 size) and high (maximum file size).

   /MBEFORE nD:hh:mm:ss          On  input  file,  includes  only   files
                                 modified     before    date-time.     nD
                                 represents the number of days.

   /MSINCE nD:hh:mm:ss           On  input  file,  includes  only   files
                                 modified since date-time.  nD represents
                                 the number of days.

   /OKNONE                       On input file, does not give an error if
                                 no files match your file specification.

   /OKPROTECTION                 On input file, does not give an error if
                                 there is a protection failure.

   /OKSUPERSEDE                  On  output  file,  always  restores  the
                                 file,  even  if  the  file is already on
                                 disk.
|  
|  /[NO]PHYSICAL                 On input or  output  file,  ignores  any
|                                logical names.

   /PROTECTION nnn               On  output  file,  sets  the  protection
                                 code.

   /SINCE date-time              On input file, includes only those files
                                 created since the specified date-time.

   /STRS                         On input file, examines  all  structures
                                 for the file.

   /VERSION v                    On output file, sets the version  number
                                 of the file.

   Runtime Commands

   You can issue the following runtime commands during the  execution  of
   any  action  commands.   BACKUP  prompts with an exclamation point (!)
   when ready to accept a runtime command.

   [NO]DIRECTORIES               Prints every directory processed.

   EXIT                          Exits from BACKUP when done.


                                    1-3
                  SAVING AND RESTORING FILES USING BACKUP                  SAVING AND RESTORING FILES USING BACKUP


   [NO]FILES                     Prints   every   file   and    directory
                                 processed.

   GO                            Continues after a STOP.

   HELP                          Lists BACKUP commands and explanations.

   KILL                          Aborts execution of the  current  action
                                 verb.

   PAUSE                         Does not exit from BACKUP when done.

   RESET                         Resets  all  status  settings  to  their
                                 original defaults when done.

   SILENCE                       Stops printing every directory or file.

   STOP                          Stops   action   temporarily;   can   be
                                 continued by GO.

   WHAT                          Displays current file name and status.


   Status-Setting Commands

   Status-setting commands specify one or  more  parameters  that  affect
   future action commands.

   ABEFORE date                  Includes only files accessed before  the
                                 specified date.

   [NO]APPEND                    Appends to the existing list file.

   ASINCE date                   Includes only the files  accessed  since
                                 the specified date.

   BEFORE date-time              Includes  only  the  files  created  and
                                 modified before the specified date-time.
|  
|  BLOCKINGFACTOR n              Sets the number of disk blocks per  tape
|                                block  read  or  written  on  tape.  The
|                                default value is 4 for comptability with
|                                tapes written by BACKUP without blocking
|                                factor capability.  The specified  value
|                                must  be  in  the  range of 4 to 96, and
|                                must be a multiple  of  4  disk  blocks.
|                                Due  to KS20 UNIBUS adapter limitations,
|                                the maximum blocking factor on a KS10 is
|                                56.
|  
|                                Tape blocking is writing  a  tape  block
|                                that  contains more than one disk block.


                                    1-4
                  SAVING AND RESTORING FILES USING BACKUP                  SAVING AND RESTORING FILES USING BACKUP


|                                Older versions of BACKUP (version  prior
|                                to   %6(700))  may  be  said  to  use  a
|                                blocking factor of 4, because they write
|                                4  disk  blocks  per tape block.  Higher
|                                blocking factors permit  BACKUP  to  fit
|                                more  information  in  less  space.  The
|                                higher the  blocking  factor  specified,
|                                the  smaller the amount of space between
|                                tape blocks.

   [NO]CPOINT                    Uses checkpoints.

   [NO]DATE75                    Always  accepts  files   with   possible
                                 DATE75 problems.

   [NO]DELETE                    Deletes disk files after saving them.

   DENSITY nnnn                  Sets the  tape  density.   The  density,
                                 expressed in bits per inch (bpi), can be
                                 200, 556, 800, 1600, or 6250.

   [NO]DIRECTORIES               Prints  each  user's   directory   while
                                 running.

   [NO]ENCRYPT                   Encrypts (codes) the files.  This  makes
                                 the files impossible to read without the
                                 keyword.

   ERRMAX n                      Set maximum number of  recoverable  tape
                                 errors.  Default is 100.

   [NO]EXEMPT                    Exempts  project-programmer  numbers  of
                                 the  form [A,*] and [*,B], where A and B
                                 are less than 7, from  date,  time,  and
                                 length restrictions.

   [NO]FILES                     Prints each file name while running.

   INITIAL file                  Starts processing at the specified file.

   [NO]INTERCHANGE               Runs in interchange  mode.   Interchange
                                 is   used   to   copy   files  from  one
                                 installation   to   another   with    no
                                 directory   dependencies.    Interchange
                                 mode forces a blocking factor of  4  for
                                 compatability  with  other programs such
                                 as TOPS-20 DUMPER.

   LENGTH low:high               Includes  only  files  whose  length  is
                                 between low (minimum file size) and high
                                 (maximum file size).



                                    1-5
                  SAVING AND RESTORING FILES USING BACKUP                  SAVING AND RESTORING FILES USING BACKUP


   [NO]LIST file-spec            While running, creates a listing file on
                                 file-spec.   LIST produces the effect of
                                 a NODIRECTORIES  command;  that  is,  no
                                 user directories will be printed.

   MBEFORE date-time             Includes only files that were  moved  or
                                 modified before the specified time.

   MESSAGE [NO]PREFIX            Suppresses the error message prefix.

   MESSAGE [NO]FIRST             Suppresses the first line of  the  error
                                 message text.

   MSINCE date-time              Includes only files that have been moved
                                 or modified since the specified time.

   [NO]MULTIREEL                 Allows multiple reels during a save.

|  [NO]NFS                       Does not save files that have the RP.NFS
|                                RIB status bit set.

   OPTION name                   Uses line BACKUP:name from a  SWITCH.INI
                                 file.

   PARITY (even,odd)             Sets the tape parity.

   [NO]REPEAT                    Repeats a split file on the continuation
                                 tape.

   RESUME n                      Sets a  checkpoint  block  number  where
                                 processing  resumes  after  a crash that
                                 occurred during a checkpointed  SAVE  or
                                 RESTORE.

|  [NO]SDELETE                   Deletes a file without  respect  to  its
|                                protection   code,   if   the  user  has
|                                sufficient privilege to rename the  file
|                                to a lower protection code.

   SILENCE                       Does not print file names or directories
                                 while running.

   SINCE date-time               Includes only  those  files  created  or
                                 modified since the specified date-time.

   SORT DIRECTORIES x            Sorts  directories  within   each   file
                                 structure  in order of x when saving.  x
                                 is ALPHABETICAL, LOCATION, or NONE.

   SORT FILES x                  Sorts files within each directory in the
                                 order   of   x.    x   is  ALPHABETICAL,
                                 LOCATION, or NONE.


                                    1-6
                  SAVING AND RESTORING FILES USING BACKUP                  SAVING AND RESTORING FILES USING BACKUP


   SSNAME name                   Specifies the saveset name.  Use ALL  to
                                 include all savesets.

   SUPERSEDE ALWAYS              Restores   all    files    from    tape,
                                 superseding  files on disk that have the
                                 same file name.

   SUPERSEDE NEVER               Does not restore  files  that  have  the
                                 same name as an existing file.

   SUPERSEDE OLDER               Restores only the files that  are  newer
                                 than the files on disk of the same name.

   TAPE MTxn:                    Uses tape unit  MTxn:.   If  a  magnetic
                                 tape  drive has the logical name BACKUP,
                                 then  the  TAPE   verb   need   not   be
                                 specified.

   TPNUM x                       Sets  the  number  of  the  tape  to   x
                                 (decimal).

|  [NO]UNIQUE                    Generates unique  extension  numbers  in
|                                the  range  000 to 999 if the file being
|                                restored from  tape  already  exists  on
|                                disk.   Enabling  this  feature  implies
|                                /ERSUPERSEDE.

   UPROTECTION nnn               Sets the protection code for the created
                                 directories.

|  [NO]USAGE                     Enables USAGE accounting.  When USAGE is
|                                enabled,    BACKUP   writes   accounting
|                                records to the system ACTDAE, for  every
|                                directory in a save operation.  You must
|                                have  [1,2]  privileges  to  enable   or
|                                disable accounting
|  
|  [NO]USETI                     Runs in USETI mode.

   [NO]WRITE                     Writes onto disk during a RESTORE.  This
                                 is the default action.

   Tape-Positioning Commands

   Use these commands before action commands or after action commands are
   finished processing.

   EOT volid-list                Skips to the end-of-tape mark  for  each
                                 tape  in  the list.  The volid-list is a
                                 list of  the  volume-identifications  of
                                 each tape.



                                    1-7
                  SAVING AND RESTORING FILES USING BACKUP                  SAVING AND RESTORING FILES USING BACKUP


   REWIND volid-list             Rewinds to the beginning of the tape for
                                 each tape in the list.

   SKIP n volid-list             Skips the specified number  of  savesets
                                 forward for each tape in the list.

   SKIP 0 volid-list             Backs up to the  start  of  the  current
                                 saveset for each tape in the list.

   SKIP -n volid-list            Skips the specified number  of  savesets
                                 backward for each tape in the list.

   UNLOAD volid-list             Unloads each tape in the list  from  its
                                 drive.


   Characteristics

   The BACKUP program:

        Places your terminal at user level.

        Destroys your core image.

   Examples

        1.  To save the entire contents of DSKB:  on magnetic tape and at
            the  same  time produce a directory listing, run BACKUP while
            logged in under [1,2].

                 .R BACKUP<RET>
                 /TAPE MTA0<RET>
                 /LIST DSK:BACKUP.LOG<RET>
                 /SAVE DSKB:<RET>
                 !1,2 DSKB
                  1,3
                  1,4
                 .
                 .
                 .

                 .

            BACKUP prints each UFD as it begins to save files  from  that
            area.   If the tape becomes full before the save is complete,
            BACKUP stops, types out the full file specification and block
            number  of the current file being saved, unloads the magnetic
            tape and prints the following message:

                 $BKPEOT REACHED EOT -- MOUNT NEW TAPE THEN TYPE "GO"

            When you type GO, BACKUP continues the save on the new  tape.


                                    1-8
                  SAVING AND RESTORING FILES USING BACKUP                  SAVING AND RESTORING FILES USING BACKUP


            A file can be split across tapes.

        2.  Copy the file FILE.MAC from tape to disk.

                 .R BACKUP<RET>
                 /TAPE MTB0<RET>
                 /REWIND<RET>
                 /RESTORE FILEB.MAC=FILEA.MAC<RET>
                 !10,123 DSKB
                 DONE            
                 /UNLOAD<RET>
                 /^C

                 .








































                                    1-9

























































                                    2-1












                                 CHAPTER 2                                 CHAPTER 2

         CREATING DIRECTORIES AND SUB-FILE DIRECTORIES USING CREDIR         CREATING DIRECTORIES AND SUB-FILE DIRECTORIES USING CREDIR



   Function

   The CREDIR  program  creates  directories  and  sub-file  directories.
   CREDIR   creates   sub-file   directories   (SFDs)  on  any  specified
   structures, and it automatically creates  any  necessary  higher-level
   directories.   If  you  do not specify a structure, CREDIR creates the
   SFD on every structure in your search list.

   You can use CREDIR to create ersatz device directories.  CREDIR allows
   you  to  create  directories  on  all  structures  associated  with  a
   specified ersatz device.  As it creates each directory,  CREDIR  tells
   you  the  name of the unit and the protection code associated with the
   directory.


   Format

        R CREDIR
        Create directory:  dev:[dir]/switch

   where:  dev:[dir] is the device name and the directory  specification.
           You  can specify an ersatz device name.  /switch can be any of
           the switches listed below.

   By default, CREDIR creates the directory on device DSK:.   The  system
   assigns the default protection code defined by the system manager.  If
   no code was defined, <775> is the default.

   You can use the following switches to modify the CREDIR program:

   /ALLOCATE:nnnn                Specifies the number of blocks allocated
                                 for the SFD.

   /ERNONE                       Prints an error message if there are  no
                                 files in the request.

   /ERPROTECTION                 Prints an error message if  the  request


                                    2-1
         CREATING DIRECTORIES AND SUB-FILE DIRECTORIES USING CREDIR         CREATING DIRECTORIES AND SUB-FILE DIRECTORIES USING CREDIR


                                 fails   due   to   a   protection   code
                                 violation.

   /HELP:arg                     Prints the  HELP  text  for  the  CREDIR
                                 program.   You  can  specify  S  as  the
                                 argument to get a list of  the  switches
                                 to the program.

   /IN:nnnn                      Specifies the logged-in quota.

   /NAME:name                    Specifies  a  mnemonic  name   for   the
                                 directory.

   /NOOPTION                     Suppresses processing  of  the  defaults
                                 from your SWITCH.INI file.

   /OKNONE                       Does not print an error message if there
                                 are  no  files  that  match  a  wildcard
                                 specification.

   /OKPROTECTION                 Does not print an error message  if  the
                                 SFD cannot be accessed because of a file
                                 protection violation.

   /OPTION:name                  Uses any lines in your  SWITCH.INI  file
                                 that are specified as CREDIR:name.

   /OUT:nnnn                     Specifies the logged-out quota  for  the
                                 SFD.

   /PHYSICAL                     Specifies  that  the  device   name   is
                                 physical, and to ignore logical names.

   /PROTECTION:nnn               Gives the SFD the protection you specify
                                 in nnn.

   /RUN:file-spec                Runs  the  program  you  specified  when
                                 CREDIR has finished running.

   /RUNCOR:n                     Runs the program you specified with /RUN
                                 in nK of memory when CREDIR has finished
                                 running.

   /RUNOFFSET:n                  Runs the program you specified with /RUN
                                 with  an  offset  of n.  If you omit the
                                 switch,  the  default  is  0.   If   you
                                 specify the switch, but omit a value for
                                 n, the default is 1.  If the  offset  is
                                 1,  the  file  uses  an indirect command
                                 file.

   /STRS                         Searches for the SFD in  all  structures


                                    2-2
         CREATING DIRECTORIES AND SUB-FILE DIRECTORIES USING CREDIR         CREATING DIRECTORIES AND SUB-FILE DIRECTORIES USING CREDIR


                                 in  your  job's  search  list,  and uses
                                 every occurrence.

   Characteristics

   The CREDIR program:

        Destroys your core image.

        Requires LOGIN.

        Places your terminal at user level.


   Examples

        1.  The following example shows the creation and use  of  an  SFD
            and directory paths.

            Show a list of  all  the  files  in  your  UFD  with  a  file
            extension .TST.

                 .DIRECT *.TST<RET>

                 NUMB  TST   0   <055>   dd-mmm-yy    DSKC:   [27,5434]
                 109   TST   5   <055>   dd-mmm-yy
                 FILL  TST   1   <055>   dd-mmm-yy
                 PAY3  TST   1   <055>   dd-mmm-yy
                    TOTAL OF 7 BLOCKS IN 4 FILES ON DSKC: [27,5434]

            Run the CREDIR program.  Create a sub-file  directory  called
            TEST.  Use the /EXIT switch to exit from CREDIR.

                 .R CREDIR<RET>

                 Create directory:  [27,5434,TEST]<RET>
                         CREATED DSKC:[27,5434,TEST].SFD/PROTECTION:775

                 Create directory: /EXIT

            Request a list of all your files named TEST.

                 .DIR TEST.*<RET>

                 TEST  FOR   1   <055>   dd-mmm-yy    DSKC: [27,5434]
                 TEST  SFD   1   <775>   dd-mmm-yy
                    TOTAL OF 2 BLOCKS IN 2 FILES ON DSKC: [27,5434]

            The directory shows an SFD named TEST.

            Use RENAME to transfer all files with the extension .TST from
            your UFD to your SFD.


                                    2-3
         CREATING DIRECTORIES AND SUB-FILE DIRECTORIES USING CREDIR         CREATING DIRECTORIES AND SUB-FILE DIRECTORIES USING CREDIR


                 .RENAME [27,5434,TEST]=*.TST<RET>
                 FILES RENAMED:
                 DSKC:NUMB.TST
                 DSKC:109.TST
                 DSKC:FILL.TST
                 DSKC:PAY3.TST

            Show that your UFD no longer  contains  the  files  with  the
            extension .TST.

                 .DIR *.TST<RET>

                 %WLDNSF No such files as DSKC:*.TST[27,5434]

            Show  that  the  files  have  been  transferred  to  the  SFD
            [27,5434,TEST].

                 .DIR [27,5434,TEST]<RET>

                 NUMB TST  0   <055>  dd-mmm-yy    DSKC:[27,5434,TEST]
                 109  TST  5   <055>  dd-mmm-yy
                 FILL TST  1   <055>  dd-mmm-yy
                 PAY3 TST  1   <055>  dd-mmm-yy
                    TOTAL OF 7 BLOCKS IN 4 FILES ON DSKC:  [27,5434,TEST]


        2.  The following example shows the use of CREDIR with  the  SCAN
            switch /PROTECTION.

                 .R CREDIR<RET>

                 Create directory:   DSKB:[,,A,B,C]/PROTECTION:755<RET>
                    CREATED DSKB:[27,4072,A].SFD/PROTECTION:755
                    CREATED DSKB:[27,4072,A,B].SFD/PROTECTION:755
                    CREATED DSKB:[27,4072,A,B,C].SFD/PROTECTION:755
                 Create directory: /EXIT

                 .
















                                    2-4












                                 CHAPTER 3                                 CHAPTER 3

                GETTING CROSS-REFERENCE LISTINGS USING CREF                GETTING CROSS-REFERENCE LISTINGS USING CREF



   Function

   The CREF program produces a sequentially numbered assembly listing  of
   a program, and one or more of the following tables:

         o  Cross reference table for all operands, such  as  labels  and
            assignments

         o  Cross reference table for all user-defined operators, such as
            macro calls and OPDEFs

         o  Cross reference table for all op codes and  pseudo-ops.   You
            must specify the /O switch to produce this table.

   The cross-reference files are printed on the line printer if you  have
   generated  such  files  using  the  /CREF switch with a COMPILE, LOAD,
   DEBUG, or EXECUTE command.  The file containing  the  names  of  these
   CREF  files  is then deleted so that subsequent CREF commands will not
   process them again.

   When the logical device name LPT:  is assigned to a device other  than
   the  line  printer,  the CREF files are stored on that device with the
   same file name and the extension .LST.  If output to the line  printer
   is  not  currently  spooled, you must set spooling before running CREF
                                     _______  _________  ______  ________   (see the SET SPOOL command in the TOPS-10  Operating  System  Commands
   ______   Manual).


   Formats

        R CREF/switch
        * file spec

        CREF  file-spec/switch

   where:  file-spec is a valid file specification.  When  you  supply  a
           file  specification,  CREF produces a cross-referenced listing


                                    3-1
                GETTING CROSS-REFERENCE LISTINGS USING CREF                GETTING CROSS-REFERENCE LISTINGS USING CREF


           file for the specified file.  If you do not give  an  argument
           to  the  command, CREF uses the argument saved from a previous
           COMPILE-class command.  CREF prompts with an asterisk (*) when
           you  use the R CREF command or if there is no stored argument.
           /switch is one or more of the following switches:

           /A      Advances magtape by one file (may be repeated).

           /B      Backspaces magtape by one file (may be repeated).

           /C      Cancels SWITCH.INI switch defaulting.

           /D      Permits  default  switches  you  specified   in   your
                   SWITCH.INI file.

           /H      Types the HELP text for CREF.

           /K      Does not list user-defined symbol tables.

           /M      Suppresses user macros, OPDEFs, and symbol table.

           /O      Lists the opcodes.

           /P      Preserves (does not delete) input files.

           /R      Restarts listing and prompts for line number.

           /S      Suppresses  program  listing  and  lists  only  symbol
                   tables.

           /W      Rewinds tape.

           /Z      Deletes the current contents of the DECtape directory.


   Characteristics

   The CREF program:

        Leaves your terminal at monitor level.

        Destroys your core image.

        Requires LOGIN.


   Examples

        1.  Compile the files contained in the command  file  PROMAC  and
            produce CREF listing files on the disk.

                 .COMPILE/CREF@PROMAC<RET>


                                    3-2
                GETTING CROSS-REFERENCE LISTINGS USING CREF                GETTING CROSS-REFERENCE LISTINGS USING CREF


                 FORTRAN:  INPUT1
                 MAIN.
                 FORTRAN:  INPUT2
                 MAIN.

            Process and list the cross-referenced listing files  produced
            by  the COMPILE command.  The argument is the stored argument
            that was used in the COMPILE command.

                 .SET SPOOL LPT<RET>
                 .CREF<RET>
                 CREF:INPUT1
                 CREF:INPUT2
                 .

        2.  Compile and load the files  contained  in  the  command  file
            CONALL.   Produce  a  loader  map with the file name NAME and
            CREF files on disk.

                 .LOAD/CREF/MAP:NAME@CONALL<RET>
                 MACRO:  HIGH
                 MACRO:  SHARE
                 EXIT

            Assign the logical name LPT to magnetic tape unit  1.   Store
            the CREF files on MTA1: to be output at a later time.

                 .ASSIGN MTA1 LPT<RET>
                 MTA261 ASSIGNED

                 .CREF<RET>
                 CREF:  HIGH
                 CREF:  SHARE
                 .




















                                    3-3

























































                                    4-1












                                 CHAPTER 4                                 CHAPTER 4

                        COMPARING FILES USING FILCOM                        COMPARING FILES USING FILCOM



   Function

   The FILCOM program compares two files and  displays  any  differences.
   Generally,  this  comparison  is  line-by-line  for  ASCII  files  and
   word-by-word  for  binary  files.   FILCOM  determines  the  type   of
   comparison  to  use  by examining either the switches specified in the
   command string or the extensions of the files.  Switches  always  take
   precedence over file extensions.


   Format

        R FILCOM
        *output-file-spec=input-file-spec,input-file-spec/switch

   where:   *  is  the  FILCOM  prompt,  file-spec  is   a   valid   file
           specification, output-file-spec specifies the name and area on
           which the results should be stored, and input-file-spec  is  a
           list of the files to be compared.

   The FILCOM program takes the following defaults if you  omit  some  of
   the above information:

         o  If you omit the output specification, the  output  device  is
            assumed   to   be   TTY:.    If  you  omit  the  output  file
            specification, you must still type the equal sign.

         o  If you specify only the output file name, the default  output
            device is DSK:.

         o  If you omit the output file name, the second input file  name
            is  used,  unless  it  is  null.  In this case, the file name
            FILCOM is used.

         o  If you omit the output file extension,  .SCM  is  used  on  a
            source compare and .BCM is used on a binary compare.



                                    4-1
                        COMPARING FILES USING FILCOM                        COMPARING FILES USING FILCOM


         o  If you omit the [directory] in either  the  input  or  output
            file specifications, your default directory is assumed.

         o  If you omit an input device name, it is assumed to be DSK:.

         o  If you omit the file name of the second  input  file,  it  is
            taken from the first input file.

         o  You must place a dot following the file name  of  the  second
            input  file  to  explicitly  indicate a null extension if the
            extension of the first input file is not null.  For  example,
            to   compare   FILE.MAC   and  FILE.   (that  is,  with  null
            extension), use the following command string:

                 R FILCOM<RET>
                 *=FILE.MAC,FILE.

         o  The second input file specification cannot be null  unless  a
            binary  compare  is being performed.  In a binary compare, if
            the first input file is not followed by a comma and a  second
            input  file  descriptor, the input file is compared to a zero
            file and is output in its entirety.  This gives you a  method
            of listing a binary file.  (Refer to Example 4.)


   /switch is one of the options listed below.  A switch can  follow  the
   input  file-specs.   The following switches are used for a binary file
   comparison:


   /E             Creates file in executable format.

   /H             Prints a list of switches  available  (help  text  from
                  device HLP:).

   /nL            Specifies the lower limit for a partial binary  compare
                  (n  is  an  octal number).  This switch, when used with
                  the /nU switch, allows a binary  file  to  be  compared
                  only within the specified limits.

   /Q             Prints the message ?FILES ARE DIFFERENT when the  files
                  are different, but does not list the differences.  This
                  switch is useful when you test batch control files  for
                  differences  but  do  not  want  a  log  file  of these
                  differences.

   /nU            Specifies the upper limit for a partial binary  compare
                  (n  is  an  octal number).  This switch, when used with
                  the /nL switch, allows a binary  file  to  be  compared
                  only within the specified limits.

   /W             Compares files in binary  mode  without  expanding  the


                                    4-2
                        COMPARING FILES USING FILCOM                        COMPARING FILES USING FILCOM


                  files first.  This switch is used to compare two binary
                  files with ASCII extensions.

   /X             Expands .SAV files  before  comparing  them  in  binary
                  mode.   This  action removes differences resulting from
                  zero compression.

   If you did not specify any switches  in  the  command  string,  FILCOM
   compares  the  files  in  the  mode  the  extension  implies.   FILCOM
   recognizes the following extensions as binary:

        .APL      .ATR      .BAC      .BIN
        .BUG      .CAL      .CHN      .DAE
        .DBS      .DCR      .DMP      .EXE
        .HGH      .LOW      .MSB      .OVL
        .QUC      .QUD      .QUE      .QUF
        .REL      .RIM      .RMT      .RTB
        .SAV      .SCH      .SFD      .SHR
        .SVE      .SYM      .SYS      .UFD
        .UNV      .XPN

   Binary files are compared word by word, starting at word 0, except for
   the following cases:

         o  Files with  extensions  .SHR  and  .HGH  are  assumed  to  be
            high-segment files.  Because the word count starts at 400000,
            upper and lower limits, if used, must  be  greater  than  (or
            equal to in the case of the lower limit) 400000.

         o  Files with extensions .SAV, .LOW, and .SVE are assumed to  be
            compressed   core   image   files  and  are  expanded  before
            comparing.

         o  Files with the extension .EXE  are  assumed  to  be  in  .EXE
            format.

   Conflicts are resolved by switches or defaults.  If a conflict  arises
   in  the  absence  of  switches,  the  files are assumed to be ordinary
   binary files.

   The following switches are used for an ASCII source file comparison:

   /A             Compares files in ASCII mode.  This switch is  used  to
                  force comparison of two files to be done in ASCII.

   /B             Compares blank lines.  Without this switch, blank lines
                  are ignored.

   /C             Ignores comments  (all  text  on  a  line  following  a
                  semicolon)  and  spacing  (spaces  and  tabs).   A line
                  consisting entirely  of  comments  or  spacing  is  not
                  treated as if it were a blank line; differences in such


                                    4-3
                        COMPARING FILES USING FILCOM                        COMPARING FILES USING FILCOM


                  lines are not ignored.

   /H             Prints a list of switches  available  (help  text  from
                  device HLP:).

   /nL            Specifies the number of lines that determine a match (n
                  is  an  octal number).  A match means that n successive
                  lines  in  each  input  file  have  been  found  to  be
                  identical.   When  a  match  is  found, all differences
                  occurring before the match and after the previous match
                  are listed.  In addition, the first line of the current
                  match is listed after  the  differences,  to  help  you
                  locate   the  place  within  each  file  at  which  the
                  differences occurred.  The default value for n is 3.

   /O             Instructs FILCOM to include a label and offset  in  the
                  differences  listing  for ASCII files.  There are three
                  types of messages.  One message is:

                  [;At top of file + nL]

                  nL, a decimal number, represents the  number  of  lines
                  from  the  top  of the file that the difference occurs.
                  If a difference occurs at the top of the  file,  nL  is
                  not listed.  Another message is:

                  [;At Label + nL]

                  Label is the MACRO label closest to the difference  and
                  nL represents the decimal number of lines away from the
                  label that the difference occurs.   If  the  difference
                  occurs at the label, nL is not listed.  The message for
                  PDP-11 files is:

                  [;At Label + nL + following label name]

                  Label is the local label  name  in  the  form  nn$,  nL
                  represents  the  decimal number of lines from the local
                  label where the difference occurs, and following  label
                  name  is  the name of the block label.  The block label
                  name  is  listed  as  further  help  in  locating   the
                  difference,  since  local  label  names  are not always
                  unique.  If the difference occurs at the  label,  nL  +
                  following  label  name  are not listed.  The label name
                  for all labels must be in the first ten  characters  of
                  the line.  Label name refers to file 1.

   /Q             Prints the message ?FILES ARE DIFFERENT, when the files
                  are different, but does not list the differences.

   /S             Ignores spaces and tabs.



                                    4-4
                        COMPARING FILES USING FILCOM                        COMPARING FILES USING FILCOM


   /T             Instructs  FILCOM  to  generate  output  even   if   no
                  differences  are  found.   Ordinarily,  FILCOM does not
                  produce  a  list  of  differences  if  there   are   no
                  differences in the files.

   /U             Compares in update mode.  This means  that  the  output
                  file  consists  of  the second input file with vertical
                  bars (or backslashes for 64-character printers) next to
                  the  lines  that differ from the first input file.  Any
                  lines found in the first input  file  but  not  in  the
                  second are designated by a bullet (o).  This feature is
                  useful when updating a  document  because  the  changes
                  made to the latest edition are flagged with change bars
                  in the left margin.  The latest edition of the document
                  is the second input file.


   FILCOM Output

   In most cases, headers consisting of the device, file name, extension,
   and creation date of each input file are listed before the differences
   are listed.  However, headers do not appear  on  output  from  the  /U
   switch (update mode on source compare).

   Output from a source compare has the following notation  in  the  left
   column of the output after the headers:

        n)m

   n is the number of the input file, and m is the  page  number  of  the
   input file (refer to the examples).

   The right column lists the differences occurring  between  matches  in
   the  input files.  Following the list of differences, a line identical
   in each file is listed for reference purposes.

   The output from the /U switch differs from the above-described  output
   in that the output file created is the second input file with vertical
   bars in the left column next to the lines that are different from  the
   first input file.

   The output from a binary compare prints  the  following  line  on  the
   output  device  when  FILCOM  encounters  a difference between the two
   input files:

        octal loc 1st file-word  2nd file-word XOR of both words

   If the exclusive OR (XOR) of the two words differs only in  the  right
   half, the third word listed is the absolute value of the difference of
   the two right halves.  This usually indicates an address that changed.

   If one input file is shorter than the other, after the end of file  is


                                    4-5
                        COMPARING FILES USING FILCOM                        COMPARING FILES USING FILCOM


   encountered  on  the shorter file, the remainder of the longer file is
   listed.


   Characteristics

   The FILCOM program:

        Places your terminal at user level.

        Destroys your core image.

        Requires LOGIN.


   Examples

        1.  You have the following two ASCII files on disk:

                 .TYPE FILE1.TST<RET>
                 A
                 B
                 C
                 D
                 E
                 F
                 G
                 H
                 I
                 J
                 K
                 L
                 M
                 N
                 O
                 P
                 Q
                 R
                 S
                 T
                 U
                 V
                 W
                 X
                 Y
                 Z




                 .TYPE FILE2.TST<RET>
                 A


                                    4-6
                        COMPARING FILES USING FILCOM                        COMPARING FILES USING FILCOM


                 B
                 C
                 G
                 H
                 I
                 1
                 2
                 3
                 N
                 O
                 P
                 Q
                 R
                 S
                 T
                 U
                 V
                 4
                 5
                 W
                 X
                 Y
                 Z

            To compare the two files and print the  differences  on  your
            terminal, use the following sequence.

            Run the FILCOM program.

                 .R FILCOM<RET>

            Compare the two files on disk and output the  differences  on
            your terminal.  By default, three consecutive identical lines
            determine a match.

                 *=FILE1.TST,FILE2.TST<RET>

                 FILE 1) DSKC:FILE1.TST[27,5434] CREATED: 0825 dd-mmm-yyyy
                 FILE 2) DSKC:FILE2.TST[27,5434] CREATED: 0826 dd-mmm-yyyy

                 1)1      D
                 1        E
                 1)       F
                 1)       G
                 ****
                 2)1      G
                 **************
                 1)1      J
                 1)       K
                 1)       L
                 1)       M
                 1)       N


                                    4-7
                        COMPARING FILES USING FILCOM                        COMPARING FILES USING FILCOM


                 ****
                 2)1      1
                 2)       2
                 2)       3
                 2)       N
                 **************
                 1)1      W
                 ****
                 2)1      4
                 2)       5
                 2)       W
                 **************

                 %FILES ARE DIFFERENT

        2.  To compare the two files and print  the  differences  on  the
            line printer, use the following command.  In this example the
            number of successive lines that determines a match  has  been
            set to four with the /4L switch.

                 */4L = FILE1.TST,FILE2.TST<RET>
                 FILE 1) DSKC:FILE1.TST[27,5434] CREATED 0825 dd-mmm-yyyy
                 FILE 2) DSKC:FILE2.TST[27,5434] CREATED 0826 dd-mmm-yyyy

                 1)1      D
                 1)       E
                 1)       F
                 1)       G
                 1)       H
                 1)       I
                 1)       J
                 1)       K
                 1)       L
                 1)       M
                 1)       N
                 ****
                 2)1      G
                 2)       H
                 2)       I
                 2)       1
                 2)       2
                 2)       3
                 2)       N
                 **************
                 1)1      W
                 ****
                 2)1      4
                 2)       5
                 2)       W
                 **************

                 %FILES ARE DIFFERENT


                                    4-8
                        COMPARING FILES USING FILCOM                        COMPARING FILES USING FILCOM


        3.  To compare the two files so that the  second  input  file  is
            output  with  vertical  bars  in  the left column next to the
            lines  that  differ  from  the  first  input  file,  use  the
            following command sequence:

                 .R FILCOM<RET>

                 */U=FILE1.TST,FILE2.TST<RET>
                          A
                          B
                          C
                 |        G
                          H
                          I
                 |        1
                 |        2
                 |        3
                          N
                          O
                          P
                          Q
                          R
                          S
                          T
                          U
                          V
                 |        4
                 |        5
                          W
                          X
                          Y
                          Z

                 %FILES ARE DIFFERENT

            File number two is displayed.  The lines with  vertical  bars
            indicate the differences between the two files.

















                                    4-9

























































                                    5-1












                                 CHAPTER 5                                 CHAPTER 5

                     LISTING GLOBAL SYMBOLS USING GLOB                     LISTING GLOBAL SYMBOLS USING GLOB



   Function

   The  GLOB  program  reads  multiple  binary  files  and  produces   an
   alphabetical  cross-referenced list of all the global symbols (symbols
   accessible to other programs) that it encounters.  This  program  also
   searches files in library search mode, checking for global symbols, if
   the program file was loaded by LINK in library search mode.  (See  the
   LINK manual.)

   The GLOB program has two phases of operation:

        1.  Phase one scans the input files and builds an internal symbol
            table.

        2.  Phase two produces output based on the symbol table.

   Because of these phases, you can enter commands to GLOB in one of  two
   ways.   The first way is to specify one command string containing both
   the output and input specifications; this is the command string format
   most  system  programs  accept.  The second is to separate the command
   string into a series of input commands and output commands.


   Formats

        R GLOB

        *output file-spec=input file-spec(/switch,/switch)<ESC>

   where:  * is the GLOB prompt, and  /switch  is  one  or  more  of  the
           switches listed below.


        R GLOB

        followed by one or more input commands in the form:



                                    5-1
                     LISTING GLOBAL SYMBOLS USING GLOB                     LISTING GLOBAL SYMBOLS USING GLOB


             file-spec, file-spec,...<RET>

        and then one or more output commands in the form:

             output file-spec=<ESC>

   When you separate your input to GLOB into input  commands  and  output
   commands,  the  input commands contain only input specifications.  The
   output commands  contain  only  output  specifications.   Each  output
   command  causes  a listing to be generated; any number of listings can
   be printed from the symbol table  generated  from  the  current  input
   files,  as  long  as  no  input  commands occur after the first output
   command.  When GLOB encounters an input command after output has  been
   generated, it destroys the current symbol table and begins a new one.

   An ESCape (or ALTmode) terminates the command input and  signals  GLOB
   to print the cross-referenced listing.  A listing is not printed until
   GLOB encounters an ESCape.  Press ESCape at the  end  of  the  command
   string  shown in command format 1 or at the end of each output command
   shown in command format 2.

   If you omit some of the information in a  GLOB  command,  the  program
   takes the following defaults:

         o  If the device is omitted, it is assumed to be DSK:.  However,
            if  the  entire  output  specification is omitted, the output
            device is TTY:.

         o  If the output file name is omitted, it is  the  name  of  the
            last  input file on the line (Command Format 1) or is GLOB if
            the line contains only output commands  (Command  Format  2).
            The input file names are required.

         o  If the output extension is omitted, .GLB  is  used.   If  the
            input  extension is omitted, it is assumed to be .REL, unless
            the null extension is explicitly specified by a dot following
            the file name.

         o  If the directory area [directory] is  omitted,  your  default
            directory is used.

   Switches to GLOB control the type of global listings  to  be  printed.
   If  you issue several switches, enclose them in parentheses.  Only the
   most recently specified switch (except for L, M, P, Q,  and  X,  which
   are  always  in effect) is in effect at any given time.  If you do not
   specify any switches, GLOB prints all global  symbols.   The  switches
   and their functions are:

   /A        Prints all global  symbols.   This  is  the  default  if  no
             switches are specified.

   /E        Prints  only  erroneous  (multiply  defined  or   undefined)


                                    5-2
                     LISTING GLOBAL SYMBOLS USING GLOB                     LISTING GLOBAL SYMBOLS USING GLOB


             symbols.

   /F        Prints nonrelocatable (fixed) symbols only.

   /H        Prints a list of the switches available from HLP:GLOB.HLP.

   /L        Scans programs  only  if  they  contain  globals  previously
             defined and not yet satisfied (library search mode).

   /M        Turns off scanning mode resulting from the /L switch.

   /N        Prints only symbols that are never referenced.

   /P        Prints all routines that define a symbol to  have  the  same
             value.   The  routine  that  defines  the  symbol  first  is
             printed, followed by a plus (+) sign.   Subsequent  routines
             that define the symbol are printed, preceded by a plus sign.

   /Q        Suppresses the printing  of  subsequent  defining  routines,
             which result from the /P switch.

   /R        Prints only relocatable symbols.

   /S        Prints symbols with nonconflicting values that  are  defined
             in more than one program.

   /X        Suppresses the header page when the  output  device  is  not
             your  terminal,  and  includes  the  header  when it is your
             terminal.  Without this switch, the header is printed on all
             devices except your terminal.


   Output from GLOB

   The listing header is in the format:

        Flags  Symbol  Octal Value  Defined  Referenced

   The flags are:

   _____     _______   Flags     Meaning

   M         Multiply-defined symbol (shows all values).

   N         Never referred to (was not declared external in any  of  the
             binary programs).

   S         Multiply specified symbol (that is, defined in more than one
             program  but  with  nonconflicting values).  The name of the
             first  program  in  which  the  symbol  was  encountered  is
             followed by a plus sign.



                                    5-3
                     LISTING GLOBAL SYMBOLS USING GLOB                     LISTING GLOBAL SYMBOLS USING GLOB


   U         Undefined symbol.

   Symbols are listed in alphabetical  order  according  to  their  ASCII
   collating  sequence.   An  apostrophe (') follows the octal value of a
   relocatable symbol.  The value is then relative to  the  beginning  of
   the program in which the symbol is defined.


   Characteristics

   The GLOB program:

        Requires LOGIN.

        Places your terminal at user level.

        Destroys your core image.


   Example

   Run the GLOB program, and print all global symbols in the program MAIN
   (on  DSK:),  and SUB40 and SUB50 (on DTA2:) on the line printer.  Each
   symbol is printed with its value, the program in which it is  defined,
   all programs in which it is referenced, and any error flags.

        .R GLOB<RET>

        *LPT:=MAIN.REL,DTA2:SUB40,SUB50<ESC>

   The programs to  be  scanned  are  BATCH.REL  and  DATA.REL  on  DTA4,
   NUMBER.REL  and  CLASS.REL  on  DTA6:,  and MATH.REL and LIBRAR.REL on
   DSK:.

        *DTA4:BATCH.REL,DATA.REL,DTA6:NUMBER.REL,CLASS.REL<RET>
        *DSK:MATH.REL,LIBRAR.REL<RET>

   Print only nonrelocatable symbols on the line printer.

        *LPT:=/F4<ESC>

   Print only relocatable symbols  in  the  file  named  SYMBOL  in  your
   default directory.

        *DSK:SYMBOL=/R<ESC>

   Print all erroneous symbols on the terminal.  EXTSYM is  an  undefined
   symbol appearing in the program SUBRTE.

        *TTY:=/E<ESC>

        U EXTSYM SUBRTE


                                    5-4
                     LISTING GLOBAL SYMBOLS USING GLOB                     LISTING GLOBAL SYMBOLS USING GLOB


   Return to monitor level.

        *^C

        .

















































                                    5-5

























































                                    6-1












                                 CHAPTER 6                                 CHAPTER 6

                      NETWORK FILE TRANSFER USING NFT                      NETWORK FILE TRANSFER USING NFT



   Function

   The Network File Transfer (NFT) utility allows  you  to  access  files
   residing   on   DECnet   hosts   that   provide  network  file  access
   capabilities.  By using NFT, you can perform a variety  of  operations
   such  as  copying,  deleting,  renaming,  or  listing  files;  listing
   directories; and submitting files to a batch system.  NFT  allows  you
   to  perform  operations at the local host as well as at a remote host.
   You may also use NFT to copy a file from one remote host to another.

   NFT processes text files, programs, data files, control files, or  any
   other  sequential  file.   However,  only  ASCII  file  transfers  are
   supported between a TOPS-10 host and a non-TOPS-10 host.


   Format

        R NFT
        * command output-file-spec = input-file-spec/switches

   where:  command is one of the NFT commands described below.  file-spec
           is one or more standard file specifications.  Depending on the
           command, either the output-file-spec or both file-specs may be
           omitted.

   The NFT commands are:

   _______                       ______   Command                       Action

   COPY [output file-spec=]      Copies files from:
     input file-spec             local node to remote node
                                 local node to local node
                                 remote node to local node
                                 remote node to remote node

   DELETE file-spec(s)           Deletes files from  a  local  or  remote
                                 node.


                                    6-1
                      NETWORK FILE TRANSFER USING NFT                      NETWORK FILE TRANSFER USING NFT


   DIRECT [output file-spec=]    Lists the directory from the
     input file-spec             specified node.

   EXIT                          Exits from NFT.

   HELP                          Displays a list of NFT commands.

   PRINT file-spec               Prints a file  at  the  specified  node.
                                 NFT  does  not  check  that  the file is
                                 actually printed at a remote node.   The
                                 file  must  be located at the node in an
                                 acceptable format;  and  print  spooling
                                 must be available at the node.

   RENAME output file-spec(s)=
   input file-spec               Changes the  name  or  attributes  of  a
                                 file.  Valid only for nodes that support
                                 remote renaming.

   SET DEFAULT [node::=]
     /USERID[:uid[:acct[:psw]]]  Sets  the  defaults   for   the   access
                                 information   for  one  or  more  remote
                                 nodes.  The defaults  remain  in  effect
                                 until  you change them using another SET
                                 DEFAULT command or exit from  NFT.   NFT
                                 applies the defaults in SWITCH.INI after
                                 it  sets  the  defaults  from  the   SET
                                 DEFAULT command.

   SUBMIT file-spec              Submits  a  batch  control  file  or   a
                                 command  file on a local or remote node.
                                 NFT does not  check  that  the  file  is
                                 actually submitted.  The control/command
                                 file  must  be  at  the   node   in   an
                                 acceptable  format;  and  the  batch  or
                                 command file facility must be  supported
                                 and available at the node.

   TYPE [output file-spec=]      Displays the specified file on your
     input file-spec             terminal.

   In  addition  to  the  standard  commands,  commands  called  DAP-mode
   commands   are  available.   They  are  the  DDELET  (delete),  DDIREC
   (direct), DRENAM (rename), and DSUBMI (submit) commands.  You can  use
   these  commands  to quickly manipulate a single file on a single host,
   or if the remote host does not  appear  to  accept  the  standard  NFT
   command.   If  you  use these commands, you can include only one input
   file specification.   These  commands  may  execute  faster  than  the
   standard  commands  because they do not have the same command scanning
   and checking as the standard commands.  In some cases,  they  may  not
   give the same amount or type of information as the standard commands.



                                    6-2
                      NETWORK FILE TRANSFER USING NFT                      NETWORK FILE TRANSFER USING NFT


   All NFT and DAP-mode commands described  above  work  between  TOPS-10
   hosts,  and  with  your  files  on the local host.  However, a command
   works on a non-TOPS-10 host only if that  host  has  also  implemented
   that facility.  For example, you can copy files between a TOPS-10 host
   and a VMS host because both hosts have implemented the COPY facility.

   For those commands with input and/or output file  specifications,  the
   defaults  for the command string are listed below.  Though most of the
   defaults are the  same  for  all  the  commands,  some  commands  have
   different  defaults.   The  exceptions  are  noted  with  each field's
   default.

   _____          _______   Field          Default

   node           local node
                  all remote nodes for SET DEFAULT
                  unchanged for RENAME output

   device         DSK:  for local node, none for remote node
                  TTY:  for DIRECT and TYPE output
                  unchanged for RENAME output

   directory      no explicit directory
                  unchanged for RENAME output

   file name      output - input file name
                         - generated name for DIRECT
                         - unchanged for RENAME
                  input  - *
                         - must be specified for DELETE

   file type      output - input file type
                         - DIR for DIRECT
                         - unchanged for RENAME
                  input  - *
                         - must be specified for DELETE
                         - CTL for SUBMIT
                         - none for PRINT

   I/O mode       file creation mode, assumed to be ASCII
                  ASCII for DIRECT and TYPE


   The switches you can use with NFT are listed below:

   /ASCII         Transfers in ASCII mode.  Use the /ASCII switch for all
                  ASCII file transfers to or from a non-TOPS-10 host.

   /[NO]BAUD      Does [not] print the baud rate of data transfer in  the
                  totals  summary.   This  switch applies to the COPY and
                  TYPE commands only.  The default for network  transfers
                  is /BAUD, /NOBAUD is the default for local transfers.


                                    6-3
                      NETWORK FILE TRANSFER USING NFT                      NETWORK FILE TRANSFER USING NFT


   /BINARY        Transfers in binary mode.  Use the /BINARY  switch  for
                  all file transfers between TOPS-10 hosts.

   /[NO]MOAN      Does [not] issue general warning complaints.   Use  the
                  /MOAN  switch to instruct NFT to issue warnings when it
                  encounters  a  dubious  condition.   Such  a  condition
                  typically requires NFT to make a guess (for example, in
                  a file copy operation, the data type or data byte size)
                  in  order  to  complete  the  command.   The default is
                  /NOMOAN.

   /[NO]OKERROR   Use the /[NO]OKERROR  switch  to  control  whether  NFT
                  aborts  the  command  if  an  error  occurs.   /OKERROR
                  directs NFT to  ignore  file  access  and  I/O  errors,
                  issuing  warning messages.  /NOOKERROR instructs NFT to
                  abort the current command on the first occurrence of  a
                  file  access  or  I/O  error.   The  default setting is
                  /NOOKERROR.

   /TOTALS[:list] Use the /TOTALS switch to control  the  totals  summary
                  displayed  at  the  end  of the command execution.  The
                  various TOTALS quantities (files,  errors,  baud  rate,
                  and so on) can be individually controlled by specifying
                  the :list argument.  If  a  quantity-name  is  preceded
                  with  a  NO, that quantity will not be listed.  If more
                  than one quantity  is  specified,  separate  them  with
                  commas, and enclose the list with parentheses.  /TOTALS
                  or /TOTALS:ALL directs NFT to print a totals summary of
                  all applicable quantities at the completion (successful
                  or otherwise) of  the  current  command.   /TOTALS:NONE
                  instructs   NFT  to  omit  the  summary.   The  /TOTALS
                  quantities are:


                   o  BITS - List the total number of data bits.

                   o  BYTES - List the total number of data bytes.

                   o  WORDS - List the total number of 36-bit words.

                   o  RECORDS - List the total number of records.

                   o  BLOCKS - List the total number of 128-word blocks.

                   o  PAGES - List the total number of 512-word pages.

                   o  FILES - List the total number of files.

                   o  BAUD - List the effective data transfer rate  (bits
                      per second).




                                    6-4
                      NETWORK FILE TRANSFER USING NFT                      NETWORK FILE TRANSFER USING NFT


                   o  ERRORS - List the total number of execution errors.


                  The default quantities are WORDS,  BLOCKS,  FILES,  and
                  BAUD.  NFT ignores inappropriate arguments.

   /USERID:id     Use this  switch  to  specify  the  access  information
                  (userid,  account,  and  password) when using NFT for a
                  non-TOPS-10 host.  You include the /USERID switch  with
                  the file specification of the remote file.  If you omit
                  an argument from the switch, NFT prompts you  for  that
                  argument.   If  the  remote  host  does not require the
                  information, you can press the <RET> key.  The form  of
                  the /USERID switch is:

                       /USERID:uid:acct:psw

                  where uid is user-name, acct is an account string,  and
                  psw is a password.  If you omit the account or password
                  argument, you must still include  its  preceding  colon
                  (:).  For example, if you omit the password:

                       /USERID:smith:1776:

                  NFT prompts you for it.  You then  supply  a  password,
                  which NFT does not echo.

                  NFT automatically prompts you for access information if
                  you include /USERID without arguments in the form:

                       NFT   /USERID

                  You  can  include  this  command  and  switch  in  your
                  SWITCH.INI  file.   If  you  include arguments with the
                  /USERID switch in  SWITCH.INI,  you  are  specifying  a
                  particular   userid.   You  can  override  this  switch
                  setting by including an explicit /USERID:uid switch  on
                  a  command  line  to  NFT.   You  can  also use the SET
                  DEFAULT command to specify access information  for  one
                  or  all  remote nodes.  Defaults set this way apply for
                  the duration of the current NFT session.

                  For a TOPS-10 remote file, you can omit the PPN if  the
                  userid and the project-programmer number are identical.
                  For example, you can enter:

                  *DIRECT IRIS::[27,777]/USERID:27,777::FOO

                  as:

                  *DIRECT IRIS::/USERID:27,777::FOO
   Characteristics


                                    6-5
                      NETWORK FILE TRANSFER USING NFT                      NETWORK FILE TRANSFER USING NFT


   The NFT program:

        Requires LOGIN.

        Destroys your core image.

        Leaves your terminal at user level.


   Examples

        1.  Copy a file from  the  local  node  to  a  remote  VMS  host.
            Override the /USERID specified in your SWITCH.INI file.

                 .R NFT
                 *COPY ROSE::/USER=PLANNI
                 For remote ROSE::*.*
                  User-id: BARSTOW
                  Account: 
                  Password:
                  ROSE::COMMUNITY:[BARSTOW]PLANNI..2 <=
                 DSKC:[52,654]PLANNI
                 Total of 398 words in 4 blocks in 1 file at 20395 baud

        2.  Copy a file from a TOPS-20 host to a RSTS host  while  logged
            in  on a TOPS-10 host.  You must specify a /USERID switch for
            each remote host.

                 .R NFT
                 *COPY LILY::/USER=DAISY::PLANNING-GUIDE/USER
                 For remote DAISY::PLANNING-GUIDE.*
                  User-id: THRING
                  Account: 
                  Password:
                 For remote LILY::*.*
                  User-id: 15,177
                  Account: 
                  Password:
                  LILY::SY:[15,177]PLANNI <=
                 DAISY::PS:[THRING]PLANNING-GUIDE..5
                 Total of 483 words in 4 blocks in 1 file at 5851 baud

        3.  Delete all the files with name UUOSYM from a directory  on  a
            TOPS-20  host.  You must include the /USERID switch, but need
            not explicitly specify the directory because it is  the  same
            as the userid.

                 .R NFT
                 *DELETE DAISY::UUOSYM.*/USER
                 For remote DAISY::UUOSYM.*
                  User-id: THRING
                  Account: 


                                    6-6
                      NETWORK FILE TRANSFER USING NFT                      NETWORK FILE TRANSFER USING NFT


                  Password:
                 DAISY::PS:[THRING]UUOSYM.REL.1
                  DAISY::PS:[THRING]UUOSYM.UNV.1
                 Total of 33 blocks in 2 files

        4.  Access a directory not your own  on  a  remote  TOPS-10  host
            called  IRIS.   Since  your  account on the system allows you
            read access to the  directory,  you  can  specify  the  other
            directory and your userid and read the directory.

                 .R NFT
                 *DIRECT IRIS::[17,353]/USER
                 For remote IRIS::[17,353]*.*
                  User-id: 27,777
                  Account: 
                  Password:
                 IRIS::DSKA:[1,2]DSKA.BAK
                 IRIS::DSKA:[1,2]DSKA1.FUL
                 IRIS::DSKA:[1,2]INC.BAK
                 IRIS::DSKA:[1,2]FUL.BAK
                 IRIS::DSKA:[1,2]DSKA.INC
                 IRIS::DSKA:[1,2]INC.MIC
                 IRIS::DSKA:[1,2]FUL.MIC
                 Total of 7 files

        5.  To access  accounts  with  different  access  information  on
            several  remote nodes, set the default access information for
            all of them.

                 .R NFT
                 *SET DEFAULT ROSE::=/USER:BARSTOW:HAHA:HOHUM
                 *SET DEFAULT IRIS::=/USER:27,777:WRITER:FOFUM
                 *SET DEFAULT LILY::=/USER:15,177:SCHOLAR:FEEFI
                 *SET DEFAULT DAISY::=/USER
                 *COPY ROSE::=DAISY::FCC.ASC
                 For remote DAISY::FCC.ASC.*
                  User-id:thing
                  Account:
                  Password:
                                 .
                                 .
                                 .

        6.  Submit a command file to the VMS command  file  processor  on
            host ROSE:.  You have included a /USERID switch for that host
            in your SWITCH.INI file so you do not have  to  include  that
            switch in the command string.

                 .R NFT
                 *SUBMIT ROSE::ABVAX.CTL
                  ROSE::COMMUNITY:[BARSTOW]ABVAX.CTL.1
                 Total of 1 file


                                    6-7

























































                                    7-1












                                 CHAPTER 7                                 CHAPTER 7

                      CONTROLLING SUBJOBS USING OPSER                      CONTROLLING SUBJOBS USING OPSER



   Function


   The OPSER program allows you to control up to  14  subjobs  from  your
   terminal.   OPSER  acts  as  the  supervisor of the subjobs by passing
   monitor-level or user-level commands to all or  to  selected  subjobs.
   OPSER can retrieve output from the various subjobs.

   OPSER  subjobs  run  on  pseudo-terminals  (PTYs).   It  performs  all
   pseudo-terminal  initialization.   You  provide  the  subjob  name and
   either an  OPSER-provided  subjob  number  or  a  user-assigned  name.
   System programs or your programs that require a dedicated terminal can
   be run as subjobs of OPSER.  By running jobs on PTYs, OPSER  maintains
   an I/O link between you and the running jobs.


   Format

        R OPSER
        *:command

   where:  An asterisk (*) is the OPSER prompt if no subjobs are  in  use
           or  if  subjobs are waiting for commands.  OPSER responds with
           an exclamation point when a subjob is running.  You can  enter
           commands  whenever  OPSER  is operating.  Each command must be
           preceded by a colon and may be abbreviated to a unique set  of
           characters.

   Commands to OPSER and their functions are:

   _______                  ________   Command                  Function

   :AUTO/hh:mm              Processes the named file as a list of
    filename                interactive  commands.   The  AUTO  file   is
                            terminated  by  either  an end-of-file or the
                            operator typing a line on the console.   AUTO
                            files   may   call   other  files,  including


                                    7-1
                      CONTROLLING SUBJOBS USING OPSER                      CONTROLLING SUBJOBS USING OPSER


                            themselves.  The optional /hh:mm switch  sets
                            the  time to run the auto file.  If this time
                            has passed, the AUTO file runs immediately.

   :AUTO/+hh:mm             Processes the AUTO file after the amount
    filename                of time specified by the +hh:mm has elapsed.

   :AUTO/>hh:mm             Processes the AUTO file at the next
    filename                occurrence of hh:mm.

   :AUTO/<hh:mm             Does not process the AUTO file if time
    filename                has already gone past hh:mm.

   ^B                       Sends ^O (CTRL/O) to the subjob.

   ^C                       Returns you to monitor level even if you have
                            active   subjobs   running.   Use  the  :EXIT
                            command (described below) in most cases.

   :CLOSE                   Closes the log file  without  opening  a  new
                            one.

   :CONTINUE                Continues processing the AUTO file  after  it
                            has  been  interrupted  by  a  CTRL/C.   This
                            allows you to gain control of a subjob during
                            AUTO file processing.

   :CURRENT                 Displays the name of the current  subjob,  if
                            defined;  otherwise,  displays  the number of
                            the  current  subjob.   Output  from  another
                            subjob  does not affect the definition of the
                            current subjob.

   :DAYTIME                 Displays the current date and time.

   :DEFINE xxx=n            Associates the symbol xxx  as  the  name  for
                            subjob  n.   The symbol B is reserved for the
                            subjob running BATCON.

   :DEVICE dev:log:n        Assigns the device (dev:), and  logical  name
                            (log)  to  subjob  n.   The  logical  name is
                            optional, but you must include a  null  field
                            if  the logical name is omitted, for example,
                            :DEVICE CDR::3.  The REENTER  command  aborts
                            the request.

   :ERROR n,m,p             Displays  only  error  messages.   (That  is,
                            ignores  nonerror  messages  from  subjob n.)
                            Printing resumes with the :REVIVE command.

   :EXIT                    Exits to the monitor if subjobs  are  not  in
                            use; otherwise, give a list of those that are


                                    7-2
                      CONTROLLING SUBJOBS USING OPSER                      CONTROLLING SUBJOBS USING OPSER


                            running.  This  should  be  used  instead  of
                            CTRL/C,  because  :EXIT  does not return your
                            job to monitor level if there are any  active
                            subjobs.  (Also refer to :MONITOR.)

   :FREE                    Displays the first free subjob number.

   :HELP                    Displays text  that  briefly  explains  OPSER
                            commands.

   :JCONT n                 Continues the specified currently halted job.

   :KILL n,m,p              Logs out  the  specified  subjobs.   This  is
                            identical to :KJOB.

   :KJOB n,m,p              Logs out the specified  subjobs,  saving  all
                            files.

   :LOGIN proj,prog         Logs in a new subjob.  If you do not  type  a
                            project-programmer number, OPSER assumes your
                            project-programmer number.

   :MONITOR                 Exits to the monitor,  even  if  subjobs  are
                            running.

   :MSGLVL n                Determines whether the response to the  :WHAT
                            command  includes  the  JOBSTS bits.  If n=0,
                            the bits are  included.   If  n=1,  they  are
                            eliminated.   If  you  do  not specify n, the
                            JOBSTS bits are not included.

   :QUEUE <line>            Initiates the first free subjob and sends the
                            typed-in line to the system queue manager.

   :RESOURCES               Displays the list  of  the  available  system
                            resources.

   :REVIVE n                Resumes normal echoing of output from  subjob
                            n  (that  is, clears the effects of :SILENCE,
                            :TSILENCE, and :ERROR for subjob n).

   :SCHED                   Displays the schedule  bits  as  set  by  the
                            operator.

                            ___  _______                            Bit  Meaning

                            0    Regular timesharing.

                            1    No further LOGINs except from CTY.

                            2    No further LOGINs from remote terminals,
                                 and no answering of data sets.


                                    7-3
                      CONTROLLING SUBJOBS USING OPSER                      CONTROLLING SUBJOBS USING OPSER


                            4    Batch jobs only.

                            100  Device  MOUNTs  can  be   done   without
                                 operator intervention.

                            200  Unspooling allowed.

                            400  No operator coverage.

                            1000 No automatic down-line loading of nodes.

   :SEND                    Simulates the SEND command, sending a line of
                            text to the operator's terminal.

   :SILENCE n               Suppresses all output from subjob n.

   :SLOGIN proj,prog        Logs  one  subjob  in  but   suppresses   its
                            response.  If you omit the project-programmer
                            number, OPSER uses yours.

   :STOP n                  Puts the specified subjob at  monitor  level.
                            This  is  equivalent to typing two CTRL/Cs in
                            interactive mode.

   :SYSTAT x                Runs SYSTAT with argument x  over  the  first
                            free  subjob.   The argument can be any valid
                                                                  _______                            SYSTAT  argument.   (Refer  to  the   TOPS-10
                            _________   ______   ________   ______                            Operating   System   Commands   Manual.)  The
                            argument is optional.

   :TIME                    Displays the total  running  time  since  the
                            last   :TIME   command,   followed   by   the
                            integrated product of running time  and  core
                            size.

   :TLOG file-spec          Creates a log file with the  specified  name.
                            If  the  file  already  exists,  a message is
                            printed to  determine  whether  the  existing
                            file  should  be  superseded.   If not, OPSER
                            appends  the  file  to  the   existing   one.
                            Default for file-spec is OPSER.LOG on DSK:.

   :TSILENCE n              Suppresses all output from subjob n (same  as
                            the :SILENCE command) but places entries into
                            the log file.

   :TTYTST                  Tests this terminal by printing all the ASCII
                            characters   between   octal   40   and  174,
                            inclusive.

   :WHAT n,m,p              Prints the status of the specified subjobs on
                            the  terminal.   The status includes a SYSTAT


                                    7-4
                      CONTROLLING SUBJOBS USING OPSER                      CONTROLLING SUBJOBS USING OPSER


                            with the time, the time of the last input and
                            the last output, a listing of the JOBSTS bits
                            depending upon the value of :MSGLVL, and  the
                            time of the next timed AUTO file.

   :WHERE devn:             Prints  the  node  number  of  the   device's
                            physical location.

   When a  subjob  number  or  name  is  required  in  a  command  string
   (indicated  by  n,  m,  p),  you  can specify the subjob in any of the
   following ways:

         o  Omit it, in which case the last subjob typed into is used.

         o  Specify ALL, in which case all active subjobs are implied.

         o  Specify a decimal number, or a list of numbers  separated  by
            commas,  from  0  to  the  OPSER limit, which designates that
            particular subjob number.

         o  Specify a name, or a  list  of  names  separated  by  commas,
            previously  assigned  to a particular subjob with the :DEFINE
            command.


   Characteristics

   The OPSER program:

        Requires LOGIN.

        Destroys your core image.

        Places your terminal at user level.


   Example

   The following is an example of an automatic startup file.

        .TYPE SYS:TTY4.ATO<RET>
        :TLOG DSKN:OPSER4.LOG
        :SLOG
        :DEF L1=
        :SLOG
        :DEF L0=
        :SLOG
        :DEF M=
        :SLOG
        :DEF B=
        :TSILEN ALL
        L1-AS LPT1


                                    7-5
                      CONTROLLING SUBJOBS USING OPSER                      CONTROLLING SUBJOBS USING OPSER


        L1-R LPTSPL
        L1-FREEZ
        L1-MLIMIT 5000

        .

















































                                    7-6












                                 CHAPTER 8                                 CHAPTER 8

                       LOCAL FILE TRANSFER USING PIP                       LOCAL FILE TRANSFER USING PIP



   Function

   The PIP program transfers files between standard I/O  devices  at  the
   local system.  It can perform simple editing and magnetic tape control
   operations during transfer operations.


   Format

        R PIP
        * output file-spec(s)/switches = input file-spec(s)/switches

   where:  * is the PIP prompt; output file-spec and input file-spec  are
           file specifications which may include wildcards; and = (equals
           sign) separates the output from the  input  files.   You  must
           include this, even if you omit either file specification.

   /switch  is  one  or  more  of  the  options  described  below.   Each
   description  includes  any  restrictions on combining that switch with
   other switches.

   ______      _______   Switch      Meaning

   /A          Does not split lines between output buffers;  starts  each
               line with a new word.  Used for FORTRAN ASCII input.  This
               switch may be used with /C, /E, /G, /M, /N,  /O,  /Q,  /S,
               /V, and /Z.

   /B          Copies in binary mode.  This switch is legal with /G,  /M,
               /P, /Q, and /X.

   /C          Deletes trailing spaces and converts  multiple  spaces  to
               tabs.   You  can  use this switch with /A, /E, /G, /J, /M,
               /N, /O, /Q, /S, /T, /V, /W, /X, and /Z.

   /D          Deletes one or more files  from  the  destination  device.
               You  can  only specify a destination device in the command


                                    8-1
                       LOCAL FILE TRANSFER USING PIP                       LOCAL FILE TRANSFER USING PIP


               string.  You may use the /X switch with /D.

   /E          For card reader input, ignores card sequence numbers.   In
               other  words,  this  switch replaces characters in columns
               73-80 with spaces.  This switch can be used with  the  /A,
               /C, /G, /J, /M, /N, /O, /Q, /S, /X, and /Z switches.

   /F          Gives a limited (fast) version of the  directory  for  the
               specified device.  You may not use any other switches with
               this one.

   /G          Ignores I/O errors and continue processing  after  issuing
               an error message.  This switch is always legal.

   /H          Copies in image binary mode.  You can use /H with /G,  /M,
               /X, and /Z.

   /I          Copies in image mode.  You can use this  switch  with  /G,
               /M, /X, and /Z.

   /J          Converts    non-printing     control     characters     to
               control-character  format  for  terminal output.  That is,
               001, <CTRL/A>, is output as ^A.  /A, /C, /E, /M,  /W,  and
               /X are permitted with this switch.

   /L          Lists the directory for the  specified  device.   You  may
               only use /Z with this switch.

   (Mx)        Magnetic tape switches, enclosed in parentheses.  They are
               listed  below.   You  may  not use /D, /F, or /U with this
               switch.

               ______         _______               Switch         Meaning

               (M8)           800 bpi density (default value)
               (M5)           556 bpi density
               (M2)           200 bpi density
               (ME)           Even parity (odd parity is default)
               (M#nA)         Advance tape  reel  n  files.   #n  omitted
                              means one file.
               (M#nB)         Backspace tape reel n  files.   #n  omitted
                              means one file.
               (M#nD)         Advance tape reel n  records.   #n  omitted
                              means one record.
               (M#nP)         Backspace tape reel n records.  #n  omitted
                              means one record.
               (MW)           Rewind tape reel.
               (MT)           Skip to logical end-of-tape.
               (MU)           Rewind and unload.
               (MF)           Mark end-of-file.

   /N          Deletes line sequence numbers from an ASCII file.  If  tab


                                    8-2
                       LOCAL FILE TRANSFER USING PIP                       LOCAL FILE TRANSFER USING PIP


               follows  the  sequence  number, deletes the tab also.  You
               may use /A, /C, /E, /G, /M,  /Q,  /X,  and  /Z  with  this
               switch.

   /O          Resequences or adds line  sequence  numbers  to  an  ASCII
               file,  incrementing by 1.  You may use /A, /C, /E, /G, /M,
               /X, and /Z with this switch.

   /P          Converts  FORTRAN  format  control  characters  for   line
               printer listing.  You may use /B and /Z with this switch.

   /Q          Lists a summary of switches on the specified device.   You
               may not use /Q with /D, /F, /R, and /V.

   /R          Renames the source file to the  name  of  the  destination
               file.  /X may be used with /R.

   /S          Resequences or adds line  sequence  numbers  to  an  ASCII
               file,  incrementing  by  10.   /A,  /C, /T, and /Z are all
               valid with /S.

   /T          Deletes trailing spaces from the transferred file.   Keeps
               one  space  and  the line termintor for an all-space line.
               You may use /C, /S, and /Z with this switch.

   /U          Obsolete.

   /V          Matches angle brackets.  If there is  an  unmatched  angle
               bracket, creates a file listing those lines with unmatched
               angle brackets.  You may use /G, /M, and /Z with /V.

   /W          Converts tabs to spaces.  /C and /Z are  legal  with  this
               switch.

   /X and /DX  Copies  the  specified  files  without  concatenating  the
               files.   /DX  copies  all but the specified files.  If you
               omit the /X  switch,  PIP  concatenates  the  files  while
               copying.  You may not use /F or /L with this switch.

   /Y          Obsolete.

   /Z          Zeroes the  directory  of  the  destination  device.   PIP
               attempts  to  delete all the files named in the directory,
               depending on the protection codes.  You may not  use  this
               switch with /D or /R.

   PIP can transfer files in either ASCII or binary mode.  PIP  uses  the
   file  extension  in  the file specification to determine which mode to
   use.  Whenever possible, PIP transfers files in a binary mode since it
   is faster.  The binary modes are:  binary, image, and image binary.

   PIP performs a specific series of tests on a file extension  in  order


                                    8-3
                       LOCAL FILE TRANSFER USING PIP                       LOCAL FILE TRANSFER USING PIP


   to  determine  the mode to use during a transfer operation.  PIP looks
   for:

         o  The presence of a data mode switch.  If no switch  is  found,
            PIP goes to the next test.

         o  The presence  of  a  known  (standard)  file  extension  that
            specifies a binary mode of transfer.  If no binary extensions
            are found, PIP goes to the next test.

         o  The input and the output devices specified, to  determine  if
            they  are  capable of handling binary data.  If either of the
            devices cannot handle binary, the transfer is made  in  ASCII
            mode.   If  both  devices can handle binary data, PIP goes to
            the next test.

         o  The presence of the /X switch in the command string; if it is
            found,  the  transfer is made in binary mode.  If an X option
            is not found, PIP goes to the next test.

         o  The  presence  of  commas  (non-delimiters)  in  the  command
            string;  if commas are found, ASCII mode is indicated.  If no
            commas are found, the transfer is made in binary mode.


   Characteristics

   The PIP program:

        Requires LOGIN.

        Destroys your core image.

        Places your terminal at user level.


   Examples

        1.  Run PIP, and list your directory on your terminal.

                 .R PIP
                 *TTY:/L=

        2.  Transfer files from area [11,7]  to  your  directory  without
            concatenation.

                 *DSK:/X=DSK:[11,7]filea.rel,filea.mac

        3.  Combine all the files on the tape on MTA0:  into one file  in
            your directory.

                 *DSK:TAPE.MAC=MTA0:*


                                    8-4
                       LOCAL FILE TRANSFER USING PIP                       LOCAL FILE TRANSFER USING PIP


        4.  Rename the file MONI.MAC to MONI.CBL

                 *DSK:MONI.CBL/R=MONI.MAC

        5.  Change the directory access code of [57,123] to <222>.

                 *DSKA:[57,123].UFD<222>/R=[57,123].UFD

        6.  Transfer a file from MTA1:  to MTA2:  at 200  bpi  with  even
            parity.

                 *MTA2:(M2E)=MTA1:(ME2)

        7.  Backspace MTA0:  to the start of the previous file.  (MB)  is
            equivalent to (M#1B).

                 *MTA0:(MB)=

        8.  Backspace MTA2:  to the start of the current file.

                 *MTA2:(M#0B)=

































                                    8-5

























































                                    9-1












                                 CHAPTER 9                                 CHAPTER 9

                      LISTING DISK QUOTAS USING QUOLST                      LISTING DISK QUOTAS USING QUOLST



   Function

   The QUOLST program prints the amount of disk space used and the amount
   left  on  each  file  structure  in your search list.  In addition, it
   prints the amount of space the  file  structures  have  left  for  all
   users.  The information printed on your terminal is:

         o  The structure name.

         o  The number of blocks allocated.

         o  The number of blocks left in  the  logged-in  quota,  in  the
            logged-out quota, and on the structure.



   Format

        R QUOLST


   Characteristics

   The QUOLST program:

        Destroys your core image.

        Leaves your terminal at monitor level.


   Example

        .R QUOLST<RET>

        USER:  27,5434
        STR     USED     LEFT:(IN)   (OUT)   (SYS)
        DSKC:   1355     8645        3645    61995


                                    9-1
                      LISTING DISK QUOTAS USING QUOLST                      LISTING DISK QUOTAS USING QUOLST


        DSKB:     0     10000        5000    96870

        .



















































                                    9-2












                                 CHAPTER 10                                 CHAPTER 10

                     FORMATTING TEXT FILES USING RUNOFF                     FORMATTING TEXT FILES USING RUNOFF



   Function

   The RUNOFF program formats text files using commands you insert into a
   file.  You create the file and insert the RUNOFF commands using one of
   the standard TOPS-10 text editors.


   Format

        R RUNOFF
        *file-spec

   where:  * is the RUNOFF prompt; file-spec is a file specification with
           standard defaults and wildcard features.  The normal extension
           for a file that RUNOFF processes is .RNO.  The processed  file
           has  an  extension of .MEM.  You can queue this file to a line
           printer, or display it on your terminal.

   The commands listed below are inserted into the  text  file  to  cause
   RUNOFF  to  perform  some  action.   All  RUNOFF commands begin with a
   period (.).  You can abbreviate all commands.

   Some commands require either numeric or  text  arguments.   In  either
   instance,  you  type  the  command,  one space, and then the argument.
   When you have several commands to input, you can list all of  them  on
   one line, separating them with periods.  However, if the first command
   has a comment or takes text as its argument, you must use a  semicolon
   to separate the commands.  Comments must be preceded by an exclamation
   point (!).

   _______                  ________   Command                  Function

   .APPENDIX "text"         Starts appendix with "text" as its name.

   .AUTOPARAGRAPH           Treats leading spaces as new paragraph.

   .AUTOTABLE               Treats lines without leading  spaces  as  new


                                    10-1
                     FORMATTING TEXT FILES USING RUNOFF                     FORMATTING TEXT FILES USING RUNOFF


                            paragraph.

   .BEGIN BAR               Starts a change bar,  which  appears  in  the
                            left hand margin.

   .BLANK n                 Skips n lines.

   .BREAK                   Starts a new output line.

   .CENTER n                Centers the next line around column n/2.

   .CHAPTER "text"          Starts chapter with text as name.

   .COMMENT                 Ignores this command.

   .CONTROL CHARACTERS      Allows control characters  to  print  in  the
                            text.

   .DISABLE BAR             Ignores change bars.

   .DO INDEX "title"        Outputs index with rest of line as title.

   .ELSE                    Changes sense of IF/IFNOT.

   .ENABLE BAR              Allows change bars.

   .ENDIF name              Ends conditional input.

   .END BAR                 Ends change bar.

   .END FOOTNOTE            Ends a footnote definition.

   .END LIST                Ends a list.

   .END LITERAL             Ends a literal block of text.

   .END NOTE                Ends a NOTE command.

   .END SELECTION           Stops selection until single line prefix.

   .END SUBPAGE             Stops subpage numbering (resumes page).

   .FIGURE n                Makes space for n-line figure.

   .FIGURE DEFERRED n       Same as FIGURE except the figure  may  be  on
                            next page.

   .FILL                    Resumes filling and justifying each line.

   .FIRST TITLE             Includes title on first page.

   .FLAGS ALL               Enables existing flag characters.


                                    10-2
                     FORMATTING TEXT FILES USING RUNOFF                     FORMATTING TEXT FILES USING RUNOFF


   .FLAGS type "ch"         Changes flag character of the specified  type
                            to "ch".

   .FOOTNOTE n              Starts n-line footnote.

   .HEADER x                Issues "page" in case x, where  x  is  UPPER,
                            LOWER, or MIXED case.

   .HEADER LEVEL n          Starts section at  level  n  (1-5);  rest  is
                            name.

   .IF                      Starts conditional input if VARIANT name.

   .IFNOT name              Starts conditional input if not VARIANT name.

   .INDENT n                Indents next line n spaces.

   .INDEX                   Inserts rest of this line in index.

   .JUSTIFY                 Resumes justifying text.

   .LEFT n                  Starts next line n columns from left margin.

   .LEFT MARGIN n           Sets left margin.

   .LIST n                  Starts list of items with spacing n.

   .LIST ELEMENT            Starts of item in a list.

   .LITERAL n               Starts a literal block of text n lines long.

   .LOWER CASE              Starts footnotes and text in lower case.

   .NO AUTOPARAGRAPH        Stops autoparagraph mode.

   .NO AUTOTABLE            Stops autotable mode.

   .NO CONTROL CHARACTERS   Does not allow control characters.

   .NO FILL                 Stops fill and justify.

   .NO FLAGS ALL            Disables existing flag  characters  except  .
                            and !.

   .NO FLAGS type           Does not use flag characters of the specified
                            type.

   .NO HEADER               Suppresses page headers.

   .NO JUSTIFY              Stops justifying.

   .NO NUMBER               Stops page numbering.


                                    10-3
                     FORMATTING TEXT FILES USING RUNOFF                     FORMATTING TEXT FILES USING RUNOFF


   .NO PAGING               Stops splitting into pages.

   .NO PERIOD               Stops   double    spacing    after    period,
                            exclamation   point,  semicolon,  colon,  and
                            question mark.

   .NO SELECTION            Accepts all text as input.

   .NO SPACE                Suppresses space on this end of line.

   .NO SUBTITLE             Suppresses subtitles.

   .NOTE text               Starts  indented  note  with  heading  "text"
                            centered.   If  you  omit "text," RUNOFF uses
                            the heading NOTE.

   .NUMBER n                Resumes page numbering at page n.

   .NUMBER APPENDIX n       Sets appendix number to n.

   .NUMBER CHAPTER n        Sets chapter number to n.

   .NUMBER INDEX            Sets chapter number to "INDEX".

   .NUMBER LEVEL            Sets next HEADER LEVEL to a, b, c,...
     a, b, c,...

   .NUMBER LIST d, c        Sets list counter depth d to c.

   .NUMBER PAGE n           Resumes page numbering at page n.

   .NUMBER SUBPAGE ch       Sets subpage number to ch (A-Z).

   .PAGE                    Starts new page.

   .PAGE SIZE n,m           Sets page size to n lines by m columns
   .PAPER SIZE n,m          Sets paper size to n lines by m columns.

   .PAGING                  Resumes breaking into pages.

   .PARAGRAPH n, v, t       Starts a new paragraph,  indented  n  spaces,
                            starting  v  blank  lines  below the previous
                            paragraph, and having  t  as  the  TEST  PAGE
                            value.

   .PERIOD                  Double  spaces  after   period,   exclamation
                            point, semicolon, colon, and question mark.

   .PRINT INDEX             Starts printing index.

   .RIGHT n                 Right adjusts next line n columns left of the
                            margin.


                                    10-4
                     FORMATTING TEXT FILES USING RUNOFF                     FORMATTING TEXT FILES USING RUNOFF


   .RIGHT MARGIN n          Sets right margin to n.

   .SELECTION string        Sets selection string.

   .SKIP n                  Skips n*spacing lines.

   .SPACING n               Sets spacing (default=1).

   .STANDARD n              Sets standard setup of width n.

   .SUBINDEX                Indexes with "#" used to delimit sub-indices.

   .SUBPAGE                 Starts subpage numbering.

   .SUBTITLE or .SUBTTL     Uses rest of line as subtitle.

   While inputting your text, you have the option  of  including  special
   characters  to  alter  the  case  and mode operations.  You type these
   characters immediately before the word or group of words you  want  to
   arrange.   Just  like RUNOFF commands, these special characters do not
   appear in your output after running RUNOFF.  Special  text  characters
   include:

     ____     Flag
   _________                ________   Character                Function

   Underscore (_)           Takes next character as text.

   Circumflex (^)           Uppercases next character.

   Back-slash (\)           Lowercases next character.

   Number sign (#)          Treats as an expandable space.

   Ampersand (&)            Underlines next character.

   Less-than (<)            Capitalizes the following word.

   Greater-than (>)         Indexes the following word.

   Exclamation point (!)    Ends footnote or begins comment.

   Period (.)               Treats what follows as a RUNOFF command.

   Semicolon (;)            Used to separate multiple commands.


   Characteristics

   The RUNOFF program:

        Requires LOGIN.


                                    10-5
                     FORMATTING TEXT FILES USING RUNOFF                     FORMATTING TEXT FILES USING RUNOFF


        Destroys your core image.

        Places your terminal at user level.



   Examples

        1.  Use the .LIST and .LIST ELEMENT commands to create a list.

                 .NF.LS
                 .LE;Page numbers on every page except the first,
                 .LE;Spacing 1 between lines,
                 .LE;Fill and justify,
                 .LE;Tab stops 9,17,25,33,41,49,57,65,
                 .LE;Left margin 0,
                 .LE;Right margin 60,
                 .LE;Page size - Width 60 characters, Length 58 lines.
                 .ELS

            Your output would look like the following:

                 1.  Page numbers on every page except the first,

                 2.  Spacing 1 between lines,

                 3.  Fill and justify,

                 4.  Tab stops 9,17,25,33,41,49,57,65,

                 5.  Left margin 0,

                 6.  Right margin 60,

                 7.  Page size - Width 60 characters, Length 58 lines.

        2.  To get header levels in your text, you can insert commands in
            your text as follows:

                 .FLAG CAPITALIZE
                 .CHAPTER EXAMPLE 5
                 .HL 1 FIRST LEVEL OF SECTION 1
                 The command .<HEADER <LEVEL starts a section at the level
                 specified and takes the following text as the header.##The
                 n can be in the range from 1 to 5.
                 .HL 1 SECOND LEVEL OF SECTION 1
                 The sections are incremented by 1, and the number is
                 output in the form i.j.k.l.m.##If this is a chapter 
                 oriented document, the i is the chapter number;#otherwise, the
                 i is the number of the .<HI 1 level.
                 .HL 1 THIRD LEVEL OF SECTION 1
                 This command acts as


                                    10-6
                     FORMATTING TEXT FILES USING RUNOFF                     FORMATTING TEXT FILES USING RUNOFF


                 .SKIP 3;.NOFILL
                          .<BREAK .<TEST <PAGE 9;.<BLANK 3
                 .SKIP 3;.FILL
                 followed by the section number.##<HEADER <LEVEL<S 1 AND 2
                 end with a .<BREAK.##<HEADER <LEVEL<S 3, 4, AND 5 end with
                 a space dash space combination (_#-_#).



   Your output would look like:












                                 CHAPTER 1

                                 EXAMPLE 5



   1.1  FIRST LEVEL OF SECTION 1

   The command .HEADER LEVEL starts a section at the level specified  and
   takes  the  following  text  as the header.  The n can be in the range
   from 1 to 5.



   1.2  SECOND LEVEL OF SECTION 1

   The sections are incremented by 1, and the number  is  output  in  the
   form  i.j.k.l.m.  If this is a chapter oriented document, the i is the
   chapter number; otherwise, the i is the number of the .HL 1 level.



   1.3  THIRD LEVEL OF SECTION 1

   This command acts as


        .BREAK .TEST PAGE 9;.BLANK 3




                                    10-7
                     FORMATTING TEXT FILES USING RUNOFF                     FORMATTING TEXT FILES USING RUNOFF


   followed by the section number.  HEADER LEVELs 1  and  2  end  with  a
   .BREAK.   HEADER  LEVELS  3,  4,  and  5  end  with a space dash space
   combination (#-#).



















































                                    10-8












                                 CHAPTER 11                                 CHAPTER 11

                     SETTING SEARCH LISTS USING SETSRC                     SETTING SEARCH LISTS USING SETSRC



   Function

   You can use the SETSRC program to change your job search list  or  the
   system search list.  You must be logged in under [1,2] to create a new
   system search list.  A search list is the order of the file structures
   that  are to be searched whenever you implicitly or explicitly specify
   the generic device DSK:.  The system manager  originally  defines  the
   search  list to include the file structures that you can access.  With
   the SETSRC program, you  can  alter  the  search  list  by  adding  or
   deleting file structures.

   The search list is of the form:

        fs1:, fs2:, fs3:, FENCE, fs4:

   where:  fs is the name of the file structure.

   The file structures on the left of the FENCE form  the  active  search
   list  and represent the generic device DSK:  for your job.  The active
   search list is  a  list  of  the  file  structures  that  the  monitor
   searches,  and  the  order  in  which  the  file  structures are to be
   searched.  The search goes from left to right.

   The files to the right of the FENCE compose the  passive  search  list
   and  represent the file structures that were once in the active search
   list.  File structures are kept in the passive  search  list  so  that
   quotas  can be checked on a DISMOUNT or KJOB command; these structures
   are not searched.  The FENCE is the boundary between  the  active  and
   passive search lists.

   You can change the job's  search  list  by  adding  or  deleting  file
   structures, using the MOUNT and DISMOUNT commands.  Because the SETSRC
   program does not create a UFD if one does not  exist,  use  the  MOUNT
                                                 _______ _________ ______   command  to  create  a  UFD.   Refer  to  the TOPS-10 Operating System
   ________ ______   Commands Manual for a description of the MOUNT and DISMOUNT commands.




                                    11-1
                     SETTING SEARCH LISTS USING SETSRC                     SETTING SEARCH LISTS USING SETSRC


   Format

        R SETSRC
        *command/switch

   When the program prompt (*) appears, you can respond with any  of  the
   following commands:

   _______             ________   Command             Function

   A fs1, fs2,...      Adds one or more file structures to  the  existing
                       active search list.  The file structures (with any
                       switches) are appended to the beginning or the end
                       of   the  active  search  list  according  to  the
                       following specifications:

                        o  If no asterisk appears in  the  specifications
                           (for  example,  fs1,  fs2)  or  if an asterisk
                           appears before the file structure  names  (for
                           example,  *,fs1, fs2), the file structures are
                           added to the end of the search list.

                        o  If an  asterisk  follows  the  file  structure
                           names  (for  example,  fs1, fs2, *,), the file
                           structures are added to the beginning  of  the
                           search list.

                        o  If the asterisk appears in the middle  of  the
                           file  structures  (for  example, fs1, *, fs2),
                           the file structures before  the  asterisk  are
                           added  to the beginning of the search list and
                           the file structures  after  the  asterisk  are
                           added to the end.

   C fs1,fs2,...       Creates a new search list for this job.  Any  file
                       structures in the current search list that are not
                       in the new list are moved to  the  passive  search
                       list.

   CP[dir]             Creates a new default directory  path.   You  must
                       specify the new path with this command.

   CS fs1,fs2,...      Creates a new system search  list  (that  is,  the
                       file  structure search list for device SYS:).  You
                       must be logged in under [1,2] to use this command.

   H                   Prints  information  (HELP)  about  the  available
                       commands.

   M/switch            Modifies  the  current  search   list   and   DSK:
                       specification  by altering the switch settings for
                       individual file structures.  This command does not


                                    11-2
                     SETTING SEARCH LISTS USING SETSRC                     SETTING SEARCH LISTS USING SETSRC


                       add  or  remove  file  structures  from the search
                       list.

   R fs1,fs2,...       Removes file  structures  from  the  search  list.
                       They  are  placed into the passive search list, so
                       that on subsequent  LOGOUTs  or  DISMOUNTs,  quota
                       limits  can  be  checked.   This  command does not
                       affect ersatz devices.

   T                   Prints the job search list.

   TP                  Prints the default directory path.

   TS                  Prints the system search list.

   You can use the following  switches  in  the  SETSRC  command  string.
   Switches that modify file structures must appear immediately after the
   file structure name that  they  modify.   Other  switches  can  appear
   anywhere  in  the  command string.  The switches can be abbreviated as
   long as the abbreviation is unique.

   Switch              Function

   /CREATE             Allows  new  files  to  be  created  on  the  file
                       structure.  This is the default.

   /LIB:[proj,prog]    Used with the C or M command only, /LIB  sets  the
                       job's library directory to the UFD [proj,prog] and
                       adds it to your DSK:  specification.   This  means
                       that if a file is not found in your directories in
                       your search list, the library directory will  then
                       be  searched  for  the  file.   If  you  only type
                       LIB:[PPN] to SETSRC, it interprets this as M/LIB.

   /NEW                Adds   the   directory   [1,5]   to   your    SYS:
                       specification.   This  means  that when the system
                       directory is searched, the directory [1,5] will be
                       searched  before the directory [1,4].  This switch
                       can be typed in directly as a command by  omitting
                       the   C  or  M  command  and  the  slash  (NEW  is
                       equivalent to M/NEW).

   /NOCREATE           Does not allow new files to be created on the file
                       structure  when you specify DSK:, but allows files
                       to be superseded.  Files can  be  created  on  the
                       file  structure  if you specify the file structure
                       name explicitly.  You may specify this  switch  as
                       /N.

   /NOLIB              Removes  the  library  directory  from  your  DSK:
                       specification.  This switch is only valid with the
                       C or M command.


                                    11-3
                     SETTING SEARCH LISTS USING SETSRC                     SETTING SEARCH LISTS USING SETSRC


   /NONEW              Removes  the  [1,5]  directory  from   your   SYS:
                       specification.  This switch is only valid with the
                       C or M command.

   /NOSCAN             Cancels the scan switch for  the  directory  path.
                       You  can use this switch only with the CP command.
                       If  you  type  NOSCAN  at   the   prompt,   SETSRC
                       interprets it as CP[dir]/NOSCAN.

   /NOSYS              Removes the SYS:   specification  from  your  DSK:
                       specification.  This switch is only valid with the
                       C or M command.

   /NOWRITE            Does not allow writing on the file  structure  for
                       this   job   (that   is,  the  file  structure  is
                       read-only).  You may specify this switch as /R.

   /SCAN               Sets the scan switch for the directory path.  When
                       you  search for a file, scanning allows the search
                       to include higher-level SFDs and the UFD.  You can
                       use  this switch only with the CP command.  If you
                       type SCAN at the prompt, SETSRC interprets  it  as
                       CP[dir]/SCAN.

   /SYS                Adds  the  SYS:   specification   to   your   DSK:
                       specification.   If a file cannot be found in your
                       directories in your search list or in your library
                       directory    (if    /LIB:[proj,prog]    has   been
                       specified), the system directory [1,4]  will  then
                       be  searched  for  the  file.   This switch can be
                       typed in directly as a command by omitting  the  C
                       or  M  command and the slash.  For example, SYS is
                       equivalent to M/SYS.

   /WRITE              Allows writing on the file structure.  This is the
                       default.


   Characteristics

   The SETSRC program:

        Places your terminal at user level.

        Destroys your core image.


   Example

   Your search list is defined as DSKB:.

        .R SETSRC<RET>


                                    11-4
                     SETTING SEARCH LISTS USING SETSRC                     SETTING SEARCH LISTS USING SETSRC


        *T<RET>
        *DSKB:, FENCE

   Add DSKA:  to the end of the search list.

        *A DSKA:<RET>

   Your search list is now defined as DSKB:,DSKA:.

        *T<RET>
        DSKB:,DSKA:,FENCE

   Add DSKC:  to the beginning of the search list.

        *A DSKC:,*<RET>

        *T<RET>

        DSKC:,DSKB:,DSKA:,FENCE

   Remove DSKA:  from the search list.

        *R DSKA:<RET>

        *T<RET>

        DSKC:,DSKB:,FENCE,DSKA:

   Disable writing on DSKB:.

        *M DSKB:/NOWRITE<RET>

   Set your library directory  to  [27,500]  and  add  it  to  your  DSK:
   specification.

        *M/LIB:[27,500]<RET>

   Add SYS:  to your search list.

        *SYS<RET>

        *T<RET>
        /LIB:[27,500]/SYS DSKC:,DSKB:/NOWRITE,FENCE,DSKA:

   Your DSK:  and SYS:  specifications are listed first, followed by your
   search list.

        *TS<RET>

   The system search list is defined as DSKA:,DSKB:,DSKC:.

        *DSKA:,DSKB:,DSKC:


                                    11-5
                     SETTING SEARCH LISTS USING SETSRC                     SETTING SEARCH LISTS USING SETSRC


        .





















































                                    11-6












                                 CHAPTER 12                                 CHAPTER 12

                 DISPLAYING SYSTEM STATISTICS USING SYSDPY                 DISPLAYING SYSTEM STATISTICS USING SYSDPY



   Function

   The SYSDPY program allows you to display system status and the  status
   of  network links and user jobs, formatted for your particular type of
   terminal.  SYSDPY features a display-oriented output format with  many
   commands  for  controlling  the types of information to include in the
   display.

   When you first start the SYSDPY program, it displays the status of the
   user  jobs  and  the  system  statistics.  It is ready to receive user
   commands at any time.  Your commands are not echoed on the screen, but
   are reflected in the changes in the display.


   Format

   To start the SYSDPY program,  type  the  R  command  followed  by  the
   special  version of SYSDPY that is designed for your type of terminal.
   The different versions of SYSDPY and the terminal types for which they
   are designed are:

        _______      ________        Version      Terminal

        SYSDPA       DIGITAL VT05A
        SYSDPB       DIGITAL VT05B (2400 baud)
        SYSDPY       DIGITAL VT06 (Datapoint 3300)
        SYSVBX       DIGITAL VB10C graphics display
        SYSV50       DIGITAL VT50
        SYSV52       DIGITAL VT52
        SYSV61       DIGITAL VT61
        SYSANS       DIGITAL VT100 or other ANSI terminal
        SYSDLT       Delta Data Telterm
        SYSHLZ       Hazeltine 2000

   Any unprivileged user can run SYSDPY, but the output of certain system
   statistics  is  restricted to privileged jobs only.  If you are logged
   in as [1,2], or your job has SPY privileges, you can use all available


                                    12-1
                 DISPLAYING SYSTEM STATISTICS USING SYSDPY                 DISPLAYING SYSTEM STATISTICS USING SYSDPY


   SYSDPY commands.

   When SYSDPY first starts running,  it  displays  the  normal  job  and
   system  status  (equivalent  to  the N command).  At any time, you can
   type any of the one-letter  commands  described  below,  which  change
   either  the type of information displayed, or allow you to control the
   display of information.   The  file  DOC:SYSDPY.MAN  contains  a  full
   description  of  the  information in the various displays.  You do not
   need to press RETURN after you type a SYSDPY command.   To  exit  from
   SYSDPY, type <CTRL/Z> or <CTRL/C>.

   If you need help, type H.  This prints a short  listing  of  available
   commands.

   Commands to SYSDPY are:

   A       Changes SYSDPY's normal scroll setting to  no-scroll.   SYSDPY
           usually  scrolls  through the display, advancing one screenful
           each update pass.  (Refer to the + and - commands.)

   C       Displays the DECnet link status for  all  open  links  on  the
           system.

   E       Displays  Ethernet  status.   This   includes   all   Ethernet
           channels,  all  KLNI  controllers, and enabled protocol types.
           The E command summarizes datagram traffic and the  free  queue
           errors.

   F       Lists file system statistics for each disk unit in the system.
           This   information   includes  I/O  counts,  error  summaries,
           structure membership, and a summary of swapping units.

   H       Lists the help text.

   I       Lists incremental statistics, which  are  changes  in  certain
           values  since  the  last update cycle.  The values incremented
           are:  system uptime, job runtimes, disk reads and writes,  CPU
           statistics,  network  I/O  (byte)  counts, TTY I/O counts, and
           network message counts.  A + (plus sign) immediately preceding
           the uptime value indicates incremental mode.

   J       Lists jobs only, without any system statistics.  The jobs  are
           listed in columns.

   K       Displays CI network information, including open paths to nodes
           on  the  CI network, packet transmission and reception counts,
           and port recoverable error counts.

   L       Writes   the   contents   of   the   screen   to   the    file
           LPT:SYSDPY.LOG[-].   SYSDPY  logs  the  screen each time it is
           updated.  If this log file already exists, SYSDPY appends  the
           new  data  to  it.  A form feed separates each screen.  Typing


                                    12-2
                 DISPLAYING SYSTEM STATISTICS USING SYSDPY                 DISPLAYING SYSTEM STATISTICS USING SYSDPY


           <CTRL/Z> to SYSDPY closes the file.

   M       Lists normal job data and an expanded memory  summary  showing
           both virtual and physical job memory usage.  The M job display
           does not show system statistics.

   N       Lists the default statistics, which include a  column  of  job
           status information, and a column of system status information.
           Some of the system statistics listed are  CPU  idle  and  lost
           time, and available disk structures.

   O       Suppresses statistics from [1,2] jobs for  the  J,  N,  and  M
           displays.  A second O command resumes display of [1,2] jobs.

   Q       Lists the system queues, just as the QUEUE program  does,  but
           in DPY mode.  This command requires GALAXY Version 4 or later.

   R       Refreshes the entire screen immediately.  SYSDPY automatically
           refreshes  the  screen  at various intervals, depending on the
           terminal in use.  The R command resets the  automatic  refresh
           counter.

   S       Changes the SYSDPY display from the default to the disk reads,
           disk  writes,  and  the user name for all jobs listed in the N
           display.  SYSDPY resumes displaying system statistics when you
           type the S command a second time.

   T       Displays ANF network topology and the NCL  numbers  associated
           with each node.  This display requires PEEK or SPY privileges.

   V       Attempts to lock SYSDPY  in  memory  and  run  it  in  a  high
           priority  run  queue  (HPQ).   In addition, SYSDPY updates the
           screen once per second, unless you previously set  the  update
           time  to  another  value  (using  the  W command).  A second V
           command clears the lock and  HPQ  setting,  and  restores  the
           update  time  to ten seconds.  If you issued a SET HPQ command
           before running SYSDPY,  the  V  command  locks  the  job,  but
           doesn't change the HPQ.

           SYSDPY automatically clears the  V  state  after  1000  update
           cycles,  or  if  you  issue  a Q command.  The system does not
           issue an error message if SYSDPY fails to lock or run in  HPQ.
           This command requires LOCK or HPQ privileges.

   nW      Sets the wait time between screen updates to n  seconds.   The
           default  update  time is ten seconds, and one second for the V
           display.  You may specify n as any number between  0  and  60.
           Zero  means  one  clock  tick.   If you do not specify a time,
           SYSDPY assumes the default wait time of ten seconds.

   Z       Lists all known LAT servers and some LAT traffic statistics.



                                    12-3
                 DISPLAYING SYSTEM STATISTICS USING SYSDPY                 DISPLAYING SYSTEM STATISTICS USING SYSDPY


   \       Displays ANF network statistics.   This  information  includes
           the  number of network messages sent and received according to
           message type (such as DATA or NEIGHBORS), a histogram  of  the
           data  messages sent and received as a function (log base 2) of
           the data message size, and network free core usage.

   *       Displays the DECnet node status for all nodes  in  the  DECnet
           network.   Use  the  A  command to change the display from all
           network nodes to just those nodes with active links.  Use  the
           ^  command  (described  below)  to change the display from all
           known nodes to only those nodes with which the local node  has
           had contact.

   n+      Advances the screen by n lines or n  jobs,  depending  on  the
           current display.  If you do not specify n, SYSDPY advances one
           screen.  When you type the + command,  you  clear  auto-scroll
           (refer to the A command).

   n-      Scrolls the screen backwards by n lines or jobs, depending  on
           the current display.  If you do not specify n, SYSDPY reverses
           one  screen.   When  you  type  the  -  command,   you   clear
           auto-scroll (refer to the A command).

   !       Displays idle jobs or DECnet nodes, depending on  the  current
           display.   Typing  the  !  command again stops display of idle
           jobs or nodes.

   #       Changes the listing in the "Where" column of the  job  display
           from  the  PTY  number  to the controlling job number of a job
           being controlled by another job.

   %       Changes the listing in the "Runtime" column of the job display
           from  the actual runtime to the percentage of the CPU that the
           runtime represents.

   ^       Eliminates certain statistics from the  display.   For  the  N
           display,   the   first  part  of  the  system  statistics  are
           eliminated, for a DECnet display, non-valid delay  time  nodes
           are   not   shown,  and  for  the  F  display,  error  summary
           information is not included.

   <ESC>   Freezes the current screen until you type another command.

   SPACE   Updates the screen display immediately, but  does  not  change
           any SYSDPY parameters.


   Characteristics

   The SYSDPY program:

        Destroys your core image.


                                    12-4
                 DISPLAYING SYSTEM STATISTICS USING SYSDPY                 DISPLAYING SYSTEM STATISTICS USING SYSDPY


        Requires LOGIN.

        Places your terminal at user level.


   Example

   Run SYSDPY on a VT100 terminal to examine job and  system  statistics.
   SYSDPY  continually  scrolls  through this information; you can type a
   command at any time to alter the display.


   .R SYSANS<RET>

   Job  Who  Where What  #P State Runtime  This is RL417A DEC10 Development
   1  [OPR]  D156 STOMPR 26 SL    00:01.81 08-Mar-90 12:08:01 UP:30:53:43 
   2  [OPR]  D156 QUASAR 118 HS V 02:52.16      ID OV LS  UPTIME   CTX UUO DBL CSH
   3  [OPR]  D156 ACTDAE 106 HS V 02:06.93 CPU0 80 22  0 30:53:43    3  24   2   1
   4  [OPR]   CTY OPR    66 HB V  00:03.46 CPU1 86  9  0 30:53:45    3  24   3   2
   5  [OPR]  D156 NML    34 HB V  05:35.66 CPU2 88  9  0 30:53:39    2  10   3   1
   6  [OPR]  D156 ORION  77 HS V  00:15.91      DSKI DSKO SWPI SWPO MTAI MTAO
   7  [OPR]  D156 NEBULA 66 HB V  00:01.60 CPU0    3    1    0    0    0    0
   8  [OPR]  D156 CATLOG 127 HB V 00:00.76 CPU1   10    0    0    0    0   20
   9  10,56   75  SPACE  10 ^C    07:00.91 CPU2    4    0    0    0    0    0
   10 [OPR]  D156 FAL-10 187 HS   01:56.21 ANF In:0    Out:1    Cor:2170
   11 [OPR]  D156 MX     108 HB V 03:19.28 DCN In:3103 Out:33   Blk:6/80=8%
   12 10,6030 74  MS     174 ^C   00:48.91 ETH In:4315 Out:116  Dgm:71/1
   13 [SELF]  J27 SYSANS 25 RN+   00:01.00 TTY In:0    Out:30   Cnk:548/1072=51%
   14 [OPR]  D156 MIC    22 HS    00:11.43 IPCF S:10   Out:0    W/P:23/6
   15 30,6014 77         4  ^C    00:20.90 Mem:1000/6726 Shr:352 JRN:1/1/18
   16 [OPR]   30  SYSTAT 25 ^C    00:07.83 Use:1292/1944 Swp:652/99664 ASR:.00
   17 [OPR]   100 DIRECT 52 ^C    00:07.25 FRU:9604/25632=37.46%
   18 30,5674 102 MS     166 ^C   01:02.55 HDE:2 POK:12/22
   19 10,115 D100 CALNDR 24 ^C    00:02.21 Job:28/100 Det:16
   20 [OPR]  D156 FILDAE 21 SL    00:48.43 Struc  Mnt  Free    Struc  Mnt  Free
   21 [OPR]  D156 DAEMON 11 HB+   00:05.96 1026   0   272220   DSKS   1   78250
   22 10,2100 105 DC     5  ^C    00:43.01 DSKD   0   97540    GENL   0   177610
   23 [OPR]  D156 DTELDR 19 HS    02:46.96 DSKP   3   266500   DSKN   3   525250
















                                    12-5
                 DISPLAYING SYSTEM STATISTICS USING SYSDPY                 DISPLAYING SYSTEM STATISTICS USING SYSDPY


   Now type the E command to SYSDPY to examine Ethernet status.  When you
   type the command, it does not echo on your terminal.

   E

   Ethernet Status of RL226A DEC10 Development dd-mmm-yy hh:mm:ss UP:05:00:46

   Chan/Kont     State      E-Net Address          DgmXmt     DgmRcv
   ETH-0         Online   AA-00-04-00-6E-1C         35048     107327
     NI-0        Online   AA-00-03-03-00-22         34395     100269
     NI-1        Online   AA-00-03-03-00-13           653       7058

   Protocol         State    Kont      User         DgmXmt     DgmRcv    FQE
     60-04 LAT      Online   NI-0   System           34365      97026      5
     90-00 Loopback Online   NI-0   System               0          2      0
     60-02 RmtCon   Online   NI-0   System              30       3239      0
     -Inf-          Online          Job 17 Ctx 1         0          0      0
     60-01 DNA/MOP  Online   NI-0   Job 17 Ctx 1         0          2      0
     60-03 DECnet   Online   NI-1   System             653       7058      3
     -Inf-          Online          Job 23 Ctx 1         0          0      0

   Exit from SYSDPY by typing <CTRL/Z>.
































                                    12-6
                                        
























































                                    12-7
                                        


                                   INDEX



               -A-               -A-                     Directories, 2-1
                                       Directory paths, 11-2
   Accessing tapes, 1-1                Disks, 9-1
   Action commands, 1-1                Displaying system statistics,
     runtime commands, 1-3                 12-1
     switches, 1-2
                                                   -E-   Active search list, 11-1                        -E-
   ANF network topology, 12-3
   ASCII source file comparison, 4-3   Ersatz devices, 2-1
   Assembly listing, 3-1               Ethernet, 12-2
   AUTO files, 7-1
                                                   -F-                                                   -F-
               -B-               -B-
                                       FENCE, 11-1
   Backing up files, 1-1               FILCOM
   BACKUP                                examples, 4-6
     examples, 1-8                       program, 4-1
     prompts, 1-3                      File Access Listener (FAL), 6-1
   Baud rate, 6-3                      File transfer, 6-1
   Binary                              Flags in GLOB output, 5-3
     file comparison, 4-2
                                                   -G-     files, 5-1                                    -G-
     mode, 6-4
     transfer modes, 8-3               GLOB
                                         example, 5-4
               -C-               -C-                       program, 5-1
                                       Global symbols, 5-1
   Changing directory paths, 11-2
                                                   -H-   CI network information, 12-2                    -H-
   Commands
     to NFT, 6-1                       High-segment files, 4-3
     to OPSER, 7-1
                                                   -L-     to RUNOFF, 10-1                               -L-
     to SETSRC, 11-2
     to SYSDPY, 12-2                   Listing global symbols, 5-1
   Comparing files, 4-1                Local file transfer, 8-1
   Compressed core image files, 4-3    Logged-in quota, 2-2
   Creating directories, 2-1           Logged-out quota, 2-2
   CREDIR
     examples, 2-3
                                                   -M-     switches, 2-1                                 -M-
   Cross-referenced listings, 3-1
                                       MACRO label, 4-4
               -D-               -D-
    
                                                   -N-   Data Access Protocol (DAP), 6-1                 -N-
   DECnet, 6-1, 12-2
   Defaults for GLOB, 5-2              Network File Transfer, 6-1


                                  Index-1
                                        


               -O-                                 -S-               -O-                                 -S-
    
   OPSER program, 7-1                  Search lists, 2-1, 11-1
   Output                              Spooled output, 3-1
     from FILCOM, 4-5                  Status-setting commands, 1-4
     from GLOB, 5-3                    Sub-file directories (SFDs), 2-1
                                       SWITCH.INI file, 2-2
               -P-               -P-                     Symbol tables, 5-1
                                       SYSDPY versions, 12-1
   Passive search list, 11-1           System status, 12-1
   Pseudo-terminals (PTYs), 7-1
                                                   -T-                                                   -T-
               -Q-               -Q-
                                       Tape positioning, 1-7
   QUOLST program, 9-1                 Text formatting, 10-1
    
               -R-                                 -U-               -R-                                 -U-
    
   Relocatable symbols, 5-3            User id, 6-5
   Restoring files, 1-1                User-file directories (UFDs), 2-1,
   Running subjobs, 7-1                    11-1

































                                  Index-2
