















                          TOPS-10 Operator's Guide


|                        Electronically Distributed
|  
|  
|  
|            This  guide  gives   the   computer   operator   a
|            task-oriented  reference  for  using  the  TOPS-10
|            operating  system.   This  guide  supercedes   the
|            TOPS-10  Operator's  Guide  published  in  October
|            1988.    The   part   number   for   that   guide,
|            AA-H283CB-TB, is obsolete.



             Operating System:             TOPS-10 Version 7.04

             Software:                       GALAXY Version 5.1










   digital equipment corporation                   maynard, massachusetts



|  TOPS-10 Software Update Tape No. 03, September 1990

   First Printing, July 1980
   Revised, April 1986
   Revised, October 1988
|  Revised, September 1990



   The information in this document is subject to change  without  notice
   and  should  not  be  construed  as  a commitment by Digital Equipment
   Corporation.  Digital Equipment Corporation assumes no  responsibility
   for any errors that may appear in this document.

   The software described in this document is furnished under  a  license
   and  may  be  used  or  copied  in  accordance  with the terms of such
   license.

   No responsibility is assumed for the use or reliability of software on
   equipment that is not supplied by Digital Equipment Corporation or its
   affiliated companies.



|  Copyright C 1980, 1986, 1988, 1990 Digital Equipment Corporation.

   All Rights Reserved.



   The following are trademarks of Digital Equipment Corporation:

   CI             DECtape     LA50             SITGO-10
   DDCMP          DECUS       LN01             TOPS-10
   DEC            DECwriter   LN03             TOPS-20
   DECmail        DELNI       MASSBUS          TOPS-20AN
   DECnet         DELUA       PDP              UNIBUS
   DECnet-VAX     HSC         PDP-11/24        UETP
   DECserver      HSC-50      PrintServer      VAX
   DECserver 100  KA10        PrintServer 40   VAX/VMS
   DECserver 200  KI          Q-bus            VT50
   DECsystem-10   KL10        ReGIS
   DECSYSTEM-20   KS10        RSX              d i g i t a l




                                      CONTENTS



    PREFACE


   CHAPTER 1       THE SYSTEM OPERATOR

           1.1     RESPONSIBILITIES . . . . . . . . . . . . . . . . . 1-i
           1.2     DUTIES . . . . . . . . . . . . . . . . . . . . . . 1-i
           1.2.1     Hardware-Related Duties  . . . . . . . . . . . . 1-2
           1.2.2     Software-Related Duties  . . . . . . . . . . . . 1-2
           1.3     DOCUMENTATION  . . . . . . . . . . . . . . . . . . 1-3
           1.3.1     Supplied by DIGITAL  . . . . . . . . . . . . . . 1-3
           1.3.2     Supplied by Your Installation  . . . . . . . . . 1-3
           1.3.3     CTY Output Logbook . . . . . . . . . . . . . . . 1-5


   CHAPTER 2       HARDWARE FAMILIARIZATION

           2.1     OVERVIEW . . . . . . . . . . . . . . . . . . . . . 2-1
           2.2     CENTRAL PROCESSORS . . . . . . . . . . . . . . . . 2-1
           2.3     MEMORY SYSTEMS . . . . . . . . . . . . . . . . . . 2-2
           2.4     FRONT-END PROCESSORS (KL SYSTEMS)  . . . . . . . . 2-3
           2.5     FLOPPY DISKS . . . . . . . . . . . . . . . . . . . 2-4
           2.6     DECtapes . . . . . . . . . . . . . . . . . . . . . 2-4
           2.7     THE MICROPROCESSOR (KS SYSTEMS)  . . . . . . . . . 2-4
           2.8     PERIPHERAL DEVICES . . . . . . . . . . . . . . . . 2-4
           2.8.1     Overview of Peripheral Device Maintenance  . . . 2-5
           2.8.2     Line Printers  . . . . . . . . . . . . . . . . . 2-5
           2.8.3     Card Readers/Punches . . . . . . . . . . . . . . 2-6
           2.8.4     DECtapes . . . . . . . . . . . . . . . . . . . . 2-7
           2.8.5     Disk Packs . . . . . . . . . . . . . . . . . . . 2-7
           2.8.6     Magnetic Tapes . . . . . . . . . . . . . . . . . 2-8
           2.8.7     Plotters . . . . . . . . . . . . . . . . . . . . 2-9
           2.8.8     Terminals  . . . . . . . . . . . . . . . . . . . 2-9
           2.8.8.1     Hardcopy Terminals . . . . . . . . . . . . . . 2-9
           2.8.8.2     CRT Display Terminals  . . . . . . . . . . .  2-10
           2.8.9     Remote Stations  . . . . . . . . . . . . . . .  2-10


   CHAPTER 3       SOFTWARE OVERVIEW

           3.1     OPERATING SYSTEMS  . . . . . . . . . . . . . . . . 3-1
           3.2     LANGUAGES  . . . . . . . . . . . . . . . . . . . . 3-1
           3.2.1     MACRO Assembler  . . . . . . . . . . . . . . . . 3-1
           3.2.2     Compilers  . . . . . . . . . . . . . . . . . . . 3-2
           3.2.3     Interpreters . . . . . . . . . . . . . . . . . . 3-2
           3.3     UTILITIES AND OTHER SOFTWARE . . . . . . . . . . . 3-3




                                    iii



   CHAPTER 4       STARTING THE KS10 CENTRAL PROCESSOR

           4.1     SWITCHES AND LIGHTS  . . . . . . . . . . . . . . . 4-1
           4.2     POWERING UP THE SYSTEM . . . . . . . . . . . . . . 4-3
           4.3     LOADING THE SYSTEM USING DEFAULT PARAMETERS  . . . 4-4
           4.3.1     Powering Up and Loading from Disk  . . . . . . . 4-4
           4.3.2     Reloading the Monitor from Disk  . . . . . . . . 4-5
           4.3.3     Powering Up and Loading from Magnetic Tape . . . 4-6
           4.4     LOADING THE SYSTEM USING NONDEFAULT PARAMETERS . . 4-7
           4.4.1     Loading from Disk and Changing Parameters  . . . 4-8
           4.4.2     Loading from Magnetic Tape and Changing 
                     Parameters . . . . . . . . . . . . . . . . . . . 4-8
           4.4.3     Loading the Monitor from a Nondefault File . .  4-10
           4.5     ANSWERING MONITOR STARTUP QUESTIONS  . . . . . .  4-10


   CHAPTER 5       STARTING THE KL10 CENTRAL PROCESSOR

           5.1     SWITCHES AND LIGHTS  . . . . . . . . . . . . . . . 5-2
           5.2     POWERING UP THE SYSTEM . . . . . . . . . . . . . . 5-7
           5.3     FAMILIARIZING YOURSELF WITH RSX-20F  . . . . . . . 5-7
           5.3.1     Using the PARSER . . . . . . . . . . . . . . . . 5-7
           5.3.2     Using KLINIT . . . . . . . . . . . . . . . . . . 5-8
           5.4     LOADING THE SYSTEM USING DEFAULT PARAMETERS  . .  5-10
           5.4.1     Loading RSX-20F from Disk  . . . . . . . . . .  5-10
           5.4.2     Reloading the Monitor from Disk  . . . . . . .  5-12
           5.4.3     Loading RSX-20F from Floppy Disks  . . . . . .  5-12
           5.4.4     Loading RSX-20F from DECtape   . . . . . . . .  5-14
           5.5     LOADING THE SYSTEM USING NONDEFAULT PARAMETERS .  5-15
           5.5.1     Loading RSX-20F Using the Switch Register  . .  5-16
           5.5.2     Loading from Magnetic Tape   . . . . . . . . .  5-20
           5.5.3     Loading the Monitor from a Nondefault File . .  5-21
           5.6     ANSWERING MONITOR STARTUP QUESTIONS  . . . . . .  5-22
           5.7     LOADING A COMMUNICATIONS FRONT END . . . . . . .  5-24
           5.7.1     Loading with BOOT11 over a DL10  . . . . . . .  5-25
           5.7.2     Loading with DTELDR over a DTE20 . . . . . . .  5-27
           5.8     LOADING THE DX10 OR DX20 DATA CHANNEL  . . . . .  5-28
           5.9     RUNNING SYMMETRIC MULTIPROCESSING (SMP) SYSTEMS   5-31
           5.9.1     Loading and Starting an SMP System . . . . . .  5-32
           5.9.2     Restarting a Nonpolicy CPU (SMP Systems Only)   5-35


   CHAPTER 6       THE OPERATOR INTERFACE, OPR

           6.1     INTRODUCTION TO OPR  . . . . . . . . . . . . . . . 6-1
           6.2     RUNNING OPR  . . . . . . . . . . . . . . . . . . . 6-1
           6.2.1     Starting OPR . . . . . . . . . . . . . . . . . . 6-2
           6.2.2     Exiting from OPR . . . . . . . . . . . . . . . . 6-2
           6.2.3     Issuing OPR Commands to/from ANF-10 Remote 
                     Stations . . . . . . . . . . . . . . . . . . . . 6-3
           6.2.4     Multiple Operators on the System . . . . . . . . 6-3
           6.3     OPR COMMAND FEATURES . . . . . . . . . . . . . . . 6-3


                                     iv



           6.3.1     Listing Available Commands . . . . . . . . . . . 6-4
           6.3.2     Using ESCape Recognition . . . . . . . . . . . . 6-5
           6.3.3     Reprinting Faulty Commands . . . . . . . . . . . 6-6
           6.3.4     Getting Help . . . . . . . . . . . . . . . . . . 6-6
           6.3.5     Line Continuation  . . . . . . . . . . . . . . . 6-7
           6.4     CONTROLLING ORION TO OPR MESSAGES  . . . . . . . . 6-8
           6.5     OPR ERROR MESSAGE DESCRIPTIONS . . . . . . . . .  6-10


   CHAPTER 7       GALAXY SOFTWARE TASKS

           7.1     CONTROLLING SYSTEM EVENTS  . . . . . . . . . . . . 7-4
           7.1.1     Closing the ORION Log File . . . . . . . . . . . 7-6
           7.1.2     Scheduling System Shutdown . . . . . . . . . . . 7-6
           7.1.3     Controlling Usage Accounting . . . . . . . . . . 7-7
           7.1.4     Executing Command Files  . . . . . . . . . . . . 7-7
           7.2     BATCH RESPONSIBILITIES . . . . . . . . . . . . . . 7-8
           7.3     CONTROLLING BATCH STREAMS  . . . . . . . . . . . . 7-9
           7.3.1     Setting Parameters . . . . . . . . . . . . . . . 7-9
           7.3.2     Starting Batch Streams . . . . . . . . . . . .  7-10
           7.3.3     Stopping Batch Streams Temporarily . . . . . .  7-11
           7.3.4     Continuing Batch Streams . . . . . . . . . . .  7-11
           7.3.5     Shutting Down Batch Streams  . . . . . . . . .  7-12
           7.3.6     Sending Messages . . . . . . . . . . . . . . .  7-12
           7.3.7     Displaying Batch Stream Parameters . . . . . .  7-13
           7.3.8     Displaying Batch Stream Status . . . . . . . .  7-14
           7.4     CONTROLLING FAL STREAMS  . . . . . . . . . . . .  7-15
           7.4.1     Defining FAL Accessibility . . . . . . . . . .  7-16
           7.4.2     Setting Parameters . . . . . . . . . . . . . .  7-16
           7.4.3     Starting FAL Streams . . . . . . . . . . . . .  7-17
           7.4.4     Stopping FAL Streams Temporarily . . . . . . .  7-17
           7.4.5     Continuing FAL Streams . . . . . . . . . . . .  7-18
           7.4.6     Shutting Down FAL Streams  . . . . . . . . . .  7-18
           7.4.7     Displaying FAL Stream Parameters . . . . . . .  7-18
           7.4.8     Displaying FAL Stream Status . . . . . . . . .  7-19
           7.5     CONTROLLING NQC STREAMS  . . . . . . . . . . . .  7-19
           7.5.1     Setting Parameters . . . . . . . . . . . . . .  7-20
           7.5.2     Starting NQC Streams . . . . . . . . . . . . .  7-20
           7.5.3     Stopping NQC Streams Temporarily . . . . . . .  7-20
           7.5.4     Continuing NQC Streams . . . . . . . . . . . .  7-21
           7.5.5     Shutting Down NQC Streams  . . . . . . . . . .  7-21
           7.5.6     Displaying NQC Stream Parameters . . . . . . .  7-22
           7.5.7     Displaying NQC Stream Status . . . . . . . . .  7-22
           7.6     CONTROLLING BATCH JOBS . . . . . . . . . . . . .  7-22
           7.6.1     Examining the Batch Queue  . . . . . . . . . .  7-23
           7.6.2     Holding Batch Jobs . . . . . . . . . . . . . .  7-24
           7.6.3     Releasing Batch Jobs . . . . . . . . . . . . .  7-25
           7.6.4     Aborting Running Batch Jobs  . . . . . . . . .  7-26
           7.6.5     Requeuing Batch Jobs . . . . . . . . . . . . .  7-27
           7.6.6     Modifying Batch Requests . . . . . . . . . . .  7-27
           7.6.7     Deleting Batch Requests  . . . . . . . . . . .  7-28
           7.7     CONTROLLING THE LINE PRINTER . . . . . . . . . .  7-29


                                     v



           7.7.1     Setting Line Printer Parameters  . . . . . . .  7-29
           7.7.2     Using the LPFORM.INI File  . . . . . . . . . .  7-31
           7.7.3     Using the LPFONT.INI File  . . . . . . . . . .  7-35
           7.7.4     Starting the Line Printer  . . . . . . . . . .  7-35
           7.7.5     Stopping the Line Printer Temporarily  . . . .  7-36
           7.7.6     Continuing the Line Printer  . . . . . . . . .  7-36
           7.7.7     Shutting Down the Line Printer . . . . . . . .  7-37
           7.7.8     Displaying Line Printer Parameters . . . . . .  7-37
           7.7.9     Displaying Line Printer Status . . . . . . . .  7-38
           7.8     CONTROLLING FORMS ON THE LINE PRINTER  . . . . .  7-39
           7.8.1     Aligning Forms . . . . . . . . . . . . . . . .  7-41
           7.8.2     Backspacing Forms  . . . . . . . . . . . . . .  7-42
           7.8.3     Forwardspacing Forms . . . . . . . . . . . . .  7-43
           7.8.4     Suppressing Carriage Control . . . . . . . . .  7-44
           7.9     CONTROLLING LINE PRINTER JOBS  . . . . . . . . .  7-45
           7.9.1     Examining the Printer Queue  . . . . . . . . .  7-45
           7.9.2     Holding Line Printer Jobs  . . . . . . . . . .  7-47
           7.9.3     Releasing Line Printer Jobs  . . . . . . . . .  7-48
           7.9.4     Canceling Line Printer Jobs  . . . . . . . . .  7-48
           7.9.5     Requeuing Line Printer Jobs  . . . . . . . . .  7-49
           7.9.6     Modifying Line Printer Requests  . . . . . . .  7-50
           7.9.7     Deleting Line Printer Requests . . . . . . . .  7-50
           7.9.8     Specifying the next Line Printer Job . . . . .  7-51
           7.10    SENDING PRINTER OUTPUT TO MAGNETIC TAPE  . . . .  7-52
           7.11    CONTROLLING LAT DEVICES  . . . . . . . . . . . .  7-55
           7.11.1    Setting Parameters . . . . . . . . . . . . . .  7-56
           7.11.2    Resetting Parameters . . . . . . . . . . . . .  7-56
           7.11.3    Starting LAT Activity  . . . . . . . . . . . .  7-57
           7.11.4    Stopping LAT Activity  . . . . . . . . . . . .  7-58
           7.11.5    Changing LAT Counters  . . . . . . . . . . . .  7-58
           7.11.6    Displaying LAT Activity  . . . . . . . . . . .  7-58
           7.12    CONTROLLING THE CARD READER  . . . . . . . . . .  7-59
           7.12.1    Starting the Card Reader . . . . . . . . . . .  7-60
           7.12.2    Stopping the Card Reader . . . . . . . . . . .  7-60
           7.12.3    Continuing the Card Reader . . . . . . . . . .  7-61
           7.12.4    Shutting Down the Card Reader  . . . . . . . .  7-61
           7.12.5    Displaying Card Reader Status  . . . . . . . .  7-62
           7.12.6    Canceling a Card Reader Job  . . . . . . . . .  7-62
           7.13    CONTROLLING CARD PUNCH, PAPERTAPE PUNCH, AND 
                   PLOTTERS . . . . . . . . . . . . . . . . . . . .  7-63
           7.13.1    Setting Output Device Parameters . . . . . . .  7-64
           7.13.2    Using the SPFORM.INI File  . . . . . . . . . .  7-66
           7.13.3    Starting Output Devices  . . . . . . . . . . .  7-68
           7.13.4    Stopping Output Devices  . . . . . . . . . . .  7-69
           7.13.5    Continuing Output Devices  . . . . . . . . . .  7-70
           7.13.6    Shutting Down Output Devices . . . . . . . . .  7-70
           7.13.7    Displaying Output Device Parameters  . . . . .  7-71
           7.13.8    Displaying Output Device Status  . . . . . . .  7-71
           7.14    CONTROLLING JOBS ON OUTPUT DEVICES . . . . . . .  7-72
           7.14.1    Examining the Queues . . . . . . . . . . . . .  7-73
           7.14.2    Holding Jobs . . . . . . . . . . . . . . . . .  7-75
           7.14.3    Releasing Jobs . . . . . . . . . . . . . . . .  7-75


                                     vi



           7.14.4    Canceling Jobs . . . . . . . . . . . . . . . .  7-76
           7.14.5    Requeuing Jobs . . . . . . . . . . . . . . . .  7-77
           7.14.6    Modifying Requests . . . . . . . . . . . . . .  7-77
           7.14.7    Deleting Requests  . . . . . . . . . . . . . .  7-78
           7.14.8    Specifying the NEXT Job  . . . . . . . . . . .  7-78
           7.15    GALAXY CRASH RECOVERY PROCEDURES . . . . . . . .  7-79


   CHAPTER 8       SCHEDULED SOFTWARE TASKS

           8.1     UPDATING THE MESSAGE OF THE DAY  . . . . . . . . . 8-1
           8.2     UPDATING THE ACCOUNTING FILE WITH REACT  . . . . . 8-2
           8.3     CONTROLLING USAGE ACCOUNTING . . . . . . . . . . . 8-2
           8.4     MAINTAINING SYSTEM CATALOG FILES . . . . . . . . . 8-4
           8.5     SAVING ACCOUNTING FILES  . . . . . . . . . . . . . 8-4
           8.6     SAVING GRIPE FILES . . . . . . . . . . . . . . . . 8-5
           8.7     RIDDING THE SYSTEM OF DETACHED JOBS  . . . . . . . 8-5
           8.8     BACKING UP THE SYSTEM (DAILY)  . . . . . . . . . . 8-6
           8.9     BACKING UP THE SYSTEM (WEEKLY) . . . . . . . . . . 8-7
           8.10    REFRESHING FILE STRUCTURES . . . . . . . . . . . . 8-8
           8.11    ANALYZING SYSTEM FILE STRUCTURES WITH DSKLST . . . 8-9
           8.12    OBTAINING DISK ERROR INFORMATION WITH DSKRAT . . . 8-9


   CHAPTER 9       UNSCHEDULED SOFTWARE TASKS

           9.1     CONTROLLING THE ORION LOG FILE . . . . . . . . . . 9-1
           9.2     DUAL PATH ACCESS TO MAGTAPE  . . . . . . . . . . . 9-2
           9.3     INITIALIZING TAPES . . . . . . . . . . . . . . . . 9-2
           9.4     HANDLING MAGTAPE MOUNT REQUESTS  . . . . . . . . . 9-7
           9.4.1     Displaying Tape Drive Status . . . . . . . . . . 9-8
           9.4.2     Controlling Tape Drive Volume Recognition (AVR) 9-10
           9.4.3     Handling Labeled Tapes with AVR Enabled  . . .  9-11
           9.4.4     Handling Labeled Tapes with AVR Disabled . . .  9-12
           9.4.5     Handling Unlabeled Tapes . . . . . . . . . . .  9-12
           9.4.6     Dismounting Tapes  . . . . . . . . . . . . . .  9-14
           9.4.7     Canceling Tape Mount Requests  . . . . . . . .  9-15
           9.4.8     Setting Tape Drives Available or Unavailable .  9-15
           9.5     HANDLING FILE STRUCTURE AND DISK-DRIVE TASKS . .  9-16
           9.5.1     Answering Structure Mount Requests . . . . . .  9-17
           9.5.2     Mounting a Structure with MOUNT  . . . . . . .  9-20
           9.5.3     Controlling Structure Dismount Requests  . . .  9-21
           9.5.3.1     Locking and Unlocking Structures . . . . . .  9-21
           9.5.3.2     Removing a Structure with DISMOUNT . . . . .  9-22
           9.5.4     Canceling Structure Mount Requests . . . . . .  9-25
           9.5.5     Displaying Structure Status  . . . . . . . . .  9-25
           9.5.6     Displaying Disk Drive Status . . . . . . . . .  9-27
           9.5.7     Controlling Structure Recognition  . . . . . .  9-29
           9.5.8     Controlling Disk Drive Volume Recognition  . .  9-29
           9.6     EXAMINING TAPE/DISK MOUNT REQUESTS IN THE QUEUE   9-30
           9.7     CONTROLLING SYSTEM LISTS . . . . . . . . . . . .  9-32
           9.7.1     Displaying System Lists  . . . . . . . . . . .  9-32


                                    vii



           9.7.2     Modifying System Lists . . . . . . . . . . . .  9-33
           9.8     RESTORING DISK FILES WITH BACKUP . . . . . . . .  9-33
           9.9     COMMUNICATING WITH THE USERS . . . . . . . . . .  9-36
           9.9.1     Answering PLEASE Messages with OPR . . . . . .  9-36
           9.9.2     Talking to a User with SEND  . . . . . . . . .  9-37
           9.10    REPORTING ERRORS WITH OPR  . . . . . . . . . . .  9-39
           9.11    DOWN-LINE LOADING ANF-10 REMOTE STATIONS . . . .  9-39
           9.11.1    Running NETLDR Automatically . . . . . . . . .  9-40
           9.11.2    Running NETLDR Manually  . . . . . . . . . . .  9-40
           9.12    CONTROLLING ANF-10 REMOTE STATIONS . . . . . . .  9-42
           9.12.1    Starting and Shutting Down a Node  . . . . . .  9-43
           9.12.2    Displaying Node Status . . . . . . . . . . . .  9-44
           9.12.3    Routing Device Output between Nodes  . . . . .  9-44
           9.12.4    Displaying the Routing Table . . . . . . . . .  9-46
           9.13    STOPPING AND RESTARTING KS10 COMMUNICATIONS  . .  9-46
           9.14    RECONFIGURING SYSTEM HARDWARE  . . . . . . . . .  9-47
           9.14.1    Adding System Hardware . . . . . . . . . . . .  9-48
           9.14.2    Configuring System Hardware  . . . . . . . . .  9-49
           9.14.3    Removing System Hardware . . . . . . . . . . .  9-49
           9.14.4    Controlling System Hardware  . . . . . . . . .  9-50
           9.14.5    Shutting Down the System . . . . . . . . . . .  9-51
           9.14.6    Stopping the System  . . . . . . . . . . . . .  9-51
           9.14.7    Suspending a System  . . . . . . . . . . . . .  9-52


   CHAPTER 10      ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR

           10.1    RECOVERING FROM A MICROPROCESSOR CRASH . . . . .  10-2
           10.2    RECOVERING FROM A MONITOR CRASH  . . . . . . . .  10-3
           10.2.1    Automatically Dumping and Reloading the Monitor 10-4
           10.2.2    Manually Dumping and Reloading the Monitor . .  10-5
           10.3    RECOVERING FROM A HUNG OR LOOPING SYSTEM . . . .  10-6
           10.4    COPYING CRASH DATA . . . . . . . . . . . . . . .  10-7
           10.5    RECOVERING FROM STOPCODES (MONITOR ERROR STOPS)   10-8
           10.5.1    Identifying DEBUG Stopcodes  . . . . . . . . .  10-9
           10.5.2    Identifying JOB Stopcodes  . . . . . . . . . .  10-9
           10.5.3    Identifying STOP Stopcodes . . . . . . . . . . 10-10
           10.5.4    Identifying CPU Stopcodes  . . . . . . . . . . 10-10
           10.5.5    Identifying HALT Stopcodes . . . . . . . . . . 10-11
           10.5.6    Identifying INFO and EVENT Stopcodes . . . . . 10-11
           10.6    RECOVERING FROM PARITY AND NXM ERRORS  . . . . . 10-11
           10.7    RESTARTING A HUNG CONSOLE TERMINAL (LA36)  . . . 10-13
           10.8    FINDING A MISSING MONITOR FILE . . . . . . . . . 10-13
           10.9    ALLOWING SYSTEM DIAGNOSIS WITH KLINIK  . . . . . 10-14
           10.10   RECOVERING FROM KS10 HALT-STATUS CODES . . . . . 10-16
           10.11   MICROPROCESSOR ERROR MESSAGES  . . . . . . . . . 10-17
           10.12   RECOVERING FROM ENVIRONMENTAL ERRORS . . . . . . 10-22


   CHAPTER 11      ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR

           11.1    RECOVERING FROM A KL10 CRASH . . . . . . . . . .  11-2


                                    viii



           11.2    RECOVERING FROM A MONITOR CRASH  . . . . . . . .  11-6
           11.2.1    Automatically Dumping and Reloading the Monitor 11-7
           11.2.2    Manually Dumping and Reloading the Monitor . .  11-8
           11.3    SYSTEM ERROR RECOVERY  . . . . . . . . . . . . .  11-9
           11.4    COPYING CRASH DATA . . . . . . . . . . . . . . . 11-10
           11.5    RECOVERING FROM STOPCODES (MONITOR ERROR STOPS)  11-11
           11.5.1    Identifying DEBUG Stopcodes  . . . . . . . . . 11-12
           11.5.2    Identifying JOB Stopcodes  . . . . . . . . . . 11-12
           11.5.3    Identifying STOP Stopcodes . . . . . . . . . . 11-13
           11.5.4    Identifying CPU Stopcodes  . . . . . . . . . . 11-14
           11.5.5    Identifying HALT Stopcodes . . . . . . . . . . 11-15
           11.5.6    Identifying INFO and EVENT Stopcodes . . . . . 11-16
           11.6    RECOVERING FROM ERRORS DETECTED BY THE PARSER  . 11-16
           11.7    RECOVERING FROM ERRORS DETECTED BY KLINIT  . . . 11-27
           11.7.1    KLINIT Operator-Dialog Error Message . . . . . 11-27
           11.7.2    KLINIT Warning Messages  . . . . . . . . . . . 11-28
           11.7.3    KLINIT System Error Messages . . . . . . . . . 11-28
           11.8    RECOVERING FROM PARITY AND NXM ERRORS  . . . . . 11-41
           11.9    RECOVERING FROM BAD MEMORY . . . . . . . . . . . 11-43
           11.9.1    Setting Memory Off-Line  . . . . . . . . . . . 11-43
           11.9.2    Reconfiguring Memories . . . . . . . . . . . . 11-43
           11.10   RESTARTING A HUNG CONSOLE TERMINAL (LA36)  . . . 11-44
           11.11   FINDING A MISSING MONITOR FILE . . . . . . . . . 11-45
           11.12   RECOVERING FROM FRONT-END PROCESSOR ERRORS . . . 11-45
           11.12.1   Recovering from DTE20-Interfaced Error . . . . 11-46
           11.12.2   Recovering from DL10-Interfaced Errors . . . . 11-47
           11.13   RECOVERING FROM DATA CHANNEL ERRORS  . . . . . . 11-48
           11.14   ALLOWING SYSTEM DIAGNOSIS WITH KLINIK  . . . . . 11-49
           11.14.1   KLINIK Informational Messages  . . . . . . . . 11-50
           11.14.2   KLINIK Error Messages  . . . . . . . . . . . . 11-51
           11.15   RECOVERING FROM ENVIRONMENTAL ERRORS . . . . . . 11-52
           11.16   SPLITTING AN SMP SYSTEM  . . . . . . . . . . . . 11-54
           11.17   ADDING PROCESSORS AND MEMORY TO SMP SYSTEMS  . . 11-57
           11.18   FAULT CONTINUATION (WARM RESTART)  . . . . . . . 11-59


   APPENDIX A      SYSTEM DUMPING AND RELOADING PROCEDURES

           A.1     BOOT ERROR MESSAGES  . . . . . . . . . . . . . . . A-1
           A.2     BOOT ERROR CODES . . . . . . . . . . . . . . . . . A-4
           A.3     SYSTEM DUMP LIST . . . . . . . . . . . . . . . . . A-4
           A.4     THE CRSCPY PROGRAM . . . . . . . . . . . . . . . . A-5
           A.4.1     Action Commands  . . . . . . . . . . . . . . . . A-6
           A.4.2     Status-Setting Commands  . . . . . . . . . . . . A-7
           A.4.3     Report-Selection Commands  . . . . . . . . . . . A-8


   APPENDIX B      KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   

           B.1     MICROPROCESSOR CONSOLE PROGRAM . . . . . . . . . . B-1
           B.2     COMMON CONSOLE COMMANDS  . . . . . . . . . . . . . B-2
           B.3     MICROPROCESSOR COMMANDS  . . . . . . . . . . . . . B-3


                                     ix



           B.3.1     Boot Commands  . . . . . . . . . . . . . . . . . B-4
           B.3.2     Enable/Disable Commands  . . . . . . . . . . . . B-5
           B.3.3     Examine Commands . . . . . . . . . . . . . . . . B-6
           B.3.4     Mark/Unmark Microcode Commands . . . . . . . . . B-7
           B.3.5     Miscellaneous Commands . . . . . . . . . . . . . B-7
           B.3.6     Read CRAM Commands . . . . . . . . . . . . . . . B-8
           B.3.7     Select Device Commands . . . . . . . . . . . . . B-8
           B.3.8     Set and Deposit Commands . . . . . . . . . . . . B-9
           B.3.9     Start/Stop Clock Commands  . . . . . . . . . .  B-10
           B.3.10    Start/Stop Microcode Commands  . . . . . . . .  B-11
           B.3.11    Start/Stop Program Commands  . . . . . . . . .  B-11


   APPENDIX C      PARSER

           C.1     ENTERING AND EXITING THE PARSER  . . . . . . . . . C-1
           C.2     PARSER COMMAND SYNTAX  . . . . . . . . . . . . . . C-2
           C.3     PARSER CONSOLE MODES . . . . . . . . . . . . . . . C-4
           C.4     PARSER HELP FACILITY . . . . . . . . . . . . . . . C-5
           C.5     PARSER COMMANDS  . . . . . . . . . . . . . . . . . C-6


   APPENDIX D      KLINIT OPERATOR DIALOG

           D.1     KLINIT OPERATOR DIALOG RULES . . . . . . . . . . . D-1
           D.2     ANSWERING KLINIT OPERATOR DIALOG QUESTIONS . . . . D-2


   APPENDIX E      SAVING AND RESTORING DISK FILES WITH BACKUP

           E.1     BACKUP FEATURES  . . . . . . . . . . . . . . . . . E-1
           E.2     BACKUP COMMANDS  . . . . . . . . . . . . . . . . . E-2
           E.2.1     Action Commands  . . . . . . . . . . . . . . . . E-3
           E.2.2     Status-Setting Commands  . . . . . . . . . . . . E-4
           E.2.3     Tape-Positioning Commands  . . . . . . . . . . . E-8
           E.2.4     Runtime Commands . . . . . . . . . . . . . . .  E-10
           E.3     BACKUP EXAMPLES  . . . . . . . . . . . . . . . .  E-12
           E.3.1     Console User Examples  . . . . . . . . . . . .  E-12
           E.3.1.1     Saving a User's Disk Area  . . . . . . . . .  E-12
           E.3.1.2     Restoring Selected Files   . . . . . . . . .  E-12
           E.3.1.3     Renaming Files as They are Transferred   . .  E-12
           E.3.2     Operator Tasks . . . . . . . . . . . . . . . .  E-13
           E.3.2.1     Saving the Entire Disk . . . . . . . . . . .  E-13
           E.3.2.2     Recovering from a System Crash . . . . . . .  E-14
           E.3.3     Saving Only Recently Created or Modified Files  E-14
           E.3.4     Restoring Only Recently Accessed Files . . . .  E-15
           E.4     OBTAINING DIRECTORIES OF BACKUP TAPES  . . . . .  E-15
           E.5     COMPARING TAPE AND DISK FILES  . . . . . . . . .  E-16
           E.6     CHECKPOINTING LARGE FILES  . . . . . . . . . . .  E-17
           E.7     BACKUP MESSAGES  . . . . . . . . . . . . . . . .  E-18
           E.7.1     Informational Messages . . . . . . . . . . . .  E-18
           E.7.2     Operator Messages  . . . . . . . . . . . . . .  E-18


                                     x



           E.7.3     Fatal Error Messages . . . . . . . . . . . . .  E-19
           E.7.4     Warning Messages . . . . . . . . . . . . . . .  E-22
           E.8     BACKUP TAPE FORMAT . . . . . . . . . . . . . . .  E-28
           E.8.1     Tape Record Types  . . . . . . . . . . . . . .  E-28
           E.8.2     Standard Record Format . . . . . . . . . . . .  E-29
           E.8.3     Non-data Blocks  . . . . . . . . . . . . . . .  E-31
           E.8.4     Locations in T$LBL Record  . . . . . . . . . .  E-36
           E.8.5     Locations in T$BEG, T$END, T$CON Records . . .  E-37
           E.8.6     Locations in T$UFD Record  . . . . . . . . . .  E-38
           E.8.7     Locations in T$FIL Record  . . . . . . . . . .  E-38


   APPENDIX F      FAMILIARIZING YOURSELF WITH TGHA (1091 SYSTEMS ONLY)

           F.1     SYSTEM STARTUP . . . . . . . . . . . . . . . . . . F-1
           F.2     RUNNING TGHA MANUALLY  . . . . . . . . . . . . . . F-2


   INDEX


   FIGURES

           1-1     Sample System Logbook Page . . . . . . . . . . . . 1-5
           5-1     Reading Path for Chapter 5 . . . . . . . . . . . . 5-2
           5-2     RSX-20F Loading Choices  . . . . . . . . . . . . . 5-4
           5-3     Monitor Loading Choices  . . . . . . . . . . . . . 5-4
           5-4     Role Switching . . . . . . . . . . . . . . . . .  5-32
           7-1     The GALAXY System  . . . . . . . . . . . . . . . . 7-2
           11-1    Conceptual Diagram of Splitting the System . . . 11-54


   TABLES

           4-1     Load Switches  . . . . . . . . . . . . . . . . . . 4-1
           4-2     REMOTE DIAGNOSIS Switch Positions  . . . . . . . . 4-2
           4-3     Indicator Lights . . . . . . . . . . . . . . . . . 4-2
           5-1     Load Switches  . . . . . . . . . . . . . . . . . . 5-5
           5-2     Indicator Lights . . . . . . . . . . . . . . . . . 5-6
           5-3     Switch-Register Switch Definitions . . . . . . .  5-17
           5-4     BOOT11 Switches  . . . . . . . . . . . . . . . .  5-26
           5-5     DTELDR Switches  . . . . . . . . . . . . . . . .  5-28
           5-6     DX10 BOOTDX Switches . . . . . . . . . . . . . .  5-29
           5-7     DX20 BOOTDX Switches . . . . . . . . . . . . . .  5-30
           7-1     GALAXY Components  . . . . . . . . . . . . . . . . 7-3
           7-2     LPFORM.INI Switches  . . . . . . . . . . . . . .  7-31
           7-3     SPFORM.INI Switches For All Device Types . . . .  7-66
           7-4     SPFORM.INI Switches For Plotter Devices Only . .  7-67
           7-5     GALAXY Component Crash Recovery Procedures . . .  7-81
           9-1     SET TAPE-DRIVE INITIALIZE Switches . . . . . . . . 9-3

























































                                    xii















                                  PREFACE



       _______ __________ _____   The TOPS-10 Operator's Guide is a task-oriented  reference  guide  for
   operating  KS10-based TOPS-10 systems (DECSYSTEM-2020), and KL10-based
   TOPS-10 systems (1090, 1091 with core memory, 1091  with  MOS  memory,
   1095,  and  1099).   This  guide  is  written  for experienced TOPS-10
   operators.

   This guide covers the following topics:

         o  System Familiarization

         o  Device Operation and Maintenance

         o  System Startup

         o  Software Tasks

         o  Error-Recovery Procedures

   This guide uses the following conventions:

        CTY                           means console terminal.

        TTY                           means terminal.

        <RET>                         means press the RETURN key.

        <ESC>                         means press the ESCAPE key.

        <CTRL/character>              means hold the CTRL key down  while
                                      you type the character indicated.

        __________        underscore                    indicates anything that you type.

   The term "-10 series hardware" represents all  hardware  systems  that
   run TOPS-10 software.



                                    xiii



   Operating procedures unique to particular CPUs are  described  in  the
   following  chapters:   Chapters  4  and  10  pertain  to the KS10, and
   Chapters 5 and 11 pertain to the  KL10  central  processor.   Sections
   5.9,  5.9.2,  and  11.16  refer  only to SMP systems.  You may want to
   remove the chapters that do not apply to your system.

   For current information on the RSX-20F PARSER commands,  please  refer
          _______________ _______ ______ _________ ______   to the TOPS-10/TOPS-20 RSX-20F System Reference Manual.

   For current information  on  which  devices  are  supported  for  this
   version  of  the  TOPS-10  monitor,  please contact your Field Service
   Center for a copy of the TOPS-10 Software Product Description.










































                                    xiv












                                 CHAPTER 1                                 CHAPTER 1

                            THE SYSTEM OPERATOR                            THE SYSTEM OPERATOR



   1.1  RESPONSIBILITIES   1.1  RESPONSIBILITIES

   As a TOPS-10 operator, your primary responsibilities are to  keep  the
   system  running  and to respond to user requests.  Therefore, you must
   be familiar with all of the resources available to your  system,  know
   how to use them, and be able to recognize potential problems.

   You must know how to:

         o  Communicate with both  the  microprocessor  and  the  central
            processor (if you have a KS system)

         o  Communicate with RSX-20F, which is a  program  that  controls
            the console PDP-11, and its central processor(s) (if you have
            a KL system)

         o  Work with the TOPS-10  command  language,  including  a  text
            editor

         o  Do everything listed in the next two sections

   You are responsible for:

         o  Documenting system activities for operators on the next shift

         o  Logging  a   permanent   record   of   system   availability,
            maintenance, and downtime



   1.2  DUTIES   1.2  DUTIES

   Your duties can be classified into two categories:

         o  Hardware-related




                                    1-1
                            THE SYSTEM OPERATOR                            THE SYSTEM OPERATOR


         o  Software-related

   You may perform these duties on a regular schedule, on  an  "on  call"
   basis, or on an emergency basis.



   1.2.1  Hardware-Related Duties   1.2.1  Hardware-Related Duties

   Your hardware-related duties include:

         o  Maintaining the system devices and the computer room

         o  Replenishing consumable supplies such as paper forms

         o  Servicing user requests  to  mount  magnetic  tapes  or  disk
            packs, and so forth

   If the hardware malfunctions, you must return the device  that  failed
   to  normal  operation  as  quickly  as possible.  This can mean either
   removing any damaged or foreign material or calling your Field Service
   representative.

   Whenever there is a problem, you must be able to:

         o  Assess the extent of the problem and take appropriate action

         o  Make an entry in the system logbook

         o  Fill out a hardware error form



   1.2.2  Software-Related Duties   1.2.2  Software-Related Duties

   Your software-related duties include:

         o  Responding promptly to user requests

         o  Assigning devices

         o  Running system accounting and control tasks specified by  the
            system administrator

   Whenever there is a problem, you must be able to:

         o  Assess the extent of the problem and take appropriate action

         o  Make an entry in the system logbook

         o  Fill out a Software Error Report (SER) form



                                    1-2
                            THE SYSTEM OPERATOR                            THE SYSTEM OPERATOR


   1.3  DOCUMENTATION   1.3  DOCUMENTATION

   There  are  a   number   of   documents   available   to   make   your
   responsibilities  and  duties  easier.   You should have access to the
   ones mentioned here.  Some are for one-time reading,  others  are  for
   reference,  and  still others are for you to document pertinent system
   information.



   1.3.1  Supplied by DIGITAL   1.3.1  Supplied by DIGITAL

   In addition to this guide, the following publications, included in the
   TOPS-10  Software Notebook set, provide additional information for the
   system operator.

            _______ __________ _______ ________ _________ ______         o  TOPS-10 Operator's Command Language Reference Manual

            _______ ________ ____________ _____         o  TOPS-10 Software Installation Guide

            _______ _________ ______ ________ ______         o  TOPS-10 Operating System Commands Manual

            _______ ____ _________ ______         o  TOPS-10 User Utilities Manual

            _______________ __________ ________  ______  ___  ___________         o  TOPS-10/TOPS-20 Operator's Hardware  Device  and  Maintenance
            _____            Guide



   1.3.2  Supplied by Your Installation   1.3.2  Supplied by Your Installation

   The documentation that your installation supplies usually includes  an
   operator's  notebook  and a system logbook.  Often, this documentation
   also includes a set of operating procedures tailored specifically  for
   your installation.

       __________ ________   The operator's notebook is the most practical means for shift-to-shift
   communication  among system operators, and between an operator and the
   system manager.  The operator's notebook provides a permanent  message
   center for efficient system operations.

   You should read the turnover entries as you begin your  shift.   These
   entries  may  include  scheduled system downtime, new software to try,
   problems  encountered  on  previous  shifts,  warnings  on   potential
   intermittent  malfunctions,  and  specific instructions for work to be
   processed on your shift.

   At the  end  of  your  shift,  you  should  enter  the  same  type  of
   information for the next shift operator.  If you are a non-prime-shift
   operator and the system manager  works  prime  shift,  the  operator's
   notebook allows you to communicate with him.



                                    1-3
                            THE SYSTEM OPERATOR                            THE SYSTEM OPERATOR


       ______ _______   The system logbook is  the  prime  source  of  information  about  the
   system.   (See  Figure  1-1.)  Operators,  system  programmers, system
   managers, software support personnel, and Field Service engineers  all
   use  the  system logbook.  You must check this log when you report for
   work, and update the log throughout your shift.

   System logbook entries include:

         o  All monitor loads and reloads, with reasons for reloading

         o  All hardware and software problems, with symptoms and  device
            identification

         o  All system shutdowns

   To make it easy to identify the items, you can write hardware  entries
   on the left-hand pages and software entries on the right-hand pages.





































                                    1-4
                            THE SYSTEM OPERATOR                            THE SYSTEM OPERATOR


      ____________________________________________________________________
     |                                                                    |
     |                                                    PAGE__________  |
     |____________________________________________________________________|
     |                                                                    |
     |              SYSTEM LOG                            DATE__________  |
     |____________________________________________________________________|
     |      |   |      |             |     |         |                    |
     |      | R |      |             |     |         |                    |
     |      | E |      |             | F/S |         |                    |
     |      | L |      | MONITOR OR  |  A  |         |                    |
     |      | O |      |  HARDWARE   |  T  | DEVICE  |                    |
     | TIME | A | NAME | MAINTENANCE |  T  |   OR    |       ENTRY        |
     |      | D |      |  ACTIVITY   |  N  | PROGRAM |                    |
     |______|___|______|_____________|_____|_________|____________________|
     |      |   |      |             |     |         |                    |
     |______|___|______|_____________|_____|_________|____________________|
     |      |   |      |             |     |         |                    |
     |______|___|______|_____________|_____|_________|____________________|
     |      |   |      |             |     |         |                    |
     |______|___|______|_____________|_____|_________|____________________|
     |      |   |      |             |     |         |                    |
     |______|___|______|_____________|_____|_________|____________________|
     |      |   |      |             |     |         |                    |
     |______|___|______|_____________|_____|_________|____________________|
     |      |   |      |             |     |         |                    |
     |______|___|______|_____________|_____|_________|____________________|
     |      |   |      |             |     |         |                    |
     |______|___|______|_____________|_____|_________|____________________|
     |      |   |      |             |     |         |                    |
     |______|___|______|_____________|_____|_________|____________________|


   Figure 1-1:  Sample System Logbook Page   Figure 1-1:  Sample System Logbook Page


   Your installation may generate a tailored set of operating  procedures
   based upon your installation's specific hardware configuration and the
   software in use.   You  can  divide  such  operating  procedures  into
   sections  for  your  scheduled  tasks.   This would provide you with a
   compact, easily referenced run book, which would also  be  helpful  in
   training new operators.



   1.3.3  CTY Output Logbook   1.3.3  CTY Output Logbook

   In addition to making entries  in  the  operator's  notebook  and  the
   system  logbook,  you  should retain and file the system console (CTY)
   output or log.  This chronological record of system events can be very
   helpful in tracking down intermittent system problems.



                                    1-5

























































                                    2-1












                                 CHAPTER 2                                 CHAPTER 2

                          HARDWARE FAMILIARIZATION                          HARDWARE FAMILIARIZATION



   2.1  OVERVIEW   2.1  OVERVIEW

   To improve your understanding of  the  system,  this  chapter  briefly
   describes the -10 series hardware.

   You can use the TOPS-10 operating system with all of  the  -10  series
   hardware  systems.   The hardware components of these systems are very
   similar.  The amount and type of available memory, the  type  of  data
   channels, the type of processor, or the number and type of peripherals
   are some of the factors that determine the system.

   The 1099 systems are multiple-processor systems, that  have  Symmetric
   Multiprocessing   (SMP)   features.   The  SMP  features  provide  the
   capability of attaching and sharing memory  and  I/O  devices  between
   central  processor units in symmetric configurations.  The system uses
   a single copy of the monitor that can handle more than one  job  at  a
   time.

   The -10 series hardware that you will be  operating  falls  into  five
   general  categories:   central  processors,  memory systems, front-end
   processors or microprocessors, peripherals, and remote stations.



   2.2  CENTRAL PROCESSORS   2.2  CENTRAL PROCESSORS

   Your -10 series system has either a KL10E,  KL10R,  KL10B,  KL10D,  or
   KS10 central processor.  Each is described below.

   The KL10E, which directs the operation of the  1091  system,  and  the
   KL10R, which directs the operation of the 1095 system, contains:

         o  A microcoded instruction set (399 instructions)

         o  A high-speed 2K cache memory




                                    2-1
                          HARDWARE FAMILIARIZATION                          HARDWARE FAMILIARIZATION


         o  Fast integrated-circuit general-purpose registers

         o  Virtual memory capability

         o  A console terminal (CTY)

   The KL10R is the 60 Hertz domestic version of the KL10E,  a  50  Hertz
   international model.

   The KL10B, KL10D or KL10R central processors, which direct the  entire
   operation  of  1090  and  1099  systems,  offer  the same features and
   functions as the KL10E plus the following:

         o  Up to eight integrated high-speed data channels (RH20s)

         o  Up to  three  integrated  communications  processor  channels
            (DTE20s);   a   fourth   DTE20   is  used  to  interface  the
            Console/Diagnostic processor

   The central processor, internal memory and  mass  storage  controllers
   are combined in two cabinets.

   The KS10 central processor, which directs the entire operation of 2020
   systems, contains:

         o  A microcoded instruction set (396 instructions)

         o  A high-speed cache memory

         o  Fast integrated circuit general-purpose registers

         o  Interrupt and trap facilities

         o  Virtual memory capability

   The central processor, internal MOS memory, mass-storage  controllers,
   and peripheral controllers are combined in one cabinet.



   2.3  MEMORY SYSTEMS   2.3  MEMORY SYSTEMS

   Types of memory storage units available for the  -10  series  hardware
   systems include:  MF10, MG10, or MH10 core memory; MS10, MF20, or MG20
   MOS memory; and MB20 or MA20 internal memory.

   The KL Central Processor supports:

         o  MF10      - core memory

         o  MG10      - core memory



                                    2-2
                          HARDWARE FAMILIARIZATION                          HARDWARE FAMILIARIZATION


         o  MH10      - core memory

         o  MB20/MA20 - internal memory

         o  MF20      - MOS memory

         o  MG20      - MOS memory

   The KS10 Central Processor supports:

         o  MS10      - MOS memory



   2.4  FRONT-END PROCESSORS (KL SYSTEMS)   2.4  FRONT-END PROCESSORS (KL SYSTEMS)

   The PDP-11 based console/diagnostic processor is also referred to as a
   console front-end (CFE).  The console front-end handles:

         o  Line printers

         o  Card readers

         o  Floppy disks

         o  Terminals

         o  Console functions

         o  Microcode loading

         o  Memory configuration

         o  System startup

         o  System fault continuation

         o  Diagnostics

   The console front end is in the cabinet to the left  of  the  cabinets
   containing  the  central  processor, internal memory, and mass-storage
   controllers.  The PDP-11 interfaces to KL processors through  the  DTE
   (Digital  Ten-to-Eleven)  interface.  The front-end memory consists of
   28K of 18-bit words (16 data bits and 2 parity bits).

   Additional  PDP-11  based  front-end  processors,   referred   to   as
   communications  front  ends,  can  be  attached  to  the  KL10B  or  D
   processors  through  the  integrated  DTE20  interface  or  DL10  data
   channel.   On  the  KL10E  and  KL10R  they  are  attached through the
   integrated DTE20.  Communications front ends  provide  the  facilities
   for  supporting interactive terminals and unit record remote stations.
   They can be attached locally through direct electrical connections  or


                                    2-3
                          HARDWARE FAMILIARIZATION                          HARDWARE FAMILIARIZATION


   remotely through dedicated or dial-up telephone lines.

   The DN87 front-end  provides  synchronous  line  protocol  to  support
   remote  stations such as the DN80 series and the DN92.  They attach to
   the processors through the DL10 data channel.  The  DN87,  DN87S,  and
   DN20  front  ends  provide synchronous and/or asynchronous protocol to
   support remote stations, depending upon  the  line  options  selected.
   The  DN87  attaches  to  the KL10B or D through the DL10 communication
   channel.  The DN20 or DN87S attach to the  KL10B,  KL10D,  KL10E,  and
   KL10R through the integrated DTE20 interface.



   2.5  FLOPPY DISKS   2.5  FLOPPY DISKS

   Three floppy disks are  distributed  with  each  new  version  of  the
   TOPS-10  software for all 1091 and 1095 systems.  Their main functions
   include loading and starting the PDP-11 and the KL10.  They  also  run
   diagnostics that pertain to the front-end processor.



   2.6  DECtapes   2.6  DECtapes

   Three DECtapes are distributed with each new version  of  the  TOPS-10
   software  for  all 1090 systems.  Their main functions include loading
   and starting the PDP-11 and the KL10.  They also run diagnostics  that
   pertain to the front-end processor.



   2.7  THE MICROPROCESSOR (KS SYSTEMS)   2.7  THE MICROPROCESSOR (KS SYSTEMS)

   The microprocessor on the KS system (2020) is a single microprogrammed
   chip, which is a complete central processing unit.  The microprocessor
   handles console functions, diagnostics, microcode-loading  and  system
   startup.



   2.8  PERIPHERAL DEVICES   2.8  PERIPHERAL DEVICES

   Peripheral  devices  include  line  printers,  card  readers,  DECtape
   drives,  disk  packs  and  drives,  magnetic  tape  devices, plotters,
                                             _______________   __________   terminals,  and  remote  stations.   The  TOPS-10/TOPS-20   Operator's
   ________  ______  ___  ___________  _____   Hardware  Device  and  Maintenance  Guide  details  the  operation and
   maintenance of the peripheral devices.







                                    2-4
                          HARDWARE FAMILIARIZATION                          HARDWARE FAMILIARIZATION


   2.8.1  Overview of Peripheral Device Maintenance   2.8.1  Overview of Peripheral Device Maintenance


                                    NOTE

           If you have misplaced the operator's  manual  enclosed
           with  the  peripheral  device  you wish to operate and
           maintain, contact your  Field  Service  representative
           for  complete  information  on operation, maintenance,
           and safety measures.

   Because most equipment operates more efficiently if it is kept  clean,
   a  cleaning  procedure  is  documented  in  the Device and Maintenance
   Guide.  Here are some general rules for cleaning.  You should have the
   following cleaning supplies available:

         o  91% isopropyl alcohol

         o  Lint-free wipers

         o  Spray cleaner

         o  Vacuum cleaner with rubber or plastic attachments, which  can
            blow air as well as take in air

         o  Cotton-tipped applicators

         o  Soft suede brush

   You should clean the exterior of all  equipment  weekly.   Vacuum  all
   outside  surfaces  including  cabinet  tops.  Use spray cleaner on all
   vertically exposed surfaces except around switches.

   In general, do not clean the  interior  of  any  equipment  unless  so
   directed  in  the  Device  and  Maintenance  Guide; your Digital Field
   Service representative  does  that  job.   Specific  instructions  for
   cleaning  line  printers  and  magnetic  tape  drives are given in the
   Device and Maintenance Guide.

   Always be careful not to bump or change the position of any  switches;
   this  could  cause  the system or the device to crash.  Likewise, when
   you are cleaning the exterior of any disk drives, be  careful  not  to
   jar the equipment; this could cause a serious hardware head crash.

   Lastly, if you ever have any problem or doubts concerning the cleaning
   procedure for a device, consult your Field Service representative.



   2.8.2  Line Printers   2.8.2  Line Printers

   Each system requires at least one line printer.   The  following  line


                                    2-5
                          HARDWARE FAMILIARIZATION                          HARDWARE FAMILIARIZATION


   printers are available:

         o  LP05

         o  LP07

         o  LP10

         o  LP14

         o  LP26/27

         o  LP29

         o  LN01/03 laser printer

   All the line printers are 132-column devices, and have either a 64- or
   96-character  print  set.   Those with the 96-character print set have
   uppercase and lowercase characters.  LP10  printers  have  a  Vertical
   Format Unit (VFU), which consists of a carriage control tape.  The VFU
   controls paper motions in  the  printer.   All  other  models  have  a
   Direct-Access  Vertical  Format Unit, or DAVFU, which is controlled by
   software (see Section 7.7).



   2.8.3  Card Readers/Punches   2.8.3  Card Readers/Punches

   Card readers are mainly used in batch processing.   Card  readers  are
   input  devices  only.   The  following  card  readers  and punches are
   available:

         o  The CR10-D table model  card  reader,  which  processes  1000
            cards per minute.

         o  The CR10-E console card reader, which  processes  1200  cards
            per minute.

         o  The CR10-F table model card reader, which processes 300 cards
            per minute.

         o  The CP10-D card punch, which processes 100 cards per minute.

   Card readers are interfaced to the central processor through the  BA10
   controller  on  1070, 1077, 1080, 1090, and 1099 systems; card punches
   are interfaced through the CP10-D controller.  On 1091, 1095, and 2020
   systems, the card readers are interfaced through the CD20 controller.







                                    2-6
                          HARDWARE FAMILIARIZATION                          HARDWARE FAMILIARIZATION


   2.8.4  DECtapes   2.8.4  DECtapes

   The TU56 DECtape drive is a bi-directional,  random  access,  magnetic
   tape  storage device available on the 1070, 1077, 1080, 1090, and 1099
   systems.  Each TU56 is a dual tape transport, and, up to 4 of the dual
   drives can be attached to each TD10-C DECtape controller.



   2.8.5  Disk Packs   2.8.5  Disk Packs

   Disk storage allows rapid transfer of data in and out of main  memory.
   At  least  one disk must be dual-ported on the KL10 system so that the
   front-end computer and the  central  processor  can  both  access  the
   information  on  the  disk.  Each CPU in an SMP system requires a disk
   dual-ported from the CPU to the front-end.

   The following kinds of disk packs are available:

         o  The RP02 disk pack, which has a 5-million word capacity.

         o  The RP03 disk pack, which has a 10-million word capacity.

         o  The RS04 fixed-head disk pack, which  has  a  4-million  word
            (16-bit word) capacity.

         o  The RP04 disk pack, which has a 20-million word capacity.

         o  The RP06 disk pack, which has a 40-million word capacity.

         o  The RM03 disk pack, which has a 15-million word capacity.

         o  The RP20 disk pack, which has a 107.5-million  word  capacity
            per spindle.

         o  The RP07 disk pack, which has a 111-million word capacity.

         o  The RA60 removable disk pack, which  has  a  46-million  word
            capacity.

         o  The RA81 non-removable disk pack,  which  has  a  102-million
            word capacity.

   All words are 36 bits unless noted otherwise.

   The drives for these packs  provide  error  detection  and  correction
   hardware as well as high-speed access and transfer rates.

   On 1090, 1091, 1095, and 1099 systems, the RP04, RP06,  or  RP07  disk
   drives  have an RH20 integrated controller and data channel for access
   by the central processor.  If the drive has the dual-port option,  the
   console front-end processor accesses a disk drive through an RH11 disk


                                    2-7
                          HARDWARE FAMILIARIZATION                          HARDWARE FAMILIARIZATION


   controller.

   On 1090, 1091, 1095, and 1099 systems the RP20 disk drive has an  RH20
   integrated   controller  and  a  data  channel  connected  to  a  DX20
   programmed device adapter.  The DX20 is  connected  to  an  RP20  disk
   controller.   If  the disk is dual-ported, the main processor accesses
   the disk drive through the RH20.

   On the KS system, the RP06 or RM03 disk drives have an RH11 integrated
   controller and data channel for access by the central processor.

   On 1090, 1095 and 1099 systems, the RP04, RP06, or  RS04  disk  drives
   have an RH10 integrated controller and DF10 data channel for access by
   the central processor.  The RP02 and RP03 disk  drives  have  an  RP10
   integrated controller and a DF10 data channel.

   RP04, RP06, RP07, and RP20 disk drives are available with a  dual-port
   option.  This option allows a disk drive to be accessed over either of
   two paths.  In the KL series processors, for example, an RP04 or  RP06
   dual-ported  disk  drive  can contain files to be accessed by both the
   main processor and the console  front-end  processor.   A  dual-ported
   RP07  or  RP20  disk drive can only be accessed by the main processor.
   For KL SMP systems,  disk  drives  may  be  dual-ported  across  CPUs.
   Dual-ported  disks  decrease  overhead  and  increase availability and
   performance.

   The RA60 and RA81 disk drives can be dual-ported  between  two  HSC-50
   controllers.   These  controllers  can  be connected to different KL10
   CPUs in an SMP system.  This provides fail-safe capability in the case
   that one CPU crashes.



   2.8.6  Magnetic Tapes   2.8.6  Magnetic Tapes

   The following magnetic tape systems and drives are available:

        TE10      TU16      TU40

        TU41      TU45      TU70

        TU71      TU72      TU77

        TU78/79

   All magnetic tape drives are either 7- or 9-track  drives.   They  can
   handle one of the following groups of variable recording densities:

         o  200, 556, or 800 bits per inch (BPI)

         o  800 or 1600 BPI



                                    2-8
                          HARDWARE FAMILIARIZATION                          HARDWARE FAMILIARIZATION


         o  1600 or 6250 BPI

   Recording speeds vary from drive to drive, but fall in the range of 45
   to 200 inches per second.

   On KL systems, the TU45 and TU77 are interfaced through a TM02 or TM03
   controller to an RH20 integrated controller.  The TU70, TU71, and TU72
   are interfaced to an  RH20  through  a  DX20  and  TX02  or  they  are
   interfaced  to  a  DX10  through  a  TX01  or  TX02.   The  TU78/79 is
   interfaced to channels (RH11, RH20) through a TM78  controller  housed
   in the master TU78/79 tape drive.

   On KS systems, the TU45 is interfaced to an RH11 integrated controller
   and data channel through a TM02 or TM03 controller.



   2.8.7  Plotters   2.8.7  Plotters

   The following plotters are available:

         o  The XY10-A plotter with .01 inch, .005 inch, or .1 millimeter
            step  size at 18,000 steps per minute, and using 12-inch-wide
            paper.

         o  The XY10-B plotter with .01 inch step size  at  12,000  steps
            per  minute or .005 inch or .1 millimeter step size at 18,000
            steps per minute, and using 31-inch-wide paper.



   2.8.8  Terminals   2.8.8  Terminals

   The operator and each  timesharing  user  interacts  with  the  system
   through a terminal.  You will generally use a hardcopy terminal as the
   operator's terminal to start, stop, load, and continue the system  and
   user  programs.  Using a hardcopy terminal provides you with a printed
   record of all your interactions with the system and the  users.   This
   is  especially  useful when there is a problem with the system.  Users
   interact with  the  system  through  either  a  hardcopy  or  a  video
   terminal.   Several terminals can be used as operator's terminals, set
   to receive messages  from  certain  types  of  system  resources  (see
   Section  6.4).   The  CTY  is  also  a  hardcopy  terminal, useful for
   recording system events.  These listings can provide information vital
   to solving puzzling system crashes.



   2.8.8.1  Hardcopy Terminals   2.8.8.1  Hardcopy Terminals - Hardcopy terminals include:

         o  LA36 DECwriter II



                                    2-9
                          HARDWARE FAMILIARIZATION                          HARDWARE FAMILIARIZATION


         o  LA35RO (Recieve Only) DECwriter

         o  LA37APL DECwriter

         o  LA120 DECwriter

         o  LA180 DECprinter



   2.8.8.2  CRT Display Terminals   2.8.8.2  CRT Display Terminals - CRT display terminals include:

         o  VT50 and VT50H video terminals

         o  VT52 video terminal

         o  VT61 video terminal

         o  VT100 video terminal

         o  VT102 video terminal

         o  VT220 video terminal

         o  VT240 video terminal

         o  VT330 video terminal

         o  VT340 video terminal

   For a complete list of hardcopy and video terminals supported  by  the
   software, type:

        HELP *

   One piece of information returned by HELP *  is  a  list  of  terminal
   types.



   2.8.9  Remote Stations   2.8.9  Remote Stations

   The following remote stations  are  used  in  TOPS-10  ANF-10  network
   configurations:

         o  The DN80 series remote stations that can provide  remote  job
            entry  facilities  (DN80), remote terminal facilities (DN81),
            or a combination of both (DN82).

         o  The  DN92  remote  station,  which  can  be   configured   in
            combinations  of  terminal  lines  and a card reader and/or a
            line printer.  DN92 is not supported on 2020 systems.


                                    2-10
                          HARDWARE FAMILIARIZATION                          HARDWARE FAMILIARIZATION


         o  The  DN200  remote  station,  which  can  be  configured   in
            combinations  of  terminal  lines  and a card reader and/or a
            line printer.

         o  The DN20 remote station is a PDP-11 based processor that  can
            run communications functions for either ANF-10 or DECnet-10.

                                                _______  ______  ________   For information about ANF-10, refer to  the  TOPS-10  ANF-10  Networks
   ________ ____________ _____   Software Installation Guide.

                                                    _____________  ______   For information about DECnet-10, refer  to  the  DECnet-10/PSI  System
   _________ ___ __________ _____   Manager's and Operator's Guide.










































                                    2-11

























































                                    3-1












                                 CHAPTER 3                                 CHAPTER 3

                             SOFTWARE OVERVIEW                             SOFTWARE OVERVIEW



   The  -10  series  software  falls  into  three   general   categories:
   operating systems, languages, and utilities.



   3.1  OPERATING SYSTEMS   3.1  OPERATING SYSTEMS

   The main operating system for the -10 series hardware  is  called  the
   TOPS-10  monitor.   It  supports  timesharing,  batch processing, real
   time, and remote communications.

   The RSX-20F operating system runs in the console/diagnostic  processor
   on  KL systems.  It aids the central processor and TOPS-10 in handling
   system tasks such  as  system  loading,  console  communications,  and
   diagnostic functions.



   3.2  LANGUAGES   3.2  LANGUAGES

   The TOPS-10 monitor  supports  three  types  of  translators  used  in
   symbolic    language    programming:    assemblers,   compilers,   and
   interpreters.



   3.2.1  MACRO Assembler   3.2.1  MACRO Assembler

   MACRO is the symbolic  assembler  program  used  on  TOPS-10.   It  is
   device-independent;  input  and  output devices can be selected at run
   time and may vary from run to run.  MACRO also  contains  capabilities
   that allow the user to replace commonly-used sequences of instructions
   with a single statement.






                                    3-1
                             SOFTWARE OVERVIEW                             SOFTWARE OVERVIEW


   3.2.2  Compilers   3.2.2  Compilers

   The compilers on TOPS-10 include ALGOL,  COBOL,  BLISS,  and  FORTRAN.
   The ALGOrithmic Language, ALGOL, is a scientific language designed for
   the solution of computational processes, or algorithms.  TOPS-10 ALGOL
   is  composed  of  the ALGOL compiler for the translation of the source
   code and the ALGOL object-time system that provides  I/O  services,  a
   library of mathematical functions, and control of system resources.

   The COmmon Business Oriented Language, COBOL, is an industry-wide data
   processing   language   designed   for   business  applications.   Its
   English-like   statements   are   easily   learned   and   result   in
   self-documenting programs.  TOPS-10 COBOL includes the COBOL compiler;
   an object-time system, LIBOL; a source library maintenance program;  a
   COBOL checkout and debugging program, COBDDT; and ancillary programs.

   BLISS is a middle-level language, providing both a  substantial  class
   of  higher  level  facilities  while  permitting  access  to  hardware
   features and producing high-quality object code.  It is  intended  for
   use as a system implementation language.

   The  FORmula  TRANslator  language,  FORTRAN,  is   a   widely   used,
   procedure-oriented  language  designed  and primarily used for solving
   scientific  problems.   TOPS-10  FORTRAN-10  includes  the  FORTRAN-10
   compiler;  an  object-time  system, FOROTS; and a FORTRAN checkout and
   debugging program, FORDDT.



   3.2.3  Interpreters   3.2.3  Interpreters

   The interpreters include APL, CPL,  and  BASIC.   APL  (A  Programming
   Language)  is a completely conversational system especially suited for
   handling numeric and character array-structured data.  However, it  is
   also intended for use as a general data processing language.

   CPL is an interpreter supporting a  subset  of  the  draft  ANSI  PL/I
   language.   CPL  supports  the  following  classes  of  PL/I  built-in
   functions:  arithmetic, mathematical, string  array,  storage  control
   and pseudo-variables.

   The Beginner's All-purpose Symbolic Instruction  Code,  BASIC,  is  an
   easy  to  learn  problem-solving  language,  particularly  suited to a
   timesharing environment.  BASIC contains its own  editing  facilities.
   The   language   includes  statements  covering  matrix  computations,
   advanced string-handling capabilities, mathematical functions, and the
   generation of user-defined functions.







                                    3-2
                             SOFTWARE OVERVIEW                             SOFTWARE OVERVIEW


   3.3  UTILITIES AND OTHER SOFTWARE   3.3  UTILITIES AND OTHER SOFTWARE

   TOPS-10  provides  many  utilities,  including  text   editors,   text
   processors,  file  manipulators,  maintenance  programs,  and  monitor
   support programs.  These programs  are  called  Commonly  Used  System
   Programs (CUSPs):

   BACKUP    A system program to save disk files on  magnetic  tape,  and
             later  to  restore any or all of the files back to disk (see
             Appendix E).

   DDT       The  Dynamic  Debugging  Technique  used  for  the   on-line
                                                           _______ ______             checkout  and  updating  of programs (see the TOPS-10 DDT-10
             ______             Manual).

   DIRECT    DIRECT is a CUSP used to list user  directories  from  disk,
             magnetic  tape,  and  DECtape.  Through the use of DIRECT, a
             user may at any time determine, from  a  terminal  or  batch
             job,  the  files  existing  in  the  user directory (see the
             _______ _________ ______ ________ ______             TOPS-10 Operating System Commands Manual).

   GALAXY    A group of programs  that  can  control  user  requests  for
             devices,  accounting,  and batch jobs, as well as the system
             unit record devices (see Chapter 7).

   LINK-10   A linking  loader  to  merge  independently-compiled  object
                                                             _______ ____             files  into  one  executable  program  (see the TOPS-10 LINK
             _________ ______             Reference Manual).

   OPR       The operator's command interface, which allows communication
             with various parts of the monitor and the GALAXY system (see
                 _______ __________ _______ ________ _________ ______             the TOPS-10 Operator's Command Language Reference Manual).

   OPSER     A service  program  that  allows  you  to  control  multiple
                                                       _______ __________             subjobs  from  a single terminal (see the TOPS-10 Operator's
             _______ ________ _________ ______             Command Language Reference Manual).

   PIP       A file interchange program  to  selectively  transfer  files
             from  one  type of media to another and concurrently perform
             limited editing and directory manipulation.   PIP  functions
             are  performed by monitor commands like DELETE and COPY (see
                 _______ ____ _________ ______             the TOPS-10 User Utilities Manual).

   RUNOFF    A text processing program that produces a  final  formatted,
             paged,  right-justified  output  from  an  edited  file with
                                                  _______ ____  _________             appropriate RUNOFF commands (see the TOPS-10 User  Utilities
             ______             Manual).

   TECO      A character-oriented text editor with the  ability  to  edit
             any  source  document  without  requiring special formatting
                      _______ ____ _________ ______             (see the TOPS-10 User Utilities Manual).



                                    3-3

























































                                    4-1












                                 CHAPTER 4                                 CHAPTER 4

                    STARTING THE KS10 CENTRAL PROCESSOR                    STARTING THE KS10 CENTRAL PROCESSOR



   4.1  SWITCHES AND LIGHTS   4.1  SWITCHES AND LIGHTS

   Before you start the DECSYSTEM-2020, you must become familiar with the
   switches and lights on the cabinet.

   Four rocker switches and one key switch are located on the  top  right
   corner  of  the  front  panel.  Just above them are the four indicator
   lights.

   The rocker switches are load switches.  They are labeled  BOOT,  LOCK,
   RESET,  and  POWER.  To set any of these switches to ON, press the top
   half of the switch.  Table 4-1  lists  the  load  switches  and  their
   functions.


   Table 4-1:  Load Switches   Table 4-1:  Load Switches

   ______________________________________________________________________

     Switch                           Function
   ______________________________________________________________________

     BOOT        Boots the system from either the default device or the
                 last selected device.

     LOCK        Disables the BOOT and RESET switches and prevents  the
                 console program from recognizing a CTRL/backslash.

     RESET       Starts  the  system   without   beginning   the   boot
                 procedure.

     POWER       Supplies power to the system and  automatically  loads
                 the  system  from  the default device 30 seconds after
                 being switched from 0 to  1.   The  "1"  next  to  the
                 switch  means  that it is on; the "0" means that it is
                 off.
   ______________________________________________________________________


                                    4-1
                    STARTING THE KS10 CENTRAL PROCESSOR                    STARTING THE KS10 CENTRAL PROCESSOR


   The key switch on the right is the REMOTE DIAGNOSIS switch.  This is a
   3-position  key  switch  that  controls  access  to  the KLINIK remote
   diagnosis facility.  (See Chapter 11 for more information on  KLINIK.)
   You  can  remove  the  key  with  the  switch  set to any of the three
   positions.

   Table 4-2 lists  the  REMOTE  DIAGNOSIS  switch  positions  and  their
   functions.  Your system manager should tell you which setting to use.


   Table 4-2:  REMOTE DIAGNOSIS Switch Positions   Table 4-2:  REMOTE DIAGNOSIS Switch Positions


   ______________________________________________________________________

     Position                         Function
   ______________________________________________________________________

     DISABLE     Prohibits access to  the  system  through  the  KLINIK
                 link.

     PROTECT     Allows access to the system through the  KLINIK  link,
                 but only if the password entered from the link matches
                 the password previously entered by the operator.

     ENABLE      Allows access to the system through the KLINIK link.
   ______________________________________________________________________


   There are  four  indicator  lights  above  the  switches.   Table  4-3
   describes each of the indicator lights.


   Table 4-3:  Indicator Lights   Table 4-3:  Indicator Lights


   ______________________________________________________________________

     Light      Condition                    Explanation
   ______________________________________________________________________

     STATE     ON              The  microprocessor   has   successfully
                               loaded  the  microcode  and  is  up  and
                               running,  but  the   TOPS-10   operating
                               system is not yet running.

               OFF             The microprocessor has stopped.

               BLINKING        The  microprocessor   has   successfully
                               loaded  the  monitor.  The monitor is in
                               the timesharing state, and is exchanging
                               dialog  with  the console program in the


                                    4-2
                    STARTING THE KS10 CENTRAL PROCESSOR                    STARTING THE KS10 CENTRAL PROCESSOR


                               microprocessor.  During input and output
                               to the CTY, the blinking slows down.

     FAULT     ON              The system is malfunctioning.  This  can
               (during         mean that there is an  error  in  device
               system          selection   or   that   there    is    a
               loading)        microprocessor  fault.   Make  sure  the
                               disk  or  magnetic  tape  is  mounted on
                               drive 0.  Try to reload.  If the  reload
                               fails,    call    your   Field   Service
                               representative.

               ON              The microprocessor  has  stopped.   Try
               (during         to reload.  If the reload  fails,  call
               timesharing)    your Field Service representative.

               OFF             The    microprocessor    is    operating
                               normally.

     POWER     ON              The central processor is powered up.

               OFF             The central processor is powered down.

     REMOTE    ON              The KLINIK link has been enabled.

               OFF             The KLINIK link cannot be accessed.
   ______________________________________________________________________



   4.2  POWERING UP THE SYSTEM   4.2  POWERING UP THE SYSTEM

   Before you power up the system, turn on the  console  terminal  (CTY).
   Make  sure  that  it  is  online,  and  has paper.  Make sure that the
   following peripheral devices are powered up.  If they are not, see the
   _______________  __________  ________ ______ ___ ___________ _____   TOPS-10/TOPS-20  Operator's  Hardware Device and Maintenance Guide for
   procedures.

         o  Line printers

         o  Magnetic-tape drives

         o  Disk drives

   To power up the system, press the POWER switch on the CPU  to  the  ON
   position.   The  POWER  light will go on.  If you do not type <CTRL/C>
   within 30 seconds, the system will begin the automatic boot  procedure
   from  disk.   (See Section 4.3.1 for more information on the automatic
   boot procedure.)





                                    4-3
                    STARTING THE KS10 CENTRAL PROCESSOR                    STARTING THE KS10 CENTRAL PROCESSOR


   4.3  LOADING THE SYSTEM USING DEFAULT PARAMETERS   4.3  LOADING THE SYSTEM USING DEFAULT PARAMETERS

   Before you begin to load the DECSYSTEM-2020, make sure that:

         o  All hardware and software is properly installed.

         o  The disk packs are mounted properly.

         o  The LOCK switch is off.

   If you are installing the system for the first time, or  installing  a
                                            _______ ________ ____________   new  version  of  the  software, see the TOPS-10 Software Installation
   _____   Guide.

   The default parameters for loading the system are:

         o  UBA1 is the UNIBUS adapter for disk.

         o  UBA3 is the UNIBUS adapter for magnetic tape.

         o  RHBASE 776700 is the address of RH11 controller for disk.

         o  RHBASE 772440 is the address of RH11 controller for  magnetic
            tape.

         o  Unit 0 is the disk drive and magnetic-tape drive.

         o  DSK:SYSTEM.EXE[1,4] is the monitor file.

                                    NOTE

           The unit number is the only parameter you can change.

   You can use the default parameters to load the system either from disk
   (Section  4.3.1)  or  from  magnetic  tape  (Section  4.3.3).   To use
   nondefault parameters to load the system, see Section 4.4.

   To reload the monitor from disk  pack  when  the  monitor  is  already
   running, see Section 4.3.2.

   After you answer the monitor startup questions  described  in  Section
   5.6,  INITIA  may  print  a  few lines on the CTY.  The INITIA program
   automatically starts the  jobs  you  always  want  to  run  at  system
                                                                  _______   startup,  and  initializes  terminal characteristics.  See the TOPS-10
   ________ ____________ _____   Software Installation Guide for more information on INITIA.



   4.3.1  Powering Up and Loading from Disk   4.3.1  Powering Up and Loading from Disk

   To load the system from disk  using  the  default  parameters  do  the
   following:


                                    4-4
                    STARTING THE KS10 CENTRAL PROCESSOR                    STARTING THE KS10 CENTRAL PROCESSOR


        1.  Press the POWER switch to the ON position.  The  POWER  light
            goes  on,  the microprocessor prints its ROM code and version
            number on the CTY, and the system  automatically  boots.   To
            stop  the  automatic  boot  procedure, type CTRL/C on the CTY
            within 30 seconds of pressing  POWER.   If  you  receive  the
            message, "?NXM", on the CTY, you can ignore it.

        2.  Press RETURN where indicated in the following sample dialog:

            KS10 CSL.V4.2       Microprocessor  ROM  code   and   version
                                number.

            BT AUTO             This  message  prints  30  seconds  after
                                power-up.

            BOOT V#(#)          BOOT version number.

                 _____            BOOT><RET>          Press RETURN to load the default  monitor
                                from the file DSKB:SYSTEM.EXE[1,4].

            Immediately  after   the   system   prints   BT   AUTO,   the
            microprocessor  starts  the  boot procedure from disk unit 0.
            The system then assumes all of the  default  parameters.   If
            the  CTY  does  not print the BOOT prompt, the automatic boot
            procedure has failed.  If that happens,  check  the  disk  to
            make  sure it is properly mounted.  If no hardware problem is
            apparent, the default parameters may be incorrectly set.

            To remedy this situation, follow the steps in  Section  4.4.1
            to  reset  the  default  parameters,  or the steps in Section
            4.3.3 to load the monitor from magnetic tape.

            When the monitor has been loaded  into  memory,  the  monitor
            startup  questions  begin.   If the system does not print the
            first monitor startup question (Why reload: ), BOOT sends  an
            error  message.   (For  explanations  of  BOOT  messages, see
            Appendix A.)

        3.  Answer the monitor startup  questions  described  in  Section
            5.6.



   4.3.2  Reloading the Monitor from Disk   4.3.2  Reloading the Monitor from Disk

   To reload the monitor from disk when the monitor is  already  running,
   halt  timesharing  and  reload  the  monitor.  To do this, perform the
   following steps:

        1.  Make sure the POWER light is on.  (See Section 4.3.1.)




                                    4-5
                    STARTING THE KS10 CENTRAL PROCESSOR                    STARTING THE KS10 CENTRAL PROCESSOR


        2.  Type the following commands:

             ___ ________            .RUN OPR<RET>                 Run the OPR program.

                ___ ____ __________            OPR>SET KSYS +0:05<RET>       This halts timesharing in  five
                                          minutes.
                                          To change the amount  of  time,
                                          see the SET KSYS command in the
                                          __________   _______   ________                                          Operator's   Command   Language
                                          _________ ______                                          Reference Manual.

                _________            OPR>EXIT<RET>                 Exit the OPR program.

        3.  Wait five minutes before  proceeding  and  then  perform  the
            following steps on the CTY.

             __            .^\ENABLED                    Type CTRL/backslash (shown here
                                          as  ^\) to communicate with the
                                          microprocessor.  CTRL/backslash
                                          does not echo on the CTY.

                 _________            KS10>SHUT<RET>                Type SHUT and press  RETURN  to
                                          shut down the system.

            KS10>USR MOD                  The  CTY  automatically  enters
                                          user mode.

                 __________            BOOT>DSKB:<RET>               Type DSKB:  and press RETURN to
                                          load  the  default monitor from
                                          the file DSKB:SYSTEM.EXE[1,4].

            [Loading from DSKB:SYSTEM.EXE[1,4]]

                                          BOOT reloads the monitor.

            When the monitor has been loaded  into  memory,  the  monitor
            startup questions begin.

        4.  Answer the monitor startup  questions  described  in  Section
            5.6.



   4.3.3  Powering Up and Loading from Magnetic Tape   4.3.3  Powering Up and Loading from Magnetic Tape

   Before you load  the  system  from  magnetic  tape  with  the  default
   parameters, make sure that:

         o  All of the software is on magnetic tape.  If it is  not,  see
            Section 4.3.1.




                                    4-6
                    STARTING THE KS10 CENTRAL PROCESSOR                    STARTING THE KS10 CENTRAL PROCESSOR


         o  The magnetic tape is mounted on tape-drive unit 0.  If it  is
                           _______________ __________ ________ ______ ___            not,  see  the TOPS-10/TOPS-20 Operator's Hardware Device and
            ___________ _____            Maintenance Guide for instructions.

   To load the system from magnetic tape using default parameters, do the
   following:

        1.  Make sure the POWER light is on.  If the  light  is  not  on,
            press  POWER  to  the  ON  position and type CTRL/C within 30
            seconds.  If you do not type CTRL/C within  30  seconds,  the
            system   begins  the  automatic  boot  procedure  from  disk.
            Section 4.3.1 explains the automatic boot procedure.

        2.  Make  sure  a  bootstrap  tape,  such  as   the   distributed
            installation tape, is mounted on drive 0.

                                    ___________        3.  Type everything that is underscored in the  following  sample
            dialog:

                 _______            KS10>MT<RET>           Type MT and then press RETURN.

            KS10>USR MOD           The CTY enters user mode.

            BOOT V#(##)            BOOT version number.

                 _____            BOOT><RET>             Press  RETURN  to  load  the   default
                                   monitor       from       the      file
                                   DSKB:SYSTEM.EXE[1,4].

            See Appendix B for information  on  the  KS10  microprocessor
            commands.   When the monitor has been loaded into memory, the
            monitor startup questions begin.

        4.  Answer the monitor startup  questions  described  in  Section
            5.6.



   4.4  LOADING THE SYSTEM USING NONDEFAULT PARAMETERS   4.4  LOADING THE SYSTEM USING NONDEFAULT PARAMETERS

   Before  you  begin  to  load  the  DECSYSTEM-2020   using   nondefault
   parameters, make sure that:

         o  All hardware and software is properly installed.

         o  The disk packs are mounted properly.

         o  The LOCK switch is off.

   If you are installing the system for the  first  time,  refer  to  the
   _______ ________ ____________ _____   TOPS-10 Software Installation Guide.



                                    4-7
                    STARTING THE KS10 CENTRAL PROCESSOR                    STARTING THE KS10 CENTRAL PROCESSOR


   4.4.1  Loading from Disk and Changing Parameters   4.4.1  Loading from Disk and Changing Parameters

   To load from a disk mounted on a drive other than unit 0, perform  the
   following steps:

        1.  Make sure the POWER light is on.  If the  light  is  not  on,
            press  POWER  to  the  ON  position and type CTRL/C within 30
            seconds.  If you do not type CTRL/C within  30  seconds,  the
            system will begin the automatic boot procedure.  (See Section
            4.3.1 for more information on the automatic boot procedure.)

        2.  Make sure the disk pack is mounted on the drive you want.

                                    ___________        3.  Type everything that is underscored in the  following  sample
            dialog.   When  you  press  RETURN  to answer a question, the
            system assumes the default value.

                 _______            KS10>DS<RET>           Type DS then press RETURN.

                  _____            >>UBA?<RET>            Which  UBA  is  the  drive  controller
                                   attached to?  Press RETURN.

                     _____            >>RHBASE?<RET>         What is the RH11 base address?   Press
                                   RETURN.

                    _____            >>UNIT?n<RET>          Type the disk-drive  unit  number  (n)
                                   and  press RETURN.  Currently, UNIT is
                                   the  only  parameter  that   you   may
                                   change.

                 _______            KS10>BT<RET>           Type BT and press RETURN.

            BOOT V#(#)             BOOT version number.

                 _____            BOOT><RET>             Press  RETURN  to  load  the   default
                                   monitor       from       the      file
                                   DSKB:SYSTEM.EXE[1,4].

            When the monitor has been loaded  into  memory,  the  monitor
            startup  questions  begin.   If the system does not print the
            first monitor startup question, BOOT prints an error message.
            See Appendix A for information about BOOT error messages.

        4.  Answer the monitor startup  questions  described  in  Section
            5.6.




   4.4.2  Loading from Magnetic Tape and Changing Parameters   4.4.2  Loading from Magnetic Tape and Changing Parameters

   To load from a magnetic-tape drive other than  drive  0,  perform  the


                                    4-8
                    STARTING THE KS10 CENTRAL PROCESSOR                    STARTING THE KS10 CENTRAL PROCESSOR


   following steps:

        1.  Make sure the POWER light is on.  If the  light  is  not  on,
            press  POWER  to  the  ON  position and type CTRL/C within 30
            seconds.  If you do not type CTRL/C within  30  seconds,  the
            system will begin the automatic boot procedure from the disk.
            (See  Section  4.3.1  for  details  on  the  automatic   boot
            procedure.)

        2.  Make sure the monitor tape is mounted  on  the  magnetic-tape
            drive you want.  The default drive is 0.

                                    ___________        3.  Type everything that is underscored in the  following  sample
            dialog.   When  you  press  RETURN  to answer a question, the
            system assumes the default value.

                 _______            KS10>MS<RET>           Type MS and press RETURN.

                  _____            >>UBA?<RET>            Which  UBA  is  the  drive  controller
                                   attached to?  Press RETURN.

                     _____            >>RHBASE?<RET>         What is the RH11 base address?   Press
                                   RETURN.

                  _____            >>TCU?<RET>            What  is  the   tape-controller   unit
                                   number?   Press  RETURN.   Your system
                                   may print UNIT.   UNIT  and  TCU  both
                                   refer   to  the  tape-controller  unit
                                   number.

                   _____            >>DENS?<RET>           What is the tape  density?   The  tape
                                   density  depends  on the type of drive
                                   you have.  (See  Chapter  3  for  more
                                   information   about  tape  densities.)
                                   Press RETURN.

                   _____            >>SLV?n<RET>           What is the slave?   Type  the  number
                                   (n)  that  is  on  the  outside of the
                                   magnetic-tape drive and press RETURN.

                 _______            KS10>MT<RET>           Type MT and press RETURN.

            KS10>USR MOD           The CTY enters user mode.

            BOOT V#(#)             BOOT version number.

                 _____            BOOT><RET>             Press  RETURN  to  load  the   default
                                   monitor from the magnetic tape.

            When the monitor has been loaded  into  memory,  the  monitor
            startup questions begin.



                                    4-9
                    STARTING THE KS10 CENTRAL PROCESSOR                    STARTING THE KS10 CENTRAL PROCESSOR


        4.  Answer the monitor startup  questions  described  in  Section
            5.6.



   4.4.3  Loading the Monitor from a Nondefault File   4.4.3  Loading the Monitor from a Nondefault File

   To load a monitor from a file other than DSKB:SYSTEM.EXE[1,4], perform
   the following steps:

        1.  Load the system as usual from disk (see  Sections  4.3.1  and
            4.4.1) or magnetic tape (see Sections 4.3.3 and 4.4.2).  When
            the CTY prints the bootstrap program prompt  (BOOT>)  perform
            Step 2.

        2.  Type the monitor name (for example, NEWMON.EXE) or a complete
            file  specification  and  then press RETURN.  Everything that
                        ___________            you type is underscored in the following example:

                 _______________            BOOT>NEWMON.EXE<RET>   This is an example of  using  BOOT  to
                                   load the monitor from disk or magnetic
                                   tape.

            When the monitor has been loaded  into  memory,  the  monitor
            startup questions begin.

        3.  Answer the monitor startup  questions  described  in  Section
            5.6.



   4.5  ANSWERING MONITOR STARTUP QUESTIONS   4.5  ANSWERING MONITOR STARTUP QUESTIONS

   When you have loaded the microcode, the  bootstrap  program,  and  the
   monitor,  you  can start timesharing by answering the questions in the
   monitor startup dialog.  Section 5.6  briefly  describes  the  startup
                       _______ ________ ____________ _____   dialog.   See  the  TOPS-10 Software Installation Guide for a detailed
   discussion of the dialog.
















                                    4-10












                                 CHAPTER 5                                 CHAPTER 5

                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR



   This  chapter  contains  step-by-step  instructions  for  loading  and
   starting  a  KL  system.   Sections  5.1  through  5.8  apply  to both
   single-processor  and   Symmetric   Multiprocessing   (SMP)   systems.
   Sections 5.9 through 5.9.2 apply to SMP systems only.

   To load and start a single-processor  system,  perform  the  following
   steps:

        1.  Power up the system.  (See Section 5.2.)

        2.  Load the RSX-20F front-end file system.  (See Section 5.3.)

        3.  Load the monitor and start the central processor (CPU).  (See
            Section 5.4 or Section 5.5.)

        4.  Answer the monitor startup questions.  (See Section 5.6.)

        5.  Load the communications front end (if any).

   To load and start an SMP system, perform the following steps:

        1.  Read  Section  5.9,  which  defines  the  terms  policy   and
            nonpolicy CPU.

        2.  Power up the system.  (See Section 5.2.)

        3.  Load the RSX-20F front-end file system on each nonpolicy  CPU
            from disk or DECtape using the switch register.  (See Section
            5.5.1)

        4.  Load  the  RSX-20F  front-end  file  system,  the   bootstrap
            program,  and  the  monitor on the policy CPU.  Do not answer
            the monitor startup questions at  this  time.   (See  Section
            5.9.1.)

        5.  Start each nonpolicy CPU.  (See Section 5.9.1.)



                                    5-1
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


        6.  Answer the monitor startup  questions  at  the  CTY  that  is
            attached to the policy CPU.  (See Section 5.6.)

        7.  Load any communications front ends.

   At nearly every step there are choices that you must  make  about  how
   you  want  the  system to start.  For example, there are at least four
   ways to load RSX-20F, and two ways to load the monitor.  To  help  you
   make  these  choices  and  to  help  you find the sections that are of
   interest to you, see Figures 5-1 through 5-3.


                              START
                                |
                                v
                           See Sections
                          5.1 through 5.3
                                |
                                v                 YES    See Sections
                      Do you have an SMP system?-------> 5.9.1 and 5.9.2
                                | NO                 
                                v
                           See Figures 
                           5-2 and 5-3
                                |
                                v
                               End


   Figure 5-1:  Reading Path for Chapter 5   Figure 5-1:  Reading Path for Chapter 5



   5.1  SWITCHES AND LIGHTS   5.1  SWITCHES AND LIGHTS

   Before you start your system, become familiar with  the  switches  and
   lights on the cabinets.

   On all systems except the 1091, six rocker switches are located in the
   middle  of  the  front  panel.   Just to the right of them are the two
   indicator lights.

   On the 1091, six rocker switches are located on the top left corner of
   the  front  panel.   To  the  right of the rocker switches are the two
   power switches.  Just above the rocker switches are the two  indicator
   lights.








                                    5-2
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


          START
            |
            v                 
   +---------------------+
   | Do you want to load |  YES
   |     from magtape?   |--------------+
   +---------------------+              |
            |NO                         |
            |                           |
            v                           v
   +---------------------+      +-------------------+
   | Do you want to load |  YES | [1] Load with     |
   |  with non-defaults? |----->| switch register   |
   +---------------------+      +-------------------+
            |NO                         |
            |                           |
            |                           v
            |                   +--------------+     +---------------+
            +------------------>| Is bootstrap | YES | [3] Load      |
                                |  on disk?    |---->| from disk     |
                                +--------------+     +---------------+
                                        |NO                |
                                        |                  v
                                        |                 END
                                        v
                                +--------------+     +---------------+
                                | Do you have  | YES | [4] Load      |
                                |   a 1091?    |---->| from floppies |
                                +--------------+     +---------------+
                                        |NO                |
                                        |                  v
                                        |                 END
                                        v
                                +--------------+
                                | [2] Load     |
                                | from DECtape |
                                +--------------+
                                        |
                                        v
                                       END                           

   When you are tracing through this flowchart, if you pass through:

             [1] and [2], load from DECtape  using  the  switch
             register.  (See Section 5.5.1)

             [1] and [3],  load  from  disk  using  the  switch
             register.  (See Section 5.5.1)

             [1] and [4], load from floppies using  the  switch
             register.  (See Section 5.5.1)



                                    5-3
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


             [2], load from DECtape.  (See Section 5.4.4)

             [3], load from disk.  (See Section 5.4.1)

             [4], load from floppies.  (See Section 5.4.3)


   Figure 5-2:  RSX-20F Loading Choices   Figure 5-2:  RSX-20F Loading Choices


   START
     |
     |
     v
   Did you load             Do you want
   RSX-20F with     YES     to load from     YES
   the SW/REG?------------->magnetic tape?--------->See Section 5.5.2
     |                             |                           |
     |NO                           |NO                         |
     ----------------------------->|<----------------------------
                                   |
                                   v
                         Do you want to load         Press RETURN
                         the default monitor         to answer the 
                            from the file     YES    bootstrap program
                             SYSTEM.EXE? ----------->prompt.
                                   |NO                    |
                                   |                      |
                                   v                      v
                            See Section 5.5.3            END
                                   |
                                   |
                                  END


   Figure 5-3:  Monitor Loading Choices   Figure 5-3:  Monitor Loading Choices


   All systems have four load switches grouped together on the left front
   panel.  They are, from left to right, SW/REG, DISK, DECTAPE or FLOPPY,
   and ENABLE/DISABLE.  When you press the top half of a load switch,  it
   is ON.  Table 5-1 lists the load switches and their functions.












                                    5-4
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   Table 5-1:  Load Switches   Table 5-1:  Load Switches


   ______________________________________________________________________

     Switch                             Function
   ______________________________________________________________________

     SW/REG      Loads the front end according to the contents  of  the
                 switch register.

     DISK        Loads the front end from a disk pack.

     DECTAPE     (All systems except 1091) Loads  the  front  end  from
                 DECtapes mounted on the PDP-11 DECtape drives.

     FLOPPY      (1091 only) Loads the front end from floppy disks.

     ENABLE/     Enables loading from any load switch.
     DISABLE
   ______________________________________________________________________


   There are two power switches.  The  black  switch,  which  is  labeled
   POWER ON and POWER OFF, normally supplies or cuts power to the system.
   The red switch, which is labeled EMERGENCY POWER OFF, cuts  the  power
   in an emergency such as fire.

                                    NOTE

           Only your Field  Service  representative  can  restore
           power after you press the red switch.

   There are two indicator lights labeled FAULT  and  POWER.   Table  5-2
   explains these lights.



















                                    5-5
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   Table 5-2:  Indicator Lights   Table 5-2:  Indicator Lights


   ______________________________________________________________________

     Light     Condition                     Explanation
   ______________________________________________________________________

     FAULT     ON              The system is malfunctioning.  This  can
               (during         indicate one of the following faults:

               system             o  A circuit breaker was tripped.
               loading)           o  A cabinet door is open.
                                  o  The system is overheating.
                                  o  There is an air flow problem.

                               If the POWER light is not blinking,  one
                               of  the  above faults will cause a power
                               failure.

                               If you cannot correct  the  fault,  call
                               your Field Service representative.

               ON              The central processor  has stopped.  Try
               (during         to reload.  If the  reload  fails,  call
               timesharing)    your Field Service representative.

               OFF             The  central  processor   is   operating
                               normally.

     POWER     ON              The central processor is powered up.

               OFF             The central processor is powered down.

               BLINKING        A Field Service representative  at  your
                               installation  may have set OVERRIDE.  Do
                               not run the system  with  OVERRIDE  set.
                               OVERRIDE  prevents  the  processor  from
                               powering down  if  it  overheats.   Call
                               your Field Service Representative.

                               If the FAULT light is on and  the  POWER
                               light  is  blinking, then the system may
                               continue to run.
   ______________________________________________________________________


   The switch register contains 18 switches that represent bit  settings.
   These  switches, numbered 17 through 0 from left to right, set certain
   values when you load from the switch register.  To set a switch,  lift
   it up.  See Section 5.5.1 for more information on the switch register.



                                    5-6
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   5.2  POWERING UP THE SYSTEM   5.2  POWERING UP THE SYSTEM

   Before you power up the system, turn on the  console  terminal  (CTY).
   Make  sure  that  it  is  on  line  and has paper.  If you have an SMP
   system, there is a CTY for each CPU.  Turn on each  CTY,  making  sure
   that it is online and has paper.

   Make sure that the peripheral devices, as follows, are powered up.

         o  Line printers

         o  Magnetic-tape drives

         o  Disk drives

                                                          _______________   If they are not, see the appropriate chapters in  the  TOPS-10/TOPS-20
   __________ ________ ______ ___ ___________ _____   Operator's Hardware Device and Maintenance Guide for instructions.

   To power up the system, press the black power switch to the  POWER  ON
   position.

                                    NOTE

           If the FAULT light is on, the system will not power up
           unless OVERRIDE is set.  (See Table 5-2.)



   5.3  FAMILIARIZING YOURSELF WITH RSX-20F   5.3  FAMILIARIZING YOURSELF WITH RSX-20F

   The PDP-11 front end has its own front-end file system  and  front-end
   monitor.   The  front-end monitor is RSX-20F.  To avoid confusion with
   the TOPS-10 monitor, this manual refers  to  the  RSX-20F  monitor  as
   "RSX-20F"   and  the  TOPS-10  monitor  as  "the  monitor."  (See  the
   _______________  _______  ______   _________   ______   TOPS-10/TOPS-20  RSX-20F  System   Reference   Manual   for   complete
   information on RSX-20F.)

   The RSX-20F command language processor,  the  PARSER,  allows  you  to
   communicate  with  front-end  programs  such as KLINIT.  KLINIT is the
   program that initializes the  KL10  central  processor.   The  RSX-20F
   software  must  reside  on  a disk drive that is connected to both the
   PDP-11 and KL10.  The front-end file structure  cannot  reside  on  an
   RP07 or an RP20.

   Section 5.3.1 is a brief discussion of the PARSER and how to  use  it.
   Section 5.3.2 is a brief discussion of KLINIT and its operator dialog.



   5.3.1  Using the PARSER   5.3.1  Using the PARSER

   The PARSER allows you to communicate with RSX-20F.


                                    5-7
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   To enter the PARSER, type CTRL/backslash (^\).   (CTRL/backslash  does
   not  echo  on  the  CTY.)  The PARSER then prints one of the following
   prompts and waits for you to type a command:

        PAR>   The KL10 is running (that is, the KL10  clock  is  running
               and the KL10 run flip-flop is on).

        PAR%   The KL10 microcode is in a halt loop (that  is,  the  KL10
               clock is running, but the KL10 run flip-flop is off).

        PAR#   The KL10 clock is stopped and the KL10 is not running (the
               KL10 run flip-flop is off).

                                    NOTE

           If  the  PARSER  displays  the  PAR#   prompt   during
           timesharing, you must reload the system or restart the
           central processor.

   To exit from the PARSER, type QUIT.

                                                 _______________  _______   For more information on the PARSER, see  the  TOPS-10/TOPS-20  RSX-20F
   ______ _________ ______   System Reference Manual.



   5.3.2  Using KLINIT   5.3.2  Using KLINIT

   KLINIT is the KL10 initialization program.  By default KLINIT performs
   the following steps:

         o  Selects the MCA25 page table.  (MCA25 systems only.)

         o  Loads the KL10 microcode.

         o  Configures cache memory as  specified  in  the  configuration
            file, KL.CFG.

         o  Enables all caches.

         o  Configures KL10 memory as specified in KL.CFG.

         o  Configures all internal core memory.

         o  Configures all of the external memory modules.

         o  Configures up to 4-way memory interleaving.

         o  Sets the external-memory bus mode for optimal performance.

         o  Configures all MOS memory (1091 systems only).



                                    5-8
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


         o  Configures all memory blocks for controller n, where n is the
            current controller number.

         o  Loads the bootstrap specified in the KL.CFG file.   If  there
            is  no  KL.CFG file, KLINIT uses the default bootstrap, which
            loads the monitor from the default file, DSK:SYSTEM.EXE[1,4].

         o  Writes  a  new  KL.CFG  file  that   contains   the   current
            configuration and load parameters.

         o  Exits from KLINIT.

   The configuration of your system may  cause  KLINIT  to  skip  certain
   steps.   KLINIT  performs only the steps that are appropriate for your
   system.  If you have  SW/REG  set  to  OFF,  KLINIT  performs  default
   actions.  If you want to change any default parameters or actions, set
   SW/REG to ON.

   The KLINIT operator dialog  is  a  series  of  questions  preceded  by
   "KLI --".   To  enter the KLINIT operator dialog after you have loaded
   RSX-20F, do the following:

        1.  Set at least Switches 0, 1, and 2  in  the  switch  register.
            (See  Section  5.5.1  for more information on switch-register
            settings.)

        2.  Press the SW/REG and ENABLE load switches simultaneously.

        3.  Type YES and press RETURN when KLINIT  prints  the  following
            question on the CTY:

                 KLI -- ENTER DIALOG [NO, YES, EXIT, BOOT]?  YES<RET>

   To enter the KLINIT operator dialog when RSX-20F is  already  running,
                           ___________   type everything that is underscored in the following dialog:

        __        ^\                                      Type CTRL/backslash, (not
                                                echoed)   to  communicate
                                                with the PARSER.

            ___ ___________        PAR>MCR KLINIT<RET>                     Type MCR KLINIT and press
                                                RETURN to load KLINIT.

                                                ________        KLI -- ENTER DIALOG [NO, YES,EXIT,BOOT]?YES<RET>
                                                Type YES and press RETURN
                                                to   enter   the   KLINIT
                                                operator dialog.

   See Appendix D for detailed information on answering the KLINIT dialog
   questions.




                                    5-9
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   5.4  LOADING THE SYSTEM USING DEFAULT PARAMETERS   5.4  LOADING THE SYSTEM USING DEFAULT PARAMETERS

   Before you begin to load the system, make sure that:

         o  All hardware and software is properly installed.

         o  The disk packs are mounted properly.

   If you are installing the system for the first time, or  installing  a
                                            _______ ________ ____________   new  version  of  the  software, see the TOPS-10 Software Installation
   _____   Guide.

   The default parameters for loading the system are:

        1.  Unit 0 is the default disk or magnetic-tape drive.

        2.  DSK:SYSTEM.EXE[1,4] is the default monitor file.

        3.  KLINIT performs the default operations described  in  Section
            5.3.2.

   If you want to use nondefault  parameters  to  load  the  system,  see
   Section 5.5.

   You can load RSX-20F from one of the following:

        1.  Disk pack (all systems).  (See Section 5.4.1.)

        2.  Floppy disks (1091 systems only).  (See Section 5.4.3.)

        3.  DECtapes (all systems except 1091).  (See Section 5.4.4.)

   To load the monitor from magnetic tape, see Section 5.5.2.



   5.4.1  Loading RSX-20F from Disk   5.4.1  Loading RSX-20F from Disk

   Before you load RSX-20F from disk using the default  parameters,  make
   sure that:

         o  The POWER light is on.  If  it  is  not,  perform  the  steps
            listed in Section 5.2.

         o  The hardware and software are properly  installed.   If  they
                           ___ _______________ __________ ________ ______            are  not,  see the TOPS-10/TOPS-20 Operator's Hardware Device
            ___ ___________ _____            and Maintenance Guide for instructions.

         o  The  disk  pack  that  contains  RSX-20F  is  mounted  on   a
                                                                      ___            dual-ported   disk   drive.    If   it   is   not,   see  the
            _______________ __________ ________  ______  ___  ___________            TOPS-10/TOPS-20 Operator's Hardware  Device  and  Maintenance
            _____            Guide for instructions.


                                    5-10
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


         o  The disk pack is mounted on disk-drive unit 0.  If it is not,
            see Section 5.5.1.

   To load RSX-20F from disk, do the following:

        1.  Press the ENABLE half of the ENABLE/DISABLE Load  switch  and
            the  DISK  Load switch at the same time.  This causes RSX-20F
            to load from the disk on drive 0, and causes KLINIT to load.

                                    ___________        2.  Type everything that is underscored in the  following  sample
            dialog:

   RSX-20F VE##-## hh:mm dd-mmm-yy            RSX-20F     version     and
                                              creation time and date.

   [SY0:  REDIRECTED TO DB0:]                 DB0: is the  system  device
   [DB0:  MOUNTED]                            for the RSX-20F tasks.

   KLI -- VERSION VA##-##RUNNING              KLINIT   prints  this   and
   KLI -- KL10 S/N: 1026., MODEL B, 60 HERTZ  the following lines.
   KLI -- KL10 HARDWARE ENVIRONMENT:
           MCA25 CACHE PAGER
           EXTENDED ADDRESSING
           INTERNAL CHANNELS
           CACHE

   KLI--SELECT PAGE TABLE [FILE,BOTH,O,1]

       _________   KLI>BOTH<RET>

   KLI--PAGE TABLE SELECTED:BOTH

   KLI -- MICROCODE VERSION #.#[###] LOADED
   KLI -- ALL CACHES ENABLED

   LOGICAL MEMORY CONFIGURATION.
     ADDRESS  SIZE  INT  TYPE CONTROLLER
    00000000 1024K   4  DMA20  4

   KLI -- CONFIGURATION FILE WRITTEN
   KLI -- BOOTSTRAP LOADED AND STARTED        KLINIT   has   loaded   and
                                              started BOOT.

   BOOT V#(#)                                 BOOT version number.

        _____   BOOT><RET>                                 Press RETURN  to  load  the
                                              default  monitor  from  the
                                              file DSKB:SYSTEM.EXE[1,4].

   When the monitor has been loaded  into  memory,  the  monitor  startup
   questions  begin.  (See Section 5.6.) If the system does not print the
   first monitor startup question, BOOT prints an  error  message.   (See


                                    5-11
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   Appendix A for more information about BOOT messages.)

   If KLI -- followed by a message prints on  the  CTY  before  the  BOOT
   version number, see Chapter 11.



   5.4.2  Reloading the Monitor from Disk   5.4.2  Reloading the Monitor from Disk

   To reload the monitor from disk when the monitor is  already  running,
   first  halt  timesharing,  and  then  reload the monitor.  To do this,
   perform the following steps:

        1.  Make sure the POWER light is on.  If the light is not on, see
            Section 5.4.1.

                                    ___________        2.  Type everything that is underscored in the  following  sample
            dialog:

    _____ ________   .ENTER OPR<RET>
       ___ ____ ________   OPR>SET KSYS NOW<RET>
       _________   OPR>EXIT<RET>
   __   ^\                                         Type  CTRL/backslash   (not
                                              echoed) to communicate with
                                              the PARSER.

       _________   PAR>SHUT<RET>                              Type SHUT and press  RETURN
                                              to shut down the system.

   DECSYSTEM-10 NOT RUNNING                   The monitor has stopped.

        __________   BOOT>DSKB:<RET>                            Type   DSKB:    and   press
                                              RETURN  to load the default
                                              monitor   from   the   file
                                              DSKB:SYSTEM.EXE[1,4].

   [Loading from DSKB:SYSTEM.EXE[1,4]]        BOOT is now  reloading  the
                                              monitor.

            When the monitor has been loaded  into  memory,  the  monitor
            startup questions begin.

        3.  Answer the monitor startup  questions  described  in  Section
            5.6.



   5.4.3  Loading RSX-20F from Floppy Disks   5.4.3  Loading RSX-20F from Floppy Disks

   Before  you  load  RSX-20F  from  floppy  disks  using   the   default
   parameters, make sure that:



                                    5-12
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


         o  The POWER light is on.  If it is not, see Section 5.2.

         o  All of the software is  on  floppies.   If  it  is  not,  see
            Section 5.4.1.

         o  Floppy A, which contains BOOT, is mounted on Unit 0, the left
            unit.  If it is not, mount Floppy A on Unit 0.

         o  Floppy B is mounted on Unit 1, the right unit.  If it is not,
            mount Floppy B on Unit 1.

   To load RSX-20F from floppy disks using the default parameters, do the
   following:

        1.  Press the ENABLE half of the ENABLE/DISABLE load  switch  and
            the FLOPPY load switch at the same time.

            This causes RSX-20F to load from floppies and  causes  KLINIT
            to load.

                                    ___________        2.  Type everything that is underscored in the  following  sample
            dialog:

   RSX-20F VE##-## hh:mm dd-mmm-yy            RSX-20F     version     and
                                              creation time and date.

   [SY0:  REDIRECTED TO DX0:]                 DX0 is the   system  device
   [DX0:  MOUNTED]                            for the RSX-20F tasks.
   KLI -- VERSION VA##-## RUNNING             KLINIT   prints   this  and
   KLI --KL10 S/N: 2136., MODEL B, 60 HERTZ   the following lines.
   KLI -- KL10 HARDWARE ENVIRONMENT:
           MCA25 CACHE PAGER                  Appears only if your system
                                              has MCA25 hardware.
           MOS MASTER OSCILLATOR
           EXTENDED ADDRESSING
           INTERNAL CHANNELS
           CACHE

   KLI -- SELECT PAGE TABLE [FILE, BOTH, 0, 1]

       _________   KLI>BOTH<RET>

   KLI -- PAGE TABLE SELECTED:BOTH

   KLI -- MICROCODE VERSION #.# [###] LOADED
   KLI -- ALL CACHES ENABLED
   KLI -- % MOS MEMORY IS ALREADY CONFIGURED

   LOGICAL MEMORY CONFIGURATION.
     ADDRESS SIZE  INT   TYPE CONTROLLER
    00000000 128K   4     MA20  0 & 1
    00400000 768K   4    MF20  11


                                    5-13
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   KLI -- CONFIGURATION FILE WRITTEN
   KLI -- BOOTSTRAP LOADED AND STARTED        KLINIT   has   loaded   and
                                              started BOOT.
   BOOT V#(##)                                BOOT version number.

        _____   BOOT><RET>                                 Press RETURN  to  load  the
                                              default  monitor  from  the
                                              file DSKB:SYSTEM.EXE[1,4].

            When the monitor has been loaded  into  memory,  the  monitor
            startup  questions  begin.   If the system does not print the
            first monitor startup question, there is a problem with BOOT.
            See Appendix A for an explanation of the BOOT messages.

        3.  To start timesharing, answer the  monitor  startup  questions
            described in Section 5.6.

   If KLI messages are printed  on  your  CTY  before  the  BOOT  version
   number,  see  Chapter  11.   KLINIT  only  prints  messages  that  are
   applicable to your system's configuration.



   5.4.4  Loading RSX-20F from DECtape   5.4.4  Loading RSX-20F from DECtape

   Before you load RSX-20F from DECtape  using  the  default  parameters,
   make sure that:

         o  The POWER light is on.  If it is not, see Section 5.2.

         o  All of the software is on DECtape.  If it is not, see Section
            5.4.1.

         o  The DECtape is mounted properly on unit 0.  If it is not, see
            Section 5.5.1.

   To load RSX-20F from DECtape using the default parameters, perform the
   following steps:

        1.  Press the ENABLE half of the ENABLE/DISABLE load  switch  and
            the DECTAPE load switch at the same time.

            This causes RSX-20F to load from the DECtape on  unit  0  and
            causes KLINIT to load.

                                    ___________        2.  Type everything that is underscored in the  following  sample
            dialog:

   RSX-20F VA##-## hh:mm dd-mmm-yy            RSX-20F     version     and
                                              creation time and date.

   [SY0:  REDIRECTED TO DT0:]                 DT0 is  the system   device


                                    5-14
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   [DT0:  MOUNTED                             for the RSX-20F tasks.

   KLI -- VERSION VA##-## RUNNING             KLINIT   prints   this  and
   KLI -- KL10 S/N: 1026., MODEL B, 60 HERTZ  the next 14 lines.
   KLI -- KL10 HARDWARE ENVIRONMENT:
           MCA25 CACHE PAGER
           EXTENDED ADDRESSING
           INTERNAL CHANNELS
           CACHE

   KLI -- SELECT PAGE TABLE [FILE,BOTH,0,1]

       _________   KLI>BOTH<RET>

   KLI -- PAGE TABLE SELECTED:BOTH

   KLI -- MICROCODE VERSION #.#[###] LOADED
   KLI -- % NO FILE - ALL CACHE BEING CONFIGURED
   KLI -- ALL CACHES ENABLED
   KLI -- % NO FILE - ALL MEMORY BEING CONFIGURED

   LOGICAL MEMORY CONFIGURATION.
     ADDRESS  SIZE  INT  TYPE CONTROLLER
    00000000 1024K   4  DMA20  4

   KLI -- CONFIGURATION FILE WRITTEN
   KLI -- BOOTSTRAP LOADED AND STARTED        KLINIT   has   loaded   and
                                              started BOOT.

   BOOT V#(##)                                BOOT version number.

        _____   BOOT><RET>                                 Press RETURN  to  load  the
                                              default  monitor  from  the
                                              file DSKB:SYSTEM.EXE[1,4].

            When the monitor has been loaded  into  memory,  the  monitor
            startup  questions  begin.   If the system does not print the
            first monitor startup question, BOOT prints an error message.
            (For explanations of BOOT messages, see Appendix A.)

        3.  Answer the monitor startup  questions  described  in  Section
            5.6.

   If a KLI message is printed  on  your  CTY  before  the  BOOT  version
   number, see Chapter 11.



   5.5  LOADING THE SYSTEM USING NONDEFAULT PARAMETERS   5.5  LOADING THE SYSTEM USING NONDEFAULT PARAMETERS

   Before you begin to load the system using nondefault parameters,  make
   sure that:


                                    5-15
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


         o  The hardware and software are properly installed.

         o  The disk packs are mounted properly.

   If you are installing the system for the first time, or  installing  a
                                            _______ ________ ____________   new  version  of  the  software, see the TOPS-10 Software Installation
   _____   Guide.

   The default parameters for loading the system are:

         o  Unit 0 is the default disk or magnetic-tape drive.

         o  DSK:SYSTEM.EXE[1,4] is the default monitor file.

         o  KLINIT performs its default operations.  (See Section 5.3.2.)

   You must enter the KLINIT dialog if  you  want  to  change  a  default
   parameter or action.  The KLINIT operator dialog allows you to:

         o  Configure cache or memory.

         o  Load a bootstrap program that does not reside in the BOOT.EXB
            file.

         o  Load from a disk pack, floppy, or DECtape that is not mounted
            on unit 0.

   The file specification of the default monitor is DSKB:SYSTEM.EXE[1,4].
   To  load a default monitor other than DSKB:SYSTEM.EXE[1,4], you do not
   have to enter the KLINIT operator dialog.  Instead, see Section  5.5.3
   to load the monitor.

   After you answer the monitor startup question, INITIA may print a  few
   lines on the CTY.  INITIA is a system program that automatically:

         o  Starts those jobs that you  always  want  to  run  at  system
            startup.

         o  Initializes terminal characteristics.

   Whether or not your system runs INITIA at system startup is determined
                                            _______ ________ ____________   when  the monitor is generated.  See the TOPS-10 Software Installation
   _____   Guide for more information on INITIA.



   5.5.1  Loading RSX-20F Using the Switch Register   5.5.1  Loading RSX-20F Using the Switch Register

   To load RSX-20F  from  disk,  floppy,  or  DECtape  using  the  switch
   register, perform the following steps:




                                    5-16
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


        1.  Set (lift up) Switch 0 to enable the other  switches  in  the
            switch register.

        2.  Set any other switches in the switch register that you  want.
            See Table 5-3 for an explanation of each switch setting.

        3.  Press the ENABLE half of the ENABLE/DISABLE load  switch  and
            the SW/REG load switches at the same time.

            This causes RSX-20F to access the disk drive (Switch 7 on) or
            the DECtape drive or floppy disk (Switch 7 off) with the unit
            number specified in Switches 8 through 10.  KLINIT is  loaded
            and enters the KLINIT operator dialog.  At this point, if you
            want to load the monitor from a magnetic  tape,  see  Section
            5.5.2.

        4.  Answer the monitor startup  questions  described  in  Section
            5.6.



   Table 5-3:  Switch-Register Switch Definitions   Table 5-3:  Switch-Register Switch Definitions


   ______________________________________________________________________

     Switch*    Setting                     Explanation
   ______________________________________________________________________

        0         ON       Enables the other  switches  in  the  switch
                           register.  Set this bit.

     1 and 2      OFF      Loads RSX-20F as if it were being loaded  as
                           described  in  Section  5.4, except that you
                           can specify the unit number of the bootstrap
                           device in Switches 8 through 10.

     1 and 2      ON       Loads RSX-20F, and loads and starts  KLINIT.
                           Usually, you should set these switches.

     1 or 2       ON       Loads RSX-20F, but does not communicate with
                           the central processors.

     3 to 6       OFF      Not used.  Do not set these switches.

        7         OFF      Designates the floppy  disk  (for  1091)  or
                           DECtape (for all systems except 1091) as the
                           bootstrap device.  The  front-end  files  on
                           these  floppy  disks  are  used  for  system
                           loading.

        7         ON       Designates  a  disk  pack   mounted   on   a


                                    5-17
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


                           dual-ported  disk  drive  as  the  bootstrap
                           device.

     8 to 10      ON       Specifies in binary the unit number  of  the
                           bootstrap  device (0 to 7).  For example, no
                           switches set indicate unit 0, Switch  8  set
                           indicates  unit  1,  Switch  9 set indicates
                           unit 2, Switches 8 and 9 set  indicate  unit
                           3,  Switch 10 set indicates unit 4, Switches
                           8 and 10 set indicate unit 5, and Switches 9
                           and 10 set indicate unit 6.

     11 to 14     OFF      Not used.  Do not set.

       15         OFF      Retries an operation 10 times  when  an  I/O
                           error occurs during bootstrapping.  Usually,
                           you should set this switch on.

       15         ON       Retries an operation  indefinitely  when  an
                           I/O   error   occurs  during  bootstrapping.
                           Usually, you should set this switch on.

     16 to 17     OFF      Not used.  Do not set these switches.
   ______________________________________________________________________


   *Switches are numbered 17 to 0 from left to right.


                            ----- Examples -----

   Example 1 shows what prints on your CTY when you load from  disk  pack
   with  Switches  0, 7, 8, and 9 set ON.  Example 2 shows what prints on
   your CTY when you load from disk pack with Switches 0, 1, 2, and 7 set
   ON.  See Table 5-3 for an explanation of each switch setting.

   1.   Loading from Disk Pack with Switches 0, 7, 8 and 9  set  ON.   If
        you  set  Switches 0, 7, 8, and 9, the following dialog prints on
                                                   ___________        the CTY.  Everything that you must type is underscored.  (This is
        only an example.)

   RSX-20F VE##-## hh:mm dd-mmm-yy            RSX-20F     version     and
                                              creation time and date.

   [SY0:  REDIRECTED TO DB3:]                 DB3 is the  system device
   [DB3:  MOUNTED]                            for the RSX-20F tasks.

   KLI -- VERSION VE##-## RUNNING             KLINIT   prints   this  and
   KLI -- KL10 S/N: 2136., MODEL B, 60 HERTZ  the following lines.
   KLI -- KL10 HARDWARE ENVIRONMENT:          (MCA25 systems only)
           MCA25 CACHE PAGER                  



                                    5-18
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


           MOS MASTER OSCILLATOR              (Prints on 1091 only)
           EXTENDED ADDRESSING
           INTERNAL CHANNELS
           CACHE

   KLI -- SELECT PAGE TABLE [FILE, BOTH, 0, 1]

       _________   KLI>BOTH<RET>

   KLI -- PAGE TABLE SELECTED:BOTH

   KLI -- MICROCODE VERSION #.#[###] LOADED
   KLI -- ALL CACHES ENABLED

   LOGICAL MEMORY CONFIGURATION.
     ADDRESS  SIZE  INT  TYPE CONTROLLER
    00000000 1024K   4  DMA20  4

   KLI -- CONFIGURATION FILE WRITTEN
   KLI -- BOOTSTRAP LOADED AND STARTED

   BOOT V#(##)                                BOOT version number.

        _____   BOOT><RET>                                 Press RETURN  to  load  the
                                              default  monitor  from  the
                                              file DSKB:SYSTEM.EXE[1,4].

               _____   Why reload: SCHED                          This is the  first  monitor
                                              startup   question.    (See
                                              Section   5.6   for    more
                                              information   on  answering
                                              monitor startup questions.)

   2.   Loading from Disk Pack with Switches 0, 1, 2, and 7 set  ON.   If
        you  set  switches  0,  1,  2, and 7, the following sample dialog
                                                             ___________        prints on the CTY.  Everything that you must type is underscored.
        See   Appendix   D  for  more  information  on  answering  KLINIT
        questions.  (This is only an example.)

   RSX-20F VA##-## hh:mm dd-mmm-yy            RSX-20F     version     and
                                              creation time and date.

   [SY0: REDIRECTED TO DB0:]                  DB0 is  the   system device
   [DB0: MOUNTED]                             for the RSX-20F tasks.

   KLI -- VERSION VA##-## RUNNING
   KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?    
       ________   KLI>YES<RET>                               
   KLI -- KL10 S/N: 1026., MODEL B, 60 HERTZ  
   KLI -- KL10 HARDWARE ENVIRONMENT:
           MCA25 CACHE PAGER                  (Printed on  MCA25  systems
                                              only.)


                                    5-19
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


           EXTENDED ADDRESSING                
           INTERNAL CHANNELS
           CACHE

   KLI -- SELECT PAGE TABLE [FILE, BOTH, 0, 1]

       _________   KLI>BOTH<RET>

   KLI -- PAGE TABLE SELECTED:BOTH

   KLI -- RELOAD MICROCODE [YES,VERIFY,FIX,NO]?
       ________   KLI>YES<RET>
   KLI -- MICROCODE VERSION #.#[###]LOADED
   KLI -- RECONFIGURE CACHE [FILE,ALL,YES,NO]?
       ________   KLI>ALL<RET>
   KLI -- ALL CACHES ENABLED
   KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,YES,NO]?
       ________   KLI>ALL<RET>

   LOGICAL MEMORY CONFIGURATION.
     ADDRESS  SIZE  INT  TYPE CONTROLLER
    00000000 1024K   4  DMA20  4

   KLI -- LOAD KL BOOTSTRAP [FILE,YES,NO,FILENAME]?
       ________   KLI>YES<RET>
   KLI -- WRITE CONFIGURATION FILE [YES,NO]?
       ________   KLI>YES<RET>
   KLI -- CONFIGURATION FILE WRITTEN
   KLI -- BOOTSTRAP LOADED AND STARTED
   BOOT V#( #)                                BOOT version number.

        _____   BOOT><RET>                                 Press RETURN  to  load  the
                                              default  monitor  from  the
                                              file DSKB:SYSTEM.EXE[1,4].

               _____   Why reload: SCHED                          This is the  first  monitor
                                              startup   question.    (See
                                              Section   5.6   for    more
                                              information   on  answering
                                              monitor startup questions.)



   5.5.2  Loading from Magnetic Tape   5.5.2  Loading from Magnetic Tape

   Before you load the monitor from a magnetic tape, make sure that:

         o  The magnetic tape that contains the  monitor  is  mounted  on
            drive  0.   If it is not, mount it on any drive, but remember
            to tell BOOT which drive you mounted it on.  To do this, type
            the  controller type and drive number in the command as shown
            in Section 5.5.3.


                                    5-20
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


         o  BOOT is on disk, floppy, or  DECtape.   If  it  is  not,  you
            cannot load from magnetic tape.

   To load the monitor from magnetic tape, do the following:

        1.  Perform the steps listed in Section 5.5.1.

                                    ___________        2.  Type everything that is underscored in the  following  sample
            dialog:

   KLI -- LOAD KL BOOTSTRAP [YES,NO,FILENAME]?
       _________________   KLI>filename.ext<RET>                       Type the name of the  file
                                               that  is the magnetic-tape
                                               bootstrap program, BOOT.

   KLI -- WRITE CONFIGURATION FILE [YES,NO]?   Type YES or NO to  answer
       ________   KLI>YES<RET>                                this question.

   KLI -- CONFIGURATION FILE WRITTEN           This line  prints  if  you
                                               answered YES above.
   KLI -- BOOTSTRAP LOADED AND STARTED
   BOOT V# ( #)                                BOOT version number.
        _____   BOOT><RET>                                  Press RETURN to  load  the
                                               default  monitor  from the
                                               file  DSKB:SYSTEM.EXE[1,4]
                                               on  tape drive 0 of a TM10
                                               controller.

            When the monitor has been loaded  into  memory,  the  monitor
            startup questions begin.

   Answer the monitor startup questions described in Section 5.6.



   5.5.3  Loading the Monitor from a Nondefault File   5.5.3  Loading the Monitor from a Nondefault File

   To load the monitor from a file  that  has  been  saved  with  a  file
   specification  other  than  the  default, DSKB:SYSTEM.EXE[1,4], do the
   following:

        1.  Load the system as usual.  (See Sections 5.4 through  5.5.2.)
            When  the bootstrap program prompt (BOOT>) prints on the CTY,
            perform Step 2.

        2.  Type the monitor name (for  example,  NEWMON.EXE)  and  press
                                                       ___________            RETURN.   Everything  that  you  type  is  underscored in the
            following sample dialogs:

                 _______________            BOOT>NEWMON.EXE<RET>                This  is  an  example  of
                                                using  BOOT  to  load the
                                                monitor from  disk  pack,


                                    5-21
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


                                                floppy, or DECtape.

                                                To specify  a  nondefault
                                                file  on magtape, instead
                                                of pressing RETURN, type:

                       ____________________________________________                  BOOT>dev:filename.ext[ppn]/controller:drivenumber

                  where controller is:

                    /TM02:n for TU45 and TU77 tape drives.
                    /TM03:n for TU45 and TU77 tape drives.
                    /TM10:n for TU10, TU40, and TU41 tape drives.
                    /TM78:n for TU78/79 tape drives.
                    /TX01:n for TU70, TU71, and TU72 tape drives on DX10.
                    /TX02:n for TU72 tape drives.
                    /DX20:n for TU7x tape drive n on DX20.

            When the monitor has been loaded  into  memory,  the  monitor
            startup questions begin.

   Answer the monitor startup questions described in Section 5.6.



   5.6  ANSWERING MONITOR STARTUP QUESTIONS   5.6  ANSWERING MONITOR STARTUP QUESTIONS

   After you load RSX-20F, the bootstrap program, and the monitor,  start
   timesharing  by answering the questions in the monitor startup dialog.
           _______ ________ ____________ _____   See the TOPS-10 Software Installation Guide for a detailed  discussion
   of each of the questions in this section.

   The following is a sample dialog.  Everything that you must supply  is
   ___________   underscored.

         TOPS-10 704 Development dd-mm-yy     System name and monitor
                                              creation date.
                      __________         Why reload:  SCHED<RET>              Type reason for reload.

            You may type one of the following words and press  RETURN  to
            tell  the  monitor  why  you want to reload the system.  (For
            example, PM means Preventive Maintenance, CM means Corrective
            Maintenance,  and  SA  means  Stand  Alone.)  You may want to
            follow your answer  to  the  Why  reload:   question  with  a
            comment.   To  do  this,  before  you  press  RETURN,  type a
            semi-colon (;) followed by a comment and then  press  RETURN.
            Your  answer  and  any  comment is stored in the system error
            file and reported by SPEAR.

                 CM           NEW        PM
                 HALT         NXM        POWER
                 HARDWARE     OPR        SA


                                    5-22
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


                 HUNG         OTHER      SCHED
                 LOOP         PARITY     STATIC

            If you do not reply to this question within 60  seconds,  the
            system  assumes OTHER, and prompts you for a comment.  If you
            type /H in reply to this question, the system prints  a  list
            of valid responses.

                ___ _______         Date:  OCT 19<RET>                   Type the date.

            The date  must  be  the  current  day  and  month.   You  may
            abbreviate  the month as long as it is still unique.  You may
            specify the year, however, it is optional.  If you  omit  the
            year,  the  system  assumes the year in which the monitor was
            created.

            If you type a date or time that is before the last  crash  or
            the monitor creation date, the system prints either:

              %Specified date is prior to last crash.
              Last crash date: Apr-14-88  09:12:45
              Specified date: Mar-6-88
                                       ______              Is this correct? (Y or N)N<RET>
              Please type today's date as MON-DD(-YY)
              ___ ______              May 6<RET>

            or

              %Specified date is prior to monitor creation date.
              Creation date: Jan-11-88  09:14:00
                                       ______              Is this correct? (Y or N)N<RET>
              Please type today's date as MON-DD(-YY)
              ___ ______              May 6<RET>

               _________         Time: 1728<RET>                      Type time using 24-hour
                                              clock.

            The time must be based on a 24-hour clock.  For example, 1:30
            p.m.  is 13:30.  Use of seconds field and colons is optional.

                                       CAUTION

                    If you type the date or time incorrectly, you
                    may  cause  files  to be accidentally deleted
                    when the file system is backed up.  To  reset
                    these values, see the OPR commands SET SYSTEM
                                                          _______                    DATE and SET SYSTEM DAYTIME  in  the  TOPS-10
                    __________ _______ ________ _________ ______                    Operator's Command Language Reference Manual.

                      __________     Startup option:  QUICK<RET> Type the startup option.

   Type one of the following words and press RETURN to tell  the  monitor


                                    5-23
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   how  you  want  to start the system.  The valid answers to the startup
   option question fall into two categories:

        1.  Those that change disk parameters:

            CHANGE
            DESTROY
            LONG
            REFRESH
            UNITID

                                                                  _______            For more information, refer to the ONCE dialog in the TOPS-10
            ________ ____________ _____            Software Installation Guide.

        2.  Those that start the monitor without changing any parameters:

            GO
            NOINITIA
            QUICK

   Normally, reply QUICK.



   5.7  LOADING A COMMUNICATIONS FRONT END   5.7  LOADING A COMMUNICATIONS FRONT END

   Each system can have more than one front end connected to its  central
   processors.   The  front  end  that you (the operator) use is called a
   console front end.  Other front  ends  are  called  communications  or
   network  front  ends.   The central processors in a network are called
   hosts.  Every processor is called a node.

   There are four types of communications front ends:

        1.  DN87, which is loaded with the BOOT11  program  over  a  DL10
            interface.  (See Section 5.7.1.)

        2.  DN85, which is loaded with the BOOT11  program  over  a  DL10
            interface.  (See Section 5.7.1.)

        3.  DN20, which is loaded with the DTELDR program  over  a  DTE20
            interface.  (See Section 5.7.2.)

        4.  DN87S, which is loaded with the DTELDR program over  a  DTE20
            interface.  (See Section 5.7.2.)

   You can automatically load (and reload) a communications front end  by
   including the appropriate commands in your OPR.ATO file.  For example,
   to automatically reload a communications front end that is  interfaced
   over DTE2, include the following commands in your OPR.ATO file:




                                    5-24
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


        __________        :SLOG<RET>                              Log in a subjob.
        ____ _________        :DEF DTE=<RET>                          Call it DTE.

        _____ ___________        DTE-R DTELDR<RET>                       Load and start DTELDR for
                                                this subjob.

        ________________        DTE-/INIT:2<RET>                        Start communicating  with
                                                this DN87S node.

        _________________________        DTE-/RELOAD:2/NODUMP<RET>               Load (default) DTEL02.BIN
                                                over  DTE2  and  suppress
                                                the dump.

        ______________        DTE-/AUTO<RET>                          Set for automatic reload.



   5.7.1  Loading with BOOT11 over a DL10   5.7.1  Loading with BOOT11 over a DL10

   To load a communications front end over  a  DL10,  use  BOOT11.   This
   program  should  be  available  on  DSKB:[1,2]  or on SYS:, the system
   library.

                                          ___________   To run BOOT11, type everything that is underscored  in  the  following
   sample dialog:

         _ ___________        .R BOOT11<RET>                          Run BOOT11.
             _____        File:<RET>

                                                Press RETURN
        "PDP-11 started                         BOOT11  has  started  the
                                                communications front end.

                                    NOTE

           You must specify the port  number  if  more  than  one
           PDP-11 is interfaced over a DL10 on your host.

   Table 5.4 lists the BOOT11 switches.   For  more  information  on  the
                                                         _______ ________   BOOT11  switches, see the BOOT11 specification in the TOPS-10 Software
   _________   Notebooks.













                                    5-25
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   Table 5-4:  BOOT11 Switches   Table 5-4:  BOOT11 Switches


   ______________________________________________________________________

      Switch                          Explanation
   ______________________________________________________________________

     /CLEAR:n     Zeroes PDP-11 memory from location 0 to n-1.  To zero
                  front-end  memory  before you load BOOT11, use /CLEAR
                  with the /LOAD or /START switch.   If  you  omit  :n,
                  this switch clears all memory.

     /DUMP:n      Dumps front-end memory, starting at octal location n,
                  into  the  specified host system's file.  If you omit
                  :n, BOOT11 assumes 0.

     /END:n       Ends a dump at address N-1.  If you omit  :n,  BOOT11
                  assumes all memory.

     /HELP        Types the BOOT11 help file.

     /IMAGE       Reads the front-end load file in  an  unpacked  form.
                  When  your  system reads from a paper-tape reader, it
                  automatically sets the /IMAGE switch.

     /LOAD:n      Loads the front-end from the specified host processor
                  file  and  sets the starting address at octal n.  (Do
                  not use the /START switch with /LOAD.)  If  you  omit
                  :n,  BOOT11  defaults  to the starting address of the
                  file that you loaded.

     /PORTNO:n    Performs the specified operation  on  front-end  Port
                  Number n, where n is from 0 through 7.

     /START:n     (Default switch.) Loads the front end from  the  host
                  processor  file  and  starts  the  front end at octal
                  location n.  If you omit :n, BOOT11 defaults  to  the
                  starting  address  of  the file that you loaded.  (If
                  the loaded file's starting address is an odd  number,
                  use the /LOAD switch instead of /START.)
   ______________________________________________________________________












                                    5-26
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   The following is an example of clearing the PDP-11 on Port  Number  2,
   and loading and starting a program called DN87.BIN.

         _ ___________        .R BOOT11<RET>                          Run BOOT11.

             __________________________________        File:DN87.BIN/CLEAR/START/PORTNO:2<RET>
                                                Type       the       file
                                                specification         and
                                                switches  to   load   and
                                                start  the communications
                                                front end.

        "Clearing PDP-11                        BOOT11  prints these four
        "PDP-11 loading                         messages  to  report   on
        "PDP-11 loaded                          its progress.
        "PDP-11 started



   5.7.2  Loading with DTELDR over a DTE20   5.7.2  Loading with DTELDR over a DTE20

   To load a communications front end over a  DTE20,  use  DTELDR.   This
   program  should  be  available  on  DSKB:[1,2]  or on SYS:, the system
   library.

   To run DTELDR, type the following command.  At the * prompt, type  the
   file  specification  of the .BIN file.  The default file specification
   is assumed if you just press RETURN.  The default is  DSKB:DTELxy.BIN,
   where  x=CPU  number,  and y=DTE number.  DTE number 0 is reserved for
   the console front end.

    _ ___________   .R DTELDR<RET>                               Run DTELDR.

    _________________________________   *dev:filename.ext[ppn]/switch<RET>

   You may include one or more switches after the prompt.

   Table 5-5 lists some common DTELDR switches.
















                                    5-27
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   Table 5-5:  DTELDR Switches   Table 5-5:  DTELDR Switches


   ______________________________________________________________________

     Switch                            Explanation
   ______________________________________________________________________

     /AUTO        Reloads a crashed front end  automatically  with  its
                  default file.

     /HELP        Displays the DTELDR help file.

     /IMAGE       The .BIN file is in image mode.

     /NODUMP      Suppresses the automatic  dumping  of  PDP-11  memory
                  before loading a file.

     /NOLOG       Suppresses error logging when loading a front end.

     /RELOAD:xy   Reloads the specified file  and  starts  the  primary
                  protocol.

     /PROTOCOL:prototype

                  Starts the front  end  with  the  specified  protocol
                  type.
   ______________________________________________________________________


   See the DTELDR help file and the DTELDR specification in  the  TOPS-10
   Software Notebooks for more information on DTELDR and its switches.

   For more information on loading communications  front  ends,  see  the
   _______ ______ ________ ________ ____________ _____   TOPS-10 ANF-10 Networks Software Installation Guide.



   5.8  LOADING THE DX10 OR DX20 DATA CHANNEL   5.8  LOADING THE DX10 OR DX20 DATA CHANNEL

   To operate the TU70-series magnetic tape drives,  load  the  microcode
   into  the DX10 or DX20 data channel.  In addition, if you have an RP20
   disk system, load the microcode for the RP20 disk system into its DX20
   data  channel.   To  load  the  microcode,  run OPR and use the CONFIG
   command, LOAD, as shown below:

         _ ___        .R OPR
            _____ ______        OPR>ENTER CONFIG
               ____ ___        CONFIG>LOAD MTA
        CONFIG>
        14:14:59        CONFIG  -- LOAD microcode --
        Microcode loaded on CPU0, device 554, unit 0


                                    5-28
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


        CONFIG>

   The bootstrap program BOOTDX,  which  runs  under  timesharing,  loads
   (and,  in the case of DX10, dumps) programs from the TOPS-10 disk file
   system into the PDP-8A (for DX10) or the DX20  microprocessor.   These
   programs   must  be  in  PDP-8A  (for  DX10)  or  DX20  microprocessor
   image-mode file format.  Normally, BOOTDX resides in the SYS:  area.

   To run BOOTDX, type the  following  command.   At  the  prompt,  press
   RETURN  to  load  the  DX10  default  file using the default switches,
   SYS:DXMPA.BIN/START/UNIT:0.  Type /DX20 to load the tape DX20  default
   file,  SYS:DXMCA.ADX.   Type  /DX20:RP20 to load the RP20 default file
   SYS:DXMCD.ADX.     To    specify    a     different     file,     type
   dev:filename.ext/switches and press RETURN.

         _ ___________        .R BOOTDX<RET>      Run BOOTDX.
             ____________        File:/switch<RET>   

   You may include one or more switches at the prompt.  Table  5-6  lists
   the DX10 BOOTDX switches.


   Table 5-6:  DX10 BOOTDX Switches   Table 5-6:  DX10 BOOTDX Switches


   ______________________________________________________________________

      Switch                           Explanation
   ______________________________________________________________________

     /CLEAR:n     Clears memory from 0 to n-1.  (Default is 10000.)

     /CPU:n       Selects CPU on which DX10 exists.  (Default is CPU0.)

     /DUMP:n*     Specifies start address of dump.  (Default is 0.)

     /DX10        Identifies device as DC10.

     /END:n*      Specifies dump address+1.  (Default is 10000.)

     /HELP        Prints help text.

     /LOAD:n**    Loads DX10 and sets start address but does not  start
                  DX10.  (Default is 200 octal.)

     /START:n**   Loads and starts DX10 at address n.  (Default is  200
                  octal.)

     /UNIT:n      Selects DC10 unit, 0 or 1 <= n.  (Default is 0.)
   ______________________________________________________________________




                                    5-29
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


      *  /DUMP or /END causes BOOTDX to ignore /LOAD and /START.

     **  /LOAD and /START are mutually exclusive.


   The following is  an  example  of  loading  and  starting  the  BOOTDX
   bootstrap  program, clearing PDP-8A memory, loading the file DXMPA.BIN
   or DXMPA.A8 from SYS:, and starting the PDP-8A at location 200 octal.

         _ ___________        .R BOOTDX<RET>
             _____________________        File:SYS:/CLEAR/START<RET>
        "Clearing DX-10
        "DX-10 loading
        "DX-10 loaded
        "DC-10 started

   Table 5-7 lists the DX20 BOOTDX switches.


   Table 5-7:  DX20 BOOTDX Switches   Table 5-7:  DX20 BOOTDX Switches


   ______________________________________________________________________

      Switch                           Explanation
   ______________________________________________________________________

     /CLEAR:n     Clears  memory  from  0  to  n-1.   (Default  is  all
                  memory.)

     /CPU:n       Selects CPU on which DX20 exists.  (Default is CPU0.)

     /DX20:n      Identifies device as DX20 with controller n.   n  may
                  be TX02 or RP20.  (Default is TX02.)

     /HELP        Prints help text.

     /LOAD:n*     Loads DC20 and sets start address but does not  start
                  DX20.  (Default is 1.)

     /START:n*    Loads and starts DX20 at address n.  (Default is 1.)

     /TYPE:n      Specifies that DX20 must have device type n; that is,
                  low-order  6 bits of Massbus register 6.  (Default is
                  60 octal for  TX02  controller,  61  octal  for  RP20
                  controller).

     /UNIT:nm**   Selects DX20 unit m on RH20 n.  (Default is 00.) R is
                  assumed to be 0 if only a single number is specified.
   ______________________________________________________________________




                                    5-30
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


     *  /LOAD and START are mutually exclusive.

     ** If /UNIT is not specified, BOOTDX searches for  another  DX20  on
        the system that meets all other restrictions.


   The following is  an  example  of  loading  and  starting  the  BOOTDX
   bootstrap  program,  clearing the KMC-11 memory, loading the DXMCA.ADX
   file from SYS:, and starting the DX20 on a TX02 controller at  address
   1 on CPU1.

         _ ___________        .R BOOTDX<RET>
             ________________________________        File:SYS:/CLEAR/DX20/CPU:1/START<RET>
        DX20 selected:  RH20=3 DX20=0
        "Clearing DX20
        "DX20 started
        Micro code version 1(0)

   The following is an example of manually loading and  starting  BOOTDX,
   clearing  the  microprocessor  memory, loading the DXMCD.ADX file from
   SYS:, and starting the DX20 on an RP20  controller  at  address  1  on
   CPU1.

         _ ___________        .R BOOTDX<RET>

             ____________________________________        File:SYS/CLEAR/DX20:RP20/CPU:1/START<RET>

        DX20 Selected: RH20=4 DX20=0
        " Clearing DX20
        " DX20 started
        Micro code version #(#)



   5.9  RUNNING SYMMETRIC MULTIPROCESSING (SMP) SYSTEMS   5.9  RUNNING SYMMETRIC MULTIPROCESSING (SMP) SYSTEMS

   The  remainder   of   this   chapter   applies   only   to   Symmetric
   Multiprocessing  (SMP)  systems.   SMP  is supported for KL processors
   only.

   A  Symmetric  Multiprocessing  (SMP)  system  has   multiple   central
   processing units (CPUs), which are numbered sequentially starting from
   CPU0.  An SMP system has symmetric software.  This means that each CPU
   can  perform  computation  and  I/O.   However, an SMP system does not
   necessarily have symmetric hardware.  For example, one  CPU  may  have
   two tape controllers, while another CPU has only one.

   Each CPU communicates with you through its own console terminal (CTY).
   Therefore,  if  an  error occurs on CPU1, the error message that tells
   you about that error is printed on the CTY that is attached to CPU1.

   The CPU that you load, which is also the first CPU that you start,  is


                                    5-31
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   called the Policy or Boot CPU.  All other CPUs are called Nonpolicy or
   Nonboot CPUs.

   Although any CPU can be the  Policy  CPU,  your  system  administrator
   should tell you which one to use.

   If the Policy CPU crashes, and it does not automatically restart,  one
   of  the  Nonpolicy  CPUs  assumes the role of the Policy CPU.  This is
   called role switching.  (See Figure 5-6.)

      Before Role Switching             After Role Switching
    _________________________         _________________________
   |                         |       |                         |
   |    CPU0       CPU1      |       |     CPU0       CPU1     |
   |   ______     _______    |       |   ______      _______   |
   |  | Boot |   |Nonboot|   |       |  | Boot |    |Nonboot|  |
   |  | CPU  |   |  CPU  |   |       |  | CPU  |    |  CPU  |  |
   |  |______|   |_______|   |       |  |______|    |_______|  |
   |_____|___________|_______|       |_____|____________|______|
         |           |                     |            |
       __|___     ___|___                __|___      ___|____
      | Load |   |       |              |      |    | Reload |
      | here |   |       |              |      |    |  here  |
      |______|   |_______|              |______|    |________|
        CTY        CTY                    CTY          CTY


   Figure 5-4:  Role Switching   Figure 5-4:  Role Switching


   When role switching occurs, the following message prints  on  the  CTY
   that is connected to the new Policy CPU:

   CPUx Has Assumed the Role of Policy CPU at <date/time>

   No special procedures are required to operate the Policy CPU.



   5.9.1  Loading and Starting an SMP System   5.9.1  Loading and Starting an SMP System

   To load and start an SMP system, perform the following steps:

        1.  Make sure  that  each  CPU  has  its  own  RSX-20F  front-end
            software  on  DECtapes  or  disks  that are accessible to its
            front-end processor.

        2.  Perform the following steps on each nonpolicy CPU:

            a.  Set Switches 0, 1, and 2 in the  switch  register.   This
                allows you to enter the KLINIT operator dialog.



                                    5-32
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


            b.  Set  any  desired  additional  switches  in  the   switch
                register.   (See  Table  5-3  for  a  description of each
                switch in the switch register.)

            c.  Press the ENABLE and SW/REG load  switches  at  the  same
                time.

                                          ___________            d.  Type everything that  is  underscored  in  the  following
                sample dialog on the CTY:

   RSX-20F VA##-## hh:mm dd-mmm-yy              RSX-20F    version    and
                                                creation time and date.

   [SY0:  REDIRECTED TO DB0:]                   DB0 is the system  device
   [DB0:  MOUNTED]                              for the RSX-20F tasks.
   KLI -- VERSION VA##-## RUNNING
   KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
       ________   KLI>YES<RET>
   KLI -- KL10 S/N:  1026., MODEL B, 60 HERTZ
     KLI -- KL10 HARDWARE ENVIRONMENT:
             MCA25 CACHE PAGER
             EXTENDED ADDRESSING
             INTERNAL CHANNELS
             CACHE

     KLI--SELECT PAGE TABLE [FILE, BOTH, O, 1]

         _________     KLI>BOTH<RET>

     KLI--PAGE TABLE SELECTED:BOTH

   KLI -- RELOAD MICROCODE [YES,VERIFY,FIX,NO]?
       ________   KLI>YES<RET>
   KLI -- MICROCODE VERSION #.#[###]LOADED
   KLI -- RECONFIGURE CACHE [FILE,ALL,YES,NO]?
       ________   KLI>ALL<RET>
   KLI -- ALL CACHES ENABLED
   KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,YES,NO]?
       ________   KLI>ALL<RET>

   LOGICAL MEMORY CONFIGURATION.
     ADDRESS  SIZE  INT  TYPE CONTROLLER
    00000000 1024K    4  DMA20  4

   KLI -- LOAD KL BOOTSTRAP [FILE,YES,NO,FILENAME]?
       _______   KLI>NO<RET>
   KLI -- WRITE CONFIGURATION FILE [YES,NO]?
       ________   KLI>YES<RET>
   KLI -- CONFIGURATION FILE WRITTEN
   KLI -- EXIT [YES,RESTART]?
       ________   KLI>YES<RET>
   ______   CTRL/\                                       Type  CTRL/backslash   to


                                    5-33
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


                                                communicate    with   the
                                                PARSER.

       __________   PAR%RESET<RET>                               Type  RESET   and   press
                                                RETURN to ensure that the
                                                processor is in  a  known
                                                state.    Do   not   type
                                                anything    else     now.
                                                Continue with Step 3.

        3.  Go to the Policy CPU.

        4.  Perform the following steps on the Policy CPU.

            a.  Set Switches 0, 1, and 2 in the  switch  register.   This
                allows you to enter the KLINIT operator dialog.

            b.  Set  any  desired  additional  switches  in  the   switch
                register.   (See  Table  5-3  for  a  description of each
                switch in the switch register.)

            c.  Press the ENABLE and SW/REG load  switches  at  the  same
                time.

                                    ___________        5.  Type everything that is underscored in the  following  sample
            dialog on the CTY:

   RSX-20F VA##-## hh:mm dd-mmm-yy              RSX-20F    version    and
                                                creation time and date.

   [SY0:  REDIRECTED TO DB0:]                   DB0 is the system  device
   [DB0:  MOUNTED]                              for the RSX-20F tasks.
   KLI -- VERSION VA##-## RUNNING
   KLI -- ENTER dialog [NO,YES,EXIT,BOOT]?
       ________   KLI>YES<RET>                                 
   KLI -- KL10 S/N:  1026., MODEL B, 60 HERTZ
   KLI -- KL10 HARDWARE ENVIRONMENT:
             MCA25 CACHE PAGER
             EXTENDED ADDRESSING
             INTERNAL CHANNELS
             CACHE

     KLI--SELECT PAGE TABLE [FILE, BOTH, O, 1]

         _________     KLI>BOTH<RET>

     KLI--PAGE TABLE SELECTED:BOTH

   KLI -- RELOAD MICROCODE [YES,VERIFY,FIX,NO]?
       ________   KLI>YES<RET>
   KLI -- MICROCODE VERSION #.#[###] LOADED
   KLI -- RECONFIGURE CACHE [FILE,ALL,YES,NO]?


                                    5-34
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


       ________   KLI>ALL<RET>
   KLI -- ALL CACHES ENABLED
   KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,YES,NO]?
       ________   KLI>ALL<RET>

   LOGICAL MEMORY CONFIGURATION.
     ADDRESS  SIZE  INT  TYPE CONTROLLER
    00000000 1024K   4  DMA20  4

   KLI -- LOAD KL BOOTSTRAP [FILE,YES,NO,FILENAME]?
       ________   KLI>YES<RET>
   KLI -- WRITE CONFIGURATION FILE [YES,NO]?
       ________   KLI>YES<RET>
   KLI -- CONFIGURATION FILE WRITTEN
   KLI -- BOOTSTRAP LOADED AND STARTED
              _____   BOOT V#(##)<RET>                             BOOT version number.

       _____   BOOT<RET>                                    Press RETURN to load  the
                                                default    monitor   from
                                                DSKB:SYSTEM.EXE[1,4].

   Why reload:                                  Do not type anything else
                                                now.   Continue with Step
                                                6.

        6.  Go to the CTY of the first Nonpolicy CPU.

        7.  Type J 400 and press RETURN.  When the CPU number is  printed
            on its CTY, then that CPU has started.

        8.  Repeat Steps 6 and 7 for each nonpolicy CPU.

        9.  Go to the CTY of the Policy CPU.

       10.  Answer the monitor startup questions.



   5.9.2  Restarting a Nonpolicy CPU (SMP Systems Only)   5.9.2  Restarting a Nonpolicy CPU (SMP Systems Only)

   To restart one of the Nonpolicy CPUs on an  SMP  system,  perform  the
   following steps:

        1.  Make sure the Policy CPU is running.

        2.  Go to the Nonpolicy CPU that you want to restart.

        3.  Make  sure  that  the  Nonpolicy  CPU  has  its  own  RSX-20F
            front-end software on disk or DECtapes that are accessible to
            its front-end processor.




                                    5-35
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


        4.  Press ENABLE and DISK, DECTAPE, or SW/REG, depending  on  how
            you want to load the front end.

                                    ___________        5.  Type everything that is underscored in the  following  sample
            dialog:

   RSX-20F VA##-## hh:mm dd-mmm-yy              RSX-20F    version    and
                                                creation time and date.

   [SY0: REDIRECTED TO DB0:]                    DB0 is the system device
   [DB0: MOUNTED]                               for the RSX-20F tasks.
   KLI -- VERSION VA##-## RUNNING
   KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
       ________   KLI>YES<RET>
   KLI -- KL10 S/N: 1026., MODEL B, 60 HERTZ
   KLI -- KL10 HARDWARE ENVIRONMENT:
           MCA25 CACHE PAGER
             EXTENDED ADDRESSING
             INTERNAL CHANNELS
             CACHE

     KLI--SELECT PAGE TABLE [FILE, BOTH, O, 1]

         _________     KLI>BOTH<RET>

     KLI--PAGE TABLE SELECTED:BOTH
   KLI -- RELOAD MICROCODE [YES,VERIFY,FIX,NO]?
       _______   KLI>NO<RET>
   KLI -- RECONFIGURE CACHE [FILE,ALL,YES,NO]?
       _______   KLI>NO<RET>
   KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,YES,NO]?
       _______   KLI>NO<RET>
   KLI -- LOAD KL BOOTSTRAP [FILE,YES,NO,FILENAME]?
       _______   KLI>NO<RET>
   KLI -- WRITE CONFIGURATION FILE [YES,NO]?
       _______   KLI>NO<RET>
   KLI -- EXIT [YES,RESTART]?
       ________   KLI>YES<RET>
   ______   CTRL/\                                       Type      CTRL/backslash,
                                                which  is  not echoed, to
                                                communicate   with    the
                                                PARSER.

       __________   PAR>RESET<RET>                               Type  RESET   and   press
                                                RETURN to ensure that the
                                                processor is in  a  known
                                                state.

       _ ________   PAR%J 400<RET>                               Type  J  400  and   press
                                                RETURN   to   start   the
                                                Nonpolicy CPU.



                                    5-36
                    STARTING THE KL10 CENTRAL PROCESSOR                    STARTING THE KL10 CENTRAL PROCESSOR


   [CPUn]                                       The  Nonpolicy  CPU   has
                                                started.

       RZ357A KL  1026/1042 14:01:19 TTY471 system 1026/1042
   Connected to Node KL1026(26) Line # 471
   DSKC:  KL1026 System disk DSKC
   DSKB:  KL1026 System Disk DSKB
   Please LOGIN

   .                                            The CPU is now ready  for
                                                timesharing.

                                    NOTE

           You must enter the KLINIT dialog and answer NO to  all
           of the questions to restart a non-Policy CPU in an SMP
           system.  If you attempt to  circumvent  this  process,
           RSX-20F does not set parity stops.




































                                    5-37

























































                                    6-1












                                 CHAPTER 6                                 CHAPTER 6

                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR



   6.1  INTRODUCTION TO OPR   6.1  INTRODUCTION TO OPR

   The Operator Command Language (OPR) allows you to communicate with the
   programs that make up the GALAXY batch system.  These programs are:

         o  QUASAR, the  nucleus  of  the  GALAXY  and  mountable  device
            allocation systems

         o  BATCON, the batch job controller

         o  LPTSPL, the line printer spooler

         o  CDRIVE, the card reader spooler

         o  SPROUT, the card punch, paper tape punch, and plotter spooler

         o  SPRINT, the card reader input driver

         o  PULSAR, the label processor for tapes and structures

         o  NEBULA, the router of output jobs to remote systems

   In addition, you use  OPR  to  communicate  with  programs  requesting
   operator  action,  such  as  the PLEASE program, and with users on the
   system.

   The program that receives the OPR commands and communicates  with  all
   the  other  system programs is ORION.  ORION also logs messages in the
   operator's log file, OPERAT.LOG.  The OPR program  also  provides  the
   command interface to the NCP, LCP, and CONFIG programs.



   6.2  RUNNING OPR   6.2  RUNNING OPR

   To run OPR, you must have one of the following privileges.  (See  your
   system  manager  to obtain these privileges if you do not already have


                                    6-1
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   them.) The REACT program is used to set the privilege level  for  each
   user.

         o  SYSTEM operator  privileges,  which  enable  you  to  control
            devices and tasks on the host system and on any remote nodes.

         o  HOST operator privileges, which enable you to control devices
            and tasks at your local host system only.

         o  REMOTE operator  privileges,  which  enable  you  to  control
            devices  and  tasks  only  at  the ANF-10 remote station node
            where you are located.

   The tasks in this chapter and in following chapters  assume  that  you
   have  more  than  one terminal available to perform them.  If you have
   more than one terminal available to you, you may want to dedicate  one
   terminal  to  running  only  OPR,  and  use another terminal for other
   tasks, for example, running BACKUP.

   The following sections explain how to start and exit from OPR.



   6.2.1  Starting OPR   6.2.1  Starting OPR

   To start OPR, type the following:

         _ ________        .R OPR<RET>

        OPR>

   If your installation has  more  than  one  terminal  assigned  to  its
   operators,  you  can  run  separate OPR jobs from different terminals.
   All OPR jobs work the same way.  ORION, OPR's controlling program, can
   handle an unlimited number of OPR jobs.



   6.2.2  Exiting from OPR   6.2.2  Exiting from OPR

   To exit from OPR, press <CTRL/Z> or type EXIT.  OPR returns  your  job
   to  monitor  command  level.  The period prompt (.) indicates that you
   are at monitor command level.  For example:

            _________        OPR>EXIT<RET>

        .

   For a complete description  of  all  OPR  commands,  their  arguments,
                                      _______ __________ _______ ________   keywords,  and  switches,  see the TOPS-10 Operator's Command Language
   _________ ______   Reference Manual.



                                    6-2
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   6.2.3  Issuing OPR Commands to/from ANF-10 Remote Stations   6.2.3  Issuing OPR Commands to/from ANF-10 Remote Stations

   The system operator at the host system has control  of  all  jobs  and
   devices  at  all  nodes  in  the  network system.  If you are a Remote
   Station Operator, you can control only  the  devices  at  your  remote
   station.   In addition, you have complete control over all active jobs
   and jobs queued for devices at your node.  All your  commands  default
   to  your  location  or  node.  Some OPR commands, however, include the
   /NODE switch which enables you to send commands to other nodes in  the
   network.   The /NODE switch is available with many of the OPR commands
   described in later sections of this manual.  The /NODE  switch  allows
   you  to  specify  the  logical identifier of any remote station or any
   node in the network system.  The format of the /NODE switch is:

        /NODE:node-id

   where the node-id is the number or the name of the remote station.



   6.2.4  Multiple Operators on the System   6.2.4  Multiple Operators on the System

   You can have more than one OPR  job  running  on  the  same  operating
   system.   ORION  keeps track of each OPR job and sends the appropriate
   acknowledgement messages to the OPR job that sent the command.

   If you have networking software at your installation, messages sent to
   a node from a user (with the SEND OPR monitor command) are sent to all
   OPR jobs running on the node.

   You can enable or disable messages displayed at each terminal  running
   OPR.   This  allows you to assign different OPR terminals to different
   devices.  See Section 6.4 for information on controlling  OPR  message
   output.



   6.3  OPR COMMAND FEATURES   6.3  OPR COMMAND FEATURES

   OPR has features that enable you to:

         o  List available commands

         o  Use ESCape recognition

         o  Obtain help text

         o  Reprint faulty commands

         o  Continue long command lines

   The following sections describe these command features in detail.


                                    6-3
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   In addition, other CTRL/character commands, such  as  CTRL/R,  CTRL/U,
   and  CTRL/W,  function  at  OPR  command  level  as they do at monitor
   command level.

                                    NOTE

           These OPR command features are not applicable when OPR
           is a subjob of OPSER.



   6.3.1  Listing Available Commands   6.3.1  Listing Available Commands

   To list all available OPR commands, type a question mark  (?)  to  the
   OPR>  prompt.   You  can  type  ?   whenever you need help with an OPR
   command.  For example:

         o  When you type ?  while entering a command, OPR lists  command
            keywords, arguments, or switches for the OPR command and then
            redisplays your OPR command up to the point where  you  typed
            the ?.

         o  When you type  ?   after  the  OPR>  prompt,  OPR  lists  the
            available commands.

         o  When you type ?  after an OPR command, OPR lists the keywords
            to that command.

         o  When you type ?  after the keyword,  OPR  lists  the  values,
            arguments, and/or switches to that keyword.

         o  When you type ?  after an entire OPR  command,  OPR  displays
            the  message  "Confirm with carriage return", redisplays your
            entire command, and waits for you to press the RETURN key.


                            ----- Example -----

   After you have started OPR and the system displays  the  OPR>  prompt,
   type ?.

    _ ___ _____   .R OPR <RET>
       _   OPR>? one of the following:
   ABORT        ALIGN         BACKSPACE       CANCEL      CLOSE
   CONTINUE     DEFINE        DISABLE         DISMOUNT    ENABLE
   ENTER        EXIT          FORWARDSPACE    HELP        HOLD 
   IDENTIFY     LOCK          MODIFY          MOUNT       NEXT 
   PUSH         RECOGNIZE     RELEASE         REPORT      REQUEUE 
   RESPOND      RESTRICT      ROUTE           SEND        SET 
   SHOW         SHUTDOWN      START           STOP        SUPPRESS
   TAKE         UNLOCK        UNRESTRICT      WAIT



                                    6-4
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   or one of the following

   CATALOG      CONFIG        LCP             NCP         QUOTA

   OPR>

                                   NOTES

           The DEFINE command is valid only if your  installation
                                                      _______ ___           has  IBM  communications  software.   The  TOPS-10 IBM
           _____________________  ______           Emulation/Termination  Manual  describes  the   DEFINE
           command.

           The NCP command applies only if your installation uses
                                         _______ _________ ______           DECnet  software.   See  the  TOPS-10 DECnet-10 System
           _________ ___ __________ _____           Manager's and Operator's Guide  for  more  information
           about NCP.

           The LCP command applies only if your installation uses
                                     _____ ____ _________ _______           LAT  software.   See  the Local Area Transport Network
           _________ _____           Manager's Guide for more information about LCP.



   6.3.2  Using ESCape Recognition   6.3.2  Using ESCape Recognition

   ESCape recognition helps you to enter commands by:

         o  Enabling you to type shortened versions of commands

         o  Providing guide words that prompt you for more information

   You can press the  ESCape  key  as  soon  as  you  have  typed  enough
   characters  to  uniquely  identify  a  command  to OPR.  The number of
   characters necessary for OPR to accept the command varies and requires
   some experimentation on your part.

                                    NOTE

           The terminal bell rings when you press the ESCape  key
           if  you  have  not typed enough characters to uniquely
           identify a command.  If  this  happens,  type  another
           character  and  press  the ESCape key.  Continue to do
           this until the characters you have  typed  identify  a
           specific command.

   The following example illustrates the ESCape recognition feature:


                            ----- Example -----




                                    6-5
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


        1.  Type the ABORT command.

        2.  Press the ESCape key to display the ABORT guide words.


            __________                 _________________        OPR>ABORT<ESC>(current job on) BATCH-STREAM<ESC>(stream number)
        ______        0<RET>

        10:37:21 Batch-Stream 0  -- Abort request queued --

        OPR>
        10:37:42 Batch-Stream 0  -- End --
          Job TBUILD Req  145 for HURLEY [33,2623]
        OPR>



   6.3.3  Reprinting Faulty Commands   6.3.3  Reprinting Faulty Commands

   When you issue a correct command to OPR, OPR  passes  the  command  to
   ORION.   If  the  command is incorrect, OPR displays an error message.
   If you receive an  error  message,  you  can  retype  the  entire  OPR
   command,  or  press  <CTRL/H>  to  reprint the command up to the point
   where the error occurred.

   To use the <CTRL/H> feature do the following:

        1.  Press <CTRL/H> to redisplay the command up to the point where
            the error occured.

        2.  Enter the correct information.


                            ----- Example -----

            ____________ _______ _ _________ _____        OPR>FORWARDSPACE PRINTER 0 /PAGES:3) <RET>
        ? First nonspace character is not a digit

             ________                                _ _____        OPR> <CTRL/H> FORWARDSPACE PRINTER 0 /PAGES:30 <RET>

        OPR>
        13:25:04        Printer 0  -- Forwardspaced 30 Pages --

        OPR>



   6.3.4  Getting Help   6.3.4  Getting Help

   The OPR HELP command provides  information  about  specific  commands.
   When  you type HELP, followed by an OPR command name, OPR displays the
   command's function and its format, keywords, arguments, and switches.


                                    6-6
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   The following example illustrates the HELP feature:


                            ----- Example -----

   If you specify  HELP  RELEASE,  OPR  displays  the  function,  format,
   keywords, and arguments of the RELEASE command.

       ____ _______ _____   OPR>HELP RELEASE <RET>
   The RELEASE command allows you to release a job request that was held 
   with the HOLD command. The format is:

   RELEASE keyword

   where keyword must be one of the following:

        BATCH-JOBS
        CARD-PUNCH-JOBS
        PAPER-TAPE-PUNCH-JOBS
        PLOTTER-JOBS
        PRINTER-JOBS

   followed by one of these arguments:

        <request-id-number>    (for a single job)
        [user name]            (for all jobs of a user)
        *                      (for all job requests)

   OPR>



   6.3.5  Line Continuation   6.3.5  Line Continuation

   Commands to OPR are often long and cumbersome, especially if  you  use
   ESCape recognition.  The OPR program enables you to continue a command
   on the next line.  To continue a  command  line,  type  a  hyphen  (-)
   before  you  press  <RET>.  This prevents OPR from processing the line
   until it reaches a <RET> that is not preceded by a hyphen.

   For example, the following command line uses line continuation:

            ___ __________ _____ __________ _________________ _____        OPR>SET TAPE-DRIVE MTA3: INITIALIZE /LABEL-TYPE:ANSI- <RET>

        _______________________________________________________ _____        /OWNER:[31,5723]/TAPE-DISPOSITION:HOLD/VOLUME-ID:TAPE01 <RET>

        OPR>







                                    6-7
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   6.4  CONTROLLING ORION TO OPR MESSAGES   6.4  CONTROLLING ORION TO OPR MESSAGES

   OPR displays two types of messages:  messages from  OPR  and  messages
   from  ORION.   The  following types of ORION messages are displayed on
   your terminal:

         o  Error  messages  showing  that  ORION  does  not   have   the
            appropriate  devices,  streams,  nodes,  or jobs to process a
            command

         o  Messages from jobs that start processing in a stream or on  a
            device

         o  Messages from jobs that end processing in a stream  or  on  a
            device

         o  Messages  specifying  actions  you  must  take  for   various
            devices, streams, or jobs

         o  Results of TAKE command files

   The first eight characters of the message is the  time  stamp.   ORION
   time-stamps  each  OPR command it accepts and executes, as well as all
   error messages.

   In the following example, ORION displays the time (in hours,  minutes,
   and seconds) that it accepted and executed the SET PRINTER command.

       ___ _______ _ __________ ______ _____   OPR>SET PRINTER 0 FORMS-TYPE NARROW <RET>

   12:00:00        Printer 0  -- Set Accepted --

   ORION displays error messages in the same format.   In  the  following
   example,  ORION  acknowledges  the SHOW MESSAGES command by displaying
   the information message shown below:

       ____ ________ _____   OPR>SHOW MESSAGES <RET>

   12:00:00        -- No Outstanding Messages --

   When a particular job starts to process in a  batch  stream  or  on  a
   device,  ORION  displays  a  message  to notify you that the stream or
   device is active.  For example, ORION displays the  following  message
   when  a  job  named  TEST begins to process in batch stream 0 for user
   ZINA:

   hh:mm:ss        Batch-stream 0  -- Begin --
                   Job TEST Req #274 for ZINA [27,1234]

   OPR>

   Likewise, when a particular job  ends  processing,  ORION  displays  a


                                    6-8
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   message  to notify you that the stream or device is not active and the
   job has completed.  For example, ORION displays the following  message
   when  the  job  named TEST ends the process in batch stream 0 for user
   ZINA.

   hh:mm:ss        Batch-stream 0  -- End --
                   Job TEST Req #274 for ZINA [27,1234]

   OPR>

   You may want to control  the  types  of  messages  displayed  at  your
   terminal.   For  example,  if you have multiple terminals running OPR,
   you can set the OUTPUT-DISPLAY to suit the needs of each OPR job.   To
   control  OPR  message  output,  enter  the  ENABLE  or DISABLE command
   followed by the keyword,  OUTPUT-DISPLAY,  and  one  or  more  of  the
   following arguments:

        ALL-MESSAGES       displays all operator, system, user, and error
                           messages  on  your OPR terminal.  ALL-MESSAGES
                           is the default.

        BATCH-MESSAGES     displays messages generated during  batch  job
                           processing.

        CARD-PUNCH-MESSAGES

                           displays  messages  generated  by   card-punch
                           jobs.

        CARD-READER-INTERPRETER-MESSAGES

                           displays messages  generated  by  card  reader
                           jobs  or batch jobs submitted with the /READER
                           switch.

        CATALOG-MESSAGES   displays messages generated by changes to  the
                           system catalog.

        CONFIG-MESSAGES    displays messages generated by changes to  the
                           system configuration.

        EVENT-MESSAGES     displays messages generated by special  events
                           such  as  billing file closure, ORION log file
                           closure, scheduled system shutdown,  or  Usage
                           accounting  file closure.  See the SHOW QUEUES
                           EVENTS command for more information  on  these
                           event types.

        FAL-MESSAGES       displays  messages  generated  during  network
                           file access requests.

        LCP-MESSAGES       displays messages generated by the LAT Control


                                    6-9
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


                           Program.

        MOUNT-MESSAGES     displays messages generated when users request
                           tape and structure mounts and dismounts.

        NCP-MESSAGES       displays  messages  generated  by  the  DECnet
                           Network Control Program.

        NQC-MESSAGES       displays messages  generated  by  the  Network
                           Queue Controller.

        PAPER-TAPE-PUNCH-MESSAGES

                           displays      messages      generated       by
                           paper-tape-punch jobs.

        PLOTTER-MESSAGES   displays messages generated by plotter jobs.

        PRINTER-MESSAGES   displays messages generated  by  line  printer
                           jobs.

        QUOTA-MESSAGES     displays messages generated by changes to  the
                           system catalogs.

        READER-MESSAGES    displays messages  generated  by  card  reader
                           jobs.

        USER-MESSAGES      displays messages generated  when  users  make
                           requests to you through the PLEASE program.

   The ENABLE and DISABLE commands also have the following switches.   If
   you  do  not  specify  one  of  these  switches  with one of the above
   arguments, the system assumes all three types of messages.

   /INFORMATION-MESSAGES
   /JOB-MESSAGES
   /OPR-ACTION-MESSAGES

                                                                  _______   For more information about these commands and switches see the TOPS-10
   __________ _______ ________ _________ ______   Operator's Command Language Reference Manual.



   6.5  OPR ERROR MESSAGE DESCRIPTIONS   6.5  OPR ERROR MESSAGE DESCRIPTIONS

   OPR error messages are also displayed on your terminal.  All OPR error
   messages begin with "?" and are followed by the message explaining the
   error.  Note that "?" does not represent a fatal error in OPR,  as  it
   does in some other system programs.

   When you receive an error message, you can  type  <CTRL/H>  to  retype
   your  OPR  command  up  to  the  point where you entered the incorrect


                                    6-10
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   keyword, switch, or  value  and  specify  the  correct  input  to  the
                     _______ __________ _______ ________ _________ ______   command.  See the TOPS-10 Operator's Command Language Reference Manual
   for a complete list of OPR error messages, their causes,  and  how  to
   recover from them.


















































                                    6-11

























































                                    7-1












                                 CHAPTER 7                                 CHAPTER 7

                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS



   This chapter explains the relationships among the GALAXY programs  and
   the devices they operate.  It explains how to use the GALAXY system to
   control the following:

         o  Scheduled system events

         o  Batch streams

         o  NQC streams

         o  FAL streams

         o  Batch jobs

         o  Card punch jobs

         o  Card reader jobs

         o  Line printer jobs

         o  Paper-tape-punch jobs

         o  Plotter jobs

   Figure 7-1 and Table 7-1 on the following pages explain the components
   of the GALAXY system.













                                    7-1
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                   _________     _____
                  |         |___| OPR |
                  | ORION   |   |_____|
                  |         |    _____
                  |         |___| OPR |
                  |_________|   |_____|
                       |                              
    ________       ____|____             ________     ______
   |        |     |         |___________|        |___| LPTx |
   | QUEUE  |_____| QUASAR  |________   | LPTSPL |   |______|
   |        |     |         |______  |  |        |    ______
   |        |     |         |____  | |  |        |___| LPTy |
   |        |     |         |__  | | |  |________|   |______| 
   |________|     |_________|  | | | |  
                       |       | | | |
    ________       ____|____   | | | |   ________
   | DISKS  |_____|         |  | | | |  |        |
   |________|     | PULSAR  |  | | | |__| SPRINT |
   | TAPES  |     |         |  | | |    |        |
   |________|     |         |  | | |    |        |
                  |_________|  | | |    |________|
                       |       | | |     
                   ____|____   | | |     ________     ______
                  |         |  | | |    |        |___| CDRx |
                  | MONITOR |  | | |____| CDRIVE |   |______|
                  |         |  | |      |        |    ______
                  |         |  | |      |        |___| CDRy |
                  |_________|  | |      |________|   |______|
                               | |
                               | |       ________     ______
                               | |      |        |___| PTYO |
                               | |______| BATCON |   |______|
                               |        |        |    ______
                               |        |        |___| PTYn |
                               |        |________|   |______|
                               |
                               |         ________     ______
                               |        |        |___| PTP  |
                               |________| SPROUT |   |______|
                                        |        |    ______
                                        |        |___| PLT  |
                                        |________|   |______|
                                             |        ______
                                             |_______| CDP  |
                                                     |______|

   Figure 7-1:  The GALAXY System   Figure 7-1:  The GALAXY System







                                    7-2
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   Table 7-1:  GALAXY Components   Table 7-1:  GALAXY Components


   ______________________________________________________________________

     Program                            Function
   ______________________________________________________________________

     BATCON    the batch controller, is the program that initiates  and
               controls  the  processing of batch jobs.  QUASAR selects
               jobs from the batch input queue and gives them to BATCON
               for processing.  The OPR commands that have BATCH-STREAM
               as an argument are those that allow you to control batch
               job processing.

     CDRIVE    are responsible for the card reader input.  CDRIVE reads
     SPRINT    cards from the card reader(s), places the  data  on  the
               cards  on disk, and queues a request for SPRINT.  SPRINT
               reads the data,  interprets  the  $JOB  card  and  other
               control  cards,  and then creates and submits the user's
               batch job to BATCON.  The OPR commands that have  READER
               as  an  argument  or keyword are those that allow you to
               control card reader processing.

     LPTSPL    the line printer spooler, is a program that can drive up
               to  8  local  and  remote printers per spooler per node.
               LPTSPL  processes  print  requests  that  include  those
               submitted  with  the  PRINT  command,  spooled  requests
               generated by user programs, and batch log files.  QUASAR
               selects  jobs  to  be  printed according to a variety of
               parameters.  The OPR commands that have  PRINTER  as  an
               argument  are  those  that  allow  you  to  control line
               printer processing.

     NEBULA    sends  output  jobs  to   remote   systems   using   the
               Distributed Queue Service (DQS) protocol.

     OPR       allows  you  to  communicate  with  the  various  system
               components  and  with  the  users requesting jobs on the
               devices controlled by these  components.   This  chapter
               describes  the OPR commands that accomplish these tasks.
                                                                _______               For  more  information  about  OPR   see   the   TOPS-10
               __________ _______ ________ _________ ______               Operator's Command Language Reference Manual.

     ORION     is the interface between OPR and all  other  components.
               ORION  logs each OPR command it receives, and passes the
               command to the appropriate program.

     PULSAR    the tape label and  disk  structure  processor,  is  the
               program  that  handles  the  reading and writing of tape
               labels.



                                    7-3
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


               The mountable device allocation (MDA) system is composed
               of  QUASAR  and  PULSAR.   The  MDA  system  is a set of
               functions  within  these  two  programs   that   control
               mountable  devices (tapes and disks).  To place a device
               under control of MDA , set it to be AVAILABLE.

     QUASAR    the queue manager, is the heart of the spooling  system.
               It  is  responsible for scheduling all jobs entered into
               the spooler and mount queues.

     QUEUE     is a program which enables  you  to  interact  with  the
               GALAXY batch and spooling subsystem.  QUEUE supports the
               full set of  commands  used  for  entering  batch  jobs,
               printing,  punching  or  plotting  files, allocating and
               mounting  devices  and  showing  the  status  of  system
               queues.

     SPROUT    handles all the output requests other than line  printer
               requests.  SPROUT is the:

                o  card punch

                o  paper-tape punch

                o  plotter spooler

               QUASAR selects  data  to  be  output  on  these  devices
               according  to a variety of parameters.  The OPR commands
               that have CARD-PUNCH, PAPER-TAPE-PUNCH, and  PLOTTER  as
               arguments  are  those  that  enable  you  to control the
               output processing on these devices.
   ______________________________________________________________________



   7.1  CONTROLLING SYSTEM EVENTS   7.1  CONTROLLING SYSTEM EVENTS

   OPR allows you to control certain system activities known as "events".
   These events are:

         o  Billing file closure (BILCLS)

         o  Scheduled system shutdown (KSYS)

         o  ORION log file closure (OPRFIL)

         o  Command file execution (TAKFIL)

         o  USAGE file closure (USGFIL)

   To display the items in the EVENT queue, type the SHOW  QUEUES  EVENTS
   command.


                                    7-4
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


       ____ ______ ___________   OPR>SHOW QUEUES EVENTS<RET>
   OPR>
   15:30:39                   -- System Queues Listing --
   Event Queue:
      Type    Req#     Expiration                 Description
   --------  ------ ------------------  --------------------------------
     BILCLS     227  1-Oct-87 16:59:59  Prime time rates end
     USGFIL     334  1-Oct-87 23:59:30  Usage file closure
     OPRFIL     335  2-Oct-87  0:00:00  ORION log file closure
     BILCLS     543  2-Oct-87  7:59:59  Discount rates end
   * KSYS        41  7-Oct-87  0:00:59  Debug new monitor
   There are 5 events in the queue (1 in progress)
   OPR>

   The commands that control system events allow you to  include  a  time
   and date argument.  These commands are:

         o  CLOSE       To close the log file.

         o  SET KSYS    To set a system shutdown.

         o  SET USAGE   To close the accounting file.

         o  TAKE        To execute commands in a file.

         o  CANCEL      To cancel a pre-set event.

   OPR uses the following conventions for the time  and  date  arguments:
   hh:mm:ss  stands for hours, minutes and seconds.  dd-mmm-yy stands for
   day, month, year.  DAY is a day of the week.

   NOW                     causes the event to occur immediately.

   +hh:mm:ss               schedules the event to occur in the number  of
                           hours  from  the  current time as specified by
                           hh:mm:ss.  (Specifies a relative time for  the
                           event to occur.)

   hh:mm:ss                schedules the  event  to  occur  at  the  time
                           specified by hh:mm:ss.  (Specifies an absolute
                           time for the event to occur.)

   dd-mmm-yy:hh:mm:ss      schedules the event to occur on the  date  and
                           time specified by dd-mmm-yy:hh:mm:ss.

   DAILY hh:mm:ss          schedules the event to occur every day at  the
                           time specified by hh:mm:ss.

   EVERY "DAY" hh:mm:ss    schedules the event to occur every week on the
                           day  and  time  you  specify.  DAY specifies a
                           particular day of the week.



                                    7-5
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.1.1  Closing the ORION Log File   7.1.1  Closing the ORION Log File

   To close the current ORION log file, rename it, and create a  new  log
   file,  use  the  CLOSE  command.   You  can  close  the ORION log file
   immediately or specify a date and time.


                            ----- Example -----

   Use the CLOSE command to close the ORION log file and open a  new  log
   file automatically.

       _____ ___ ________   OPR>CLOSE LOG NOW<RET>
   OPR>
   15:10:33 --Event OPRFIL queued, request #426--
   OPR>
   15:10:34 --Log file DSKA:OPERAT.LOG[3,3] renamed to DSKA:OPERAT.001[3,3]--

   OPR>



   7.1.2  Scheduling System Shutdown   7.1.2  Scheduling System Shutdown

   To set a time for timesharing to end use the SET  KSYS  command.   You
   may  need to stop timesharing so that maintenance or stand-alone tasks
   can be performed.


                            ----- Example -----

   Set the KSYS time to midnight for 21-Nov-88.

       ___ ____ _______________________   OPR>SET KSYS 21-NOV-88:00:00:00<RET>
   OPR>
   16:24:21                  -- Event job KSYS queued, request  53 --
   OPR>

   Display the event queue to check the pending KSYS time.

       ____ ______ ___________   OPR>SHOW QUEUES EVENTS<RET>

   OPR>
   16:25:37                 -- System Queues Listing --

   Event Queue:
     Type     Req#      Expiration           Description           
   --------  ------  ------------------  -----------------------
     BILCLS      24  19-Nov-88 16:59:59  Prime time rates end             
     USGFIL      44  19-Nov-88 23:59:30  Usage file closure               
     OPRFIL      38  20-Nov-88  0:00:00  ORION log file closure           
     BILCLS      15  20-Nov-88  7:59:59  Discount rates end               


                                    7-6
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   * KSYS        53  21-Nov-88  0:00:00  

   There are 4 events in the queue (1 in progress)



   7.1.3  Controlling Usage Accounting   7.1.3  Controlling Usage Accounting

   To control the usage accounting system during  system  operation,  use
   the  SET  USAGE command.  SET USAGE BILLING-CLOSURE specifies that all
   session entries be closed at a given time and SET  USAGE  FILE-CLOSURE
   specifies  that the current usage file be closed and renamed, and that
   a new usage file be opened.


                            ----- Example -----

   Close the billing sessions for the change  between  first  and  second
   shift.

       ___ _____ _______________ __________   OPR>SET USAGE BILLING-CLOSURE 16:30<RET>

   13:21:27 --Will close billing sessions at 15-Jul-88  16:29:59--

   OPR>

   At 16:30 (4:30 PM),  or  shortly  thereafter,  the  following  message
   appears on the OPR terminal.

   OPR>
   16:34:22 -- Message from the Accounting System --
            Session entries written for all jobs

   OPR>



   7.1.4  Executing Command Files   7.1.4  Executing Command Files

   To automatically execute the commands in a command file, use the  TAKE
   command.   Typically  a  command file contains commands that perform a
   series of related tasks.


                            ----- Example -----

   Specify a time for the TEST.CMD file to be executed.

       ____ ____________ _______________________   OPR>TAKE DSK:TEST.CMD 20-NOV-88:12:00:00<RET>
   OPR>
   16:40:56                  -- Event job TAKFIL queued, request  162 --



                                    7-7
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   OPR>

   Display the event queue to check that the TAKE  command  was  properly
   queued.

       ____ ______ ___________   OPR>SHOW QUEUES EVENTS<RET>
   OPR>
   16:41:08                 -- System Queues Listing --

   Event Queue:

     Type       Req#      Expiration           Description           
     ------    ---  ------------------  ------------------------
     BILCLS    24  19-Nov-88 16:59:59  Prime time rates end             
     USGFIL    44  19-Nov-88 23:59:30  Usage file closure               
     OPRFIL    38  20-Nov-88  0:00:00  ORION log file closure           
     BILCLS    15  20-Nov-88  7:59:59  Discount rates end               
     TAKFIL   162  20-Nov-88 12:00:00  Time-of-day OPR command file     
     * KSYS   103  21-Nov-88  0:00:00  Timesharing will end  

   There are 6 events in the queue (1 in progress)

   OPR>



   7.2  BATCH RESPONSIBILITIES   7.2  BATCH RESPONSIBILITIES

   The batch system increases the efficiency of the system by  processing
   jobs   that   do   not   require   human   interaction.    Your  batch
   responsibilities are to:

         o  Start batch streams

         o  Set parameters for batch streams and parameters

         o  Adjust the parameters, if necessary

         o  Service action requests from user jobs

         o  Maintain peripheral devices

         o  Examine the queues periodically and modify  the  requests  if
            necessary.

   If users are submitting batch jobs on card decks, your system  manager
   should tell you:

         o  Where the decks must be placed for submission

         o  When the decks are read



                                    7-8
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  Where and when the decks and output are returned to users




   7.3  CONTROLLING BATCH STREAMS   7.3  CONTROLLING BATCH STREAMS

   You must start the batch streams before the batch system  can  process
   batch   requests.    In   addition,   you   must  check  to  see  that
   QUEUE-REQUESTS are enabled.  Issue the PRINT  or  SUBMIT  commands  to
   verify   that  QUEUE-REQUESTS  are  enabled.   If  QUEUE-REQUESTS  are
   disabled, the system responds with a message  stating  that  they  are
   disabled.  The following example illustrates the ENABLE QUEUE-REQUESTS
   command.

       ______ ___________________   OPR>ENABLE QUEUE-REQUESTS<RET>

   OPR>



   7.3.1  Setting Parameters   7.3.1  Setting Parameters

   Normally, the SYSTEM.CMD file starts a defined number of batch streams
   automatically  at  system  start-up.   However,  you  might  start  an
   additional batch stream when there are many batch jobs waiting in  the
   queue.   Batch stream parameters limit the use of a stream to requests
   that meet a particular set of  criteria.   The  default  batch  stream
   parameters are:

         o  ATTRIBUTE BATCON

         o  MEMORY-LIMITS 0:512

         o  OPR-INTERVENTION

         o  PRIORITY-LIMITS 1:63

         o  TIME-LIMITS 0:600

   The ATTRIBUTE parameter enables  you  to  specify  whether  the  batch
   stream  uses BATCON or SITGO to process jobs.  Use SITGO when you need
   a  batch  processor  that  contains  a  fast,  batch-oriented  FORTRAN
   compiler.

   The MEMORY-LIMITS parameter specifies the memory requirements of batch
   jobs  in the batch stream.  MEMORY-LIMITS is expressed in terms of the
   number of memory pages a batch job needs in order  to  process.   Only
   batch jobs with memory requirements within the specified range can run
   in the stream.

   The OPR-INTERVENTION parameter enables users to pass messages  to  you


                                    7-9
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   through  the  batch  job.   For  example,  a user might send a message
   requesting you to mount  a  tape.   To  disable  the  OPR-INTERVENTION
   parameter    set    the   parameter   to   NOOPR-INTERVENTION.    With
   NOOPR-INTERVENTION in effect, the system automatically logs out  batch
   jobs that request operator intervention.

   The PRIORITY-LIMITS parameter enables you to  specify  the  priorities
   for  a  batch  stream or a range of batch streams.  The default limits
   are from 1 to 63.  The greater the number, the  higher  the  priority.
   If  you  set  a  batch  stream  to have a priority limit of 31:41, the
   system only processes batch requests submitted with a priority between
   31 and 41 (inclusive) in that stream.

   The TIME-LIMITS parameter enables you  to  specify  a  range  of  time
   limits  for  batch  jobs  running  in a specified stream.  The default
   minimum:maximum range is 0:600 minutes.  If you set a batch stream  to
   have  time  limits  from  0  to  5  minutes, the system only processes
   requests submitted with a time limit of 5  minutes  or  less  in  that
   batch stream.


                            ----- Example -----

   Set a batch stream for NOOPR-INTERVENTION with a priority limit of  50
   and with a time range of 60 to 90 minutes.

       ___ ____________ _ __________________ _____   OPR>SET BATCH-STREAM 4 NOOPR-INTERVENTION <RET>

   OPR>
    9:20:55        Batch-stream 4  -- Set Accepted --

       ___ ____________ _ _______________ __ _____   OPR>SET BATCH-STREAM 4 PRIORITY-LIMITS 50 <RET>

   OPR>
    9:21:15        Batch-stream 4  -- Set Accepted --

       ___ ____________ _ ___________ _____ _____   OPR>SET BATCH-STREAM 4 TIME-LIMITS 60:90 <RET>

   OPR>
    9:21:40        Batch-stream   -- Set Accepted --

   OPR>



   7.3.2  Starting Batch Streams   7.3.2  Starting Batch Streams

   After you set the parameters for a particular batch stream or a  range
   of  batch streams, you can start the stream(s).  If you do not set any
   parameters for the stream, the stream takes the default  values.   You
   can start one or more batch streams at a time.



                                    7-10
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                            ----- Example -----

   Issue the START BATCH-STREAM command to start up streams 6 and 7.

       _____ ____________ ___ _____   OPR>START BATCH-STREAM 6:7 <RET>

   OPR>
   10:00:15        Batch-stream 6  -- Startup Scheduled --

   OPR>
   10:00:20        Batch-stream 7  -- Startup Scheduled --

   OPR>



   7.3.3  Stopping Batch Streams Temporarily   7.3.3  Stopping Batch Streams Temporarily

   To stop a batch stream or a range of batch  streams  temporarily,  use
   the  STOP  command.  The STOP BATCH-STREAM command temporarily stops a
   batch stream from processing a job.  You must use the CONTINUE command
   to resume the batch stream.

   The STOP command has the following optional arguments:

         o  AFTER CURRENT-REQUEST

         o  AFTER EVERY-REQUEST

         o  IMMEDIATELY

   The default is to stop processing immediately.


                            ----- Example -----

   Stop the processing of a job in batch stream 4 temporarily.

       ____ ____________ _ _____   OPR>STOP BATCH-STREAM 4 <RET>

   OPR>
   11:23:09        Batch-stream 4  -- Stopped --

   OPR>



   7.3.4  Continuing Batch Streams   7.3.4  Continuing Batch Streams

   Use the CONTINUE command to continue processing a  stopped  job  in  a
   batch stream or jobs in a range of batch streams.



                                    7-11
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                            ----- Example -----

   Continue processing the job in batch stream 4.

       ________ ____________ _ _____   OPR>CONTINUE BATCH-STREAM 4 <RET>

   OPR>
   11:41:18        Batch-stream 4  -- Continued --

   OPR>



   7.3.5  Shutting Down Batch Streams   7.3.5  Shutting Down Batch Streams

   To permanently stop a batch stream or a range of  batch  streams,  use
   the  SHUTDOWN  command.  If a job is currently processing in the batch
   stream, the shutdown occurs when the job  is  completed,  and  no  new
   batch requests are accepted.

   To start a batch stream after it has been  shut  down  use  the  START
   command.


                            ----- Example -----

   Shut down batch stream 5 while a job is still processing in it.

       ________ ____________ _ _____   OPR>SHUTDOWN BATCH-STREAM 5 <RET>

   OPR>
   13:34:45        Batch-stream 5  -- Shutdown Scheduled --

   OPR>

   When the job  in  the  batch  stream  has  completed  processing,  the
   following message appears:

   OPR>
   13:38:25        Batch-stream 5  -- Shutdown --

   OPR>



   7.3.6  Sending Messages   7.3.6  Sending Messages

   To send  a  message  to  a  job  in  a  batch  stream,  use  the  SEND
   BATCH-STREAM   command.   You  can  specify  single-line  messages  or
   multi-line messages.  To send multi-line messages do the following:




                                    7-12
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


        1.  Type SEND BATCH-STREAM.

        2.  Enter the stream number to which you want the message sent.

        3.  Press RETURN.

        4.  Type your message.

        5.  Press <CTRL/Z> to terminate the SEND command.



                            ----- Example -----

   A batch job in batch stream 2 requests a tape mount.  After  you  have
   mounted  and  readied the tape, you SEND a message to the batch stream
   to identify the tape volume id to the batch  user.   You  can  specify
   only one batch stream in the SEND command.

       ____ ____________ _ _____   OPR>SEND BATCH-STREAM 2 <RET>
   Enter text and terminate with ^Z
   ___ ____ ______ __ __ _________   THE TAPE VOLUME ID IS 120124.^Z

   OPR>


                          ----- Restriction -----

   If you send a message to a stream that is not processing  a  job,  you
   receive the following error message:

   hh:mm:ss        Batch-stream n -- Not Active --



   7.3.7  Displaying Batch Stream Parameters   7.3.7  Displaying Batch Stream Parameters

   To display current batch stream  parameters  for  one  or  more  batch
   streams  use  the SHOW PARAMETERS BATCH-STREAM command.  If you do not
   specify a stream number or a range  of  stream  numbers,  the  command
   displays all the batch streams.

   The  SHOW  PARAMETERS  BATCH-STREAM  command  displays  the  following
   information for each batch stream:

         o  The number of the batch stream

         o  The range of processing minutes set for the batch stream

         o  The priority range set for the batch stream




                                    7-13
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  The memory range set for the batch stream

         o  Whether or not operator intervention has  been  set  for  the
            batch stream


                            ----- Example -----

   Use the SHOW PARAMETERS BATCH-STREAM command to display the parameters
   of all current batch streams in the system.

       ____ __________ ____________ _____   OPR>SHOW PARAMETERS BATCH-STREAM <RET>

   OPR>
   12:09:33            -- System Device Parameters --

   Batch-stream Parameters:
     Strm     Minutes    Prio    Core     Opr-Intvn
     ----  -----------  -----  -------  -----------
        0      0:10      1:19    1:512          Yes
        1     11:30      1:19    1:512          Yes
        2     31:480     1:19    1:512          Yes
        3      0:11000  20:63    1:512          Yes
   OPR>



   7.3.8  Displaying Batch Stream Status   7.3.8  Displaying Batch Stream Status

   To display the status of one or more batch streams use the SHOW STATUS
   BATCH-STREAM  command.  If you do not specify a batch stream number or
   a range of numbers, the command defaults to all batch streams  in  the
   system.

   The  SHOW  STATUS  BATCH-STREAM   command   displays   the   following
   information for each batch stream:

         o  The number of the batch stream

         o  The current status of the batch stream (idle or active)

         o  The name of the job currently active in the batch stream,  if
            a job is running

         o  The request-id of the job

         o  The name and PPN of the user who made the job request

         o  The label last referenced

         o  The name of program being run



                                    7-14
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  The runtime, if any

   If you only want to see information about idle  streams,  specify  the
   /SHORT switch before you press RETURN.


                            ----- Example -----

   Use the SHOW STATUS BATCH-STREAM command to display the current status
   of all batch streams in the system.

       ____ ______ ____________ _____   OPR>SHOW STATUS BATCH-STREAM <RET>

   OPR>
   19:19:57                -- System Device Status --

   Batch-stream Status:
     Strm      Status       Jobname  Req#            User
     ----  ---------------  -------  ----  ------------------------
        0  Idle           
        1  Active           FDLBLD     59  BROWN.E [27,5107]
            Job 18 Running MACRO Last Label: MACRO Runtime 0:00:42
        2  Idle             
        3  Active           PHYCAL     41  MANUFACTURING [10,1221]
            Job 31 Running COBOL Runtime 2:31:27

   OPR>



   7.4  CONTROLLING FAL STREAMS   7.4  CONTROLLING FAL STREAMS

   FAL, the File Access Listener, provides remote access to  the  TOPS-10
   file  system  and  is an integral part of network communications.  FAL
   makes network file transfers possible in the following ways:

         o  It acts as a target for NFT (Network File Transfer)  programs
            on other DECnet and ANF-10 hosts.

         o  It determines a user's access privileges to a requested file.

   A single FAL job can  run  multiple  FAL  streams.   Each  FAL  stream
   controls a network connection.

   OPR has commands that allow you to:

         o  Define FAL accessibility.

         o  Specify the network type with  which  each  FAL  stream  will
            communicate.




                                    7-15
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  Start FAL stream scheduling.

         o  Terminate FAL stream scheduling.

         o  Stop FAL streams temporarily or terminate active FAL streams.

         o  Continue FAL streams.

         o  Display  the  status  and  network  types   associated   with
            specified FAL streams.

   For more information about OPR  commands  that  control  FAL  streams,
                __________ _______ ________ _________ _______   refer to the Operator's Command Language Reference Manual.



   7.4.1  Defining FAL Accessibility   7.4.1  Defining FAL Accessibility

   To specify FAL accessibility, use the DEFINE command.


                            ----- Example -----

   Use the DEFINE command to specify nodes that  may  not  establish  FAL
   connections.

       ______ ___________ ______________ _________   OPR>DEFINE FILE-ACCESS REJECTION-LIST SCUD<RET>
   OPR>
   13:48:53            -- Rejection list defined for all FAL-Streams --
   OPR>



   7.4.2  Setting Parameters   7.4.2  Setting Parameters

   To specify the network type  (DECnet  or  ANF-10)  associated  with  a
   specified  FAL  stream, use the SET FAL-STREAM command.  ANF-10 is the
   default network type.


                            ----- Example -----

   Use the SET command to define ANF-10 as the  network  with  which  FAL
   stream 3 will communicate.

       ___ __________ _ _______ ___________   OPR>SET FAL-STREAM 3 NETWORK ANF-10<RET>
   OPR>
   15:16:38          Fal-Stream 3  -- Set Accepted --
   OPR>





                                    7-16
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.4.3  Starting FAL Streams   7.4.3  Starting FAL Streams

   To start the scheduling for a FAL stream or range of FAL  streams  use
   the  START  FAL-STREAM  command.   Use the START FAL-STREAM command to
   restart FAL streams that you stopped with the SHUTDOWN command.


                            ----- Example -----

   Use the START FAL-STREAM command to start FAL streams 6 and 7.

       _____ __________ ________   OPR>START FAL-STREAM 6:7<RET>
   OPR>
   13:53:32          FAL-Stream 6  -- Startup Scheduled --
   13:53:33          FAL-Stream 7  -- Startup Scheduled --
   OPR>
   13:53:34          FAL-Stream 6  -- Started --
   OPR>
   13:53:37          FAL-Stream 7  -- Started --
   OPR>



   7.4.4  Stopping FAL Streams Temporarily   7.4.4  Stopping FAL Streams Temporarily

   To temporarily stop a specified FAL stream or range  of  FAL  streams,
   use  the  STOP FAL-STREAM command.  To terminate an active FAL stream,
   use the ABORT FAL-STREAM command.


                            ----- Examples -----

   Use the ABORT FAL-STREAM command to abort FAL stream 0.

       _____ __________ ______   OPR>ABORT FAL-STREAM 0<RET>
   OPR>
   10:48:42          FAL-Stream 0  -- Abort --
                     Aborting due to operator command
   10:48:42          FAL-Stream 0  -- End --
                     Servicing DECnet node BERTS for user sendlosky
   OPR>

   Use the STOP FAL-STREAM command to immediately stop FAL stream 6.

       ____ __________ ______   OPR>STOP FAL-STREAM 6<RET>
   OPR>
   15:00:09          FAL-Stream 6  -- Stopped --
   OPR>






                                    7-17
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.4.5  Continuing FAL Streams   7.4.5  Continuing FAL Streams

   To continue a specified FAL stream or range of FAL  streams  that  you
   stopped using the STOP FAL-STREAM command, use the CONTINUE FAL-STREAM
   command.


                            ----- Example -----

   Use the CONTINUE FAL-STREAM command to continue FAL stream 6.

       ________ __________ ______   OPR>CONTINUE FAL-STREAM 6<RET>
   OPR>
   15:02:33          FAL-Stream 6 -- Continued --
   OPR>



   7.4.6  Shutting Down FAL Streams   7.4.6  Shutting Down FAL Streams

   To terminate scheduling for a specified FAL stream  or  range  of  FAL
   streams, use the SHUTDOWN FAL-STREAM command.  The SHUTDOWN FAL-STREAM
   command allows the current FAL stream  to  complete  processing,  then
   terminates the stream and no further FAL streams are processed.


                            ----- Example -----

   Use the SHUTDOWN FAL-STREAM command to terminate FAL streams 6 and 7.

       ________ __________ ________   OPR>SHUTDOWN FAL-STREAM 6:7<RET>
   OPR>
   14:03:57          FAL-Stream 6  -- Shutdown -- 
   14:03:57          FAL-Stream 7  -- Shutdown -- 
   OPR>



   7.4.7  Displaying FAL Stream Parameters   7.4.7  Displaying FAL Stream Parameters

   To display the network type associated with a  specified  FAL  stream,
   use the SHOW PARAMETERS FAL-STREAM command.


                            ----- Example -----

   Use the SHOW PARAMETERS FAL-STREAM  command  to  display  the  current
   parameters of all FAL streams.

       ____ __________ _______________   OPR>SHOW PARAMETERS FAL-STREAM<RET>
   OPR>
   15:09:18                  -- System Device Parameters --


                                    7-18
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   FAL STREAM PARAMETERS:
     Strm  Network
     ----  -------
        0  DECnet
        1  DECnet
        2  DECnet
        3  ANF-10
        4  ANF-10
        5  ANF-10
        6  ANF-10
   OPR>



   7.4.8  Displaying FAL Stream Status   7.4.8  Displaying FAL Stream Status

   To display the status of a  specified  FAL  stream  or  range  of  FAL
   streams, use the SHOW STATUS FAL-STREAM command.


                            ----- Example -----

   Use the SHOW STATUS FAL-STREAM command to display the  current  status
   of all FAL streams.

       ____ ______ _______________   OPR>SHOW STATUS FAL-STREAM<RET>
   OPR>
   16:22:50                 -- System Device Status --

   FAL-Stream Status:
     Strm      Status        Node   Connect Time   Bytes
     ----  ---------------  ------  ------------  -------
        0  Idle             
        1  Idle             
        2  Idle             
        3  Active           KL1026    00:00:31      54943
           Writing DSKB:OPRPAR.MAC[10,6030,GALAXY,ORION] for user send
        4  Idle             
        5  Idle             
   OPR>



   7.5  CONTROLLING NQC STREAMS   7.5  CONTROLLING NQC STREAMS

   The Network  Queue  Controller  (NQC),  using  the  Distributed  Queue
   Service (DQS) protocol, allows more than one output request to be sent
   to an output queue of a remote node at one time.

   NQC-Streams control spooling requests for the  NEBULA  remote  queuing
   software.    Current   versions   of  NEBULA  run  as  internal  ORION
   applications that are available with the standard monitor distribution


                                    7-19
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   and  GALAXY  CUSP.   To  implement remote queuing, your system must be
   running DECnet-10 Version 3 and the remote  queuing  node  must  be  a
   VAX/VMS system running DQS Version 1.0 software.



   7.5.1  Setting Parameters   7.5.1  Setting Parameters

   To specify a node  or  the  INPUT-STREAM  or  OUTPUT-STREAM  attribute
   associated  with  a  specified NQC stream or range of NQC streams, use
   the SET NQC-STREAM command.


                            ----- Example -----

   Use the SET NQC-STREAM command to specify the OUTPUT-STREAM  attribute
   to NQC stream 0.

       ___ __________ _ _________ __________________   OPR>SET NQC-STREAM 0 ATTRIBUTE OUTPUT-STREAM<RET>
   OPR>
   14:09:36          NQC-Stream 0 -- Set Accepted -- 
   OPR>



   7.5.2  Starting NQC Streams   7.5.2  Starting NQC Streams

   To start the scheduling for a NQC stream or range of NQC  streams  use
   the  START  NQC-STREAM  command.   Use the START NQC-STREAM command to
   restart NQC streams that you stopped with the SHUTDOWN command.


                            ----- Example -----

   Use the START NQC-STREAM command  to  start  the  scheduling  for  NQC
   stream 0.

       _____ __________ ______   OPR>START NQC-STREAM 0<RET>
   OPR>
   14:20:13          NQC-Stream 0  -- Startup Scheduled -- 
   OPR>



   7.5.3  Stopping NQC Streams Temporarily   7.5.3  Stopping NQC Streams Temporarily

   To temporarily stop a specified NQC stream or range  of  NQC  streams,
   use  the  STOP NQC-STREAM command.  To terminate an active NQC stream,
   use the ABORT NQC-STREAM command.


                            ----- Examples -----


                                    7-20
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   Use the ABORT NQC-STREAM command to abort NQC stream 2.

       _____ __________ ______   OPR>ABORT NQC-STREAM 2<RET>
   OPR>
   12:08:17          NQC-Stream 2  -- Abort --
                     Aborting due to operator command
   12:08:17          NQC-Stream 2  -- End --
                     Servicing DECnet node CLOYD for user morrill
   OPR>

   Use the STOP NQC-STREAM command to immediately stop NQC stream 4.

       ____ __________ ______   OPR>STOP NQC-STREAM 4<RET>
   OPR>
   10:11:15          NQC-Stream 4  -- Stopped --
   OPR>



   7.5.4  Continuing NQC Streams   7.5.4  Continuing NQC Streams

   To continue a specified NQC stream or range of NQC  streams  that  you
   stopped using the STOP NQC-STREAM command, use the CONTINUE NQC-STREAM
   command.


                            ----- Example -----

   Use the CONTINUE NQC-STREAM command to continue NQC stream 1.

       ________ __________ ______   OPR>CONTINUE NQC-STREAM 1<RET>
   OPR>
   12:07:13          NQC-STREAM 1 -- Continued --
   OPR>



   7.5.5  Shutting Down NQC Streams   7.5.5  Shutting Down NQC Streams

   To terminate scheduling for a specified NQC stream  or  range  of  NQC
   streams, use the SHUTDOWN NQC-STREAM command.


                            ----- Example -----

   Use the SHUTDOWN NQC-STREAM command to terminate NQC stream 0.

       ________ __________ ______   OPR>SHUTDOWN NQC-STREAM 0<RET>
   OPR>
   14:18:03          NQC-Stream 0 -- Shutdown -- 
   OPR>



                                    7-21
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.5.6  Displaying NQC Stream Parameters   7.5.6  Displaying NQC Stream Parameters

   To display the INPUT-STREAM or OUTPUT-STREAM attribute associated with
   a   specified   NQC   stream   or  range  of  streams,  use  the  SHOW
   PARAMETERS NQC-STREAM command.


                            ----- Example -----

   Use the SHOW PARAMETERS NQC-STREAM  command  to  display  the  current
   parameters of all NQC streams.

       ____ __________ _______________   OPR>SHOW PARAMETERS NQC-STREAM<RET>
   OPR>
   11:29:43          -- System Device Parameters --
   NQC-Stream Parameters:
     Strm  Attribute
     ----  ---------
        0  Output   
   OPR>



   7.5.7  Displaying NQC Stream Status   7.5.7  Displaying NQC Stream Status

   To display the status of a  specified  NQC  stream  or  range  of  NQC
   streams, use the SHOW STATUS NQC-STREAM command.


                            ----- Example -----

   Use the SHOW STATUS NQC-STREAM command to display the  current  status
   of all NQC streams.

       ____ ______ _______________   OPR>SHOW STATUS NQC-STREAM<RET>
   OPR>
   15:32:48          -- System Device Status --
   NQC-Stream Status:
     Strm      Status
     ----  --------------
        0  Idle 
   OPR>



   7.6  CONTROLLING BATCH JOBS   7.6  CONTROLLING BATCH JOBS

   Users enter batch jobs into the batch queue with the monitor  command,
   SUBMIT.  This section explains how to control these jobs.





                                    7-22
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.6.1  Examining the Batch Queue   7.6.1  Examining the Batch Queue

   Batch queues hold user-submitted batch jobs  until  the  batch  system
   selects  one  for execution.  To examine batch job queues use the SHOW
   QUEUES BATCH-JOBS command.

   The SHOW QUEUES BATCH-JOBS command displays the following  information
   for each job that is waiting or running:

         o  The name of the batch job

         o  The request-id number of the batch job

         o  The scheduled runtime of the batch job

         o  The name of the user who submitted the batch job

         o  Any special requirements the  user  included  in  the  SUBMIT
            command line.

   The system displays this information whether the batch job  is  active
   (currently running) or not active (not running).

   An asterisk (*) to the left of the job name indicates an  active  job.
   The system displays the following information for active jobs:

         o  The stream in which the job is running

         o  The job number

         o  The last control file label encountered by the job

         o  The runtime used

   The SHOW QUEUES BATCH-JOBS has optional switches, including  /ALL  and
   /SHORT.   The  /ALL  switch  displays all batch jobs in the queue with
   their appropriate column headers,  and  any  switches  that  the  user
   specified  when  the  batch  job  was  submitted.  If the user did not
   specify switches, the /ALL switch displays the default settings of the
   SUBMIT  switches  for  the  batch  job.   In addition, the /ALL switch
   displays any switches you specified, such as /HOLD.  The /SHORT switch
   displays only the job name, the request number, the scheduled runtime,
   and the user name.  The /SHORT switch does not display column  headers
   or switches.


                            ----- Examples -----

        1.  Use the SHOW QUEUES BATCH-JOBS command with the  /ALL  switch
            to  display  the  batch  jobs  in  the  queue  with all their
            switches.



                                    7-23
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                ____ ______ __________ ____ _____            OPR>SHOW QUEUES BATCH-JOBS /ALL <RET>

            OPR>
            13:40:22                      -- System Queues Listing --

            Batch Queue:
            Job Name   Req    Run Time  Core            User
            --------  ------  --------  ----  -------------------------
            * OPSER      330  01:00:00   512  Mike Boucher [30,5664]   
                  In Stream:2  /Uniq:Yes /Restart:No  /Assist:Yes
                  /Output:Log  /Batlog:Append  /Seq:460
                Job 52 Runtime 0:00:00
              SAVE        24  00:01:00   200  DPM    [10,56]         
                  /After:28-May-82 8:00   /Uniq:No /Restart:No
                  /Assist:Yes  /Output:Error /Batlog:Append  
                  /Seq:3047
              SML20       18  00:05:00   200  Hayes, R [10,3354]     
                  /Proc:K26E  /Uniq:No /Restart:No  /Assist:Yes
                  /Output:Nolog  /Batlog:Append  /Seq:102
              ACCT        14  00:05:00   200  Mary Marotta [27,5443] 
                  /After:27-May-82 0:00   /Uniq:No /Restart:No
                  /Assist:Yes  /Output:Nolog /Batlog:Super
                  /Seq:784
            There are 4 jobs in the queue (1 in progress)

            OPR>

        2.  Use the  SHOW  QUEUES  BATCH-JOBS  command  with  the  /SHORT
            switch.

                ____ ______ __________ ______ _____            OPR>SHOW QUEUES BATCH-JOBS /SHORT <RET>

            OPR>
            13:40:45                      -- System Queues Listing --

            Batch Queue:
            * OPSER       330       01:00:00 200 MEIER,B [10,3146]
              TWAIT       295       00:01:00 512   [RDH] [226,4563]
              SUB15       302       00:05:00 200 ANTHONY [10,5757]

            OPR>



   7.6.2  Holding Batch Jobs   7.6.2  Holding Batch Jobs

   To prevent a batch  job  from  processing,  use  the  HOLD  BATCH-JOBS
   command.   The HOLD BATCH-JOBS command keeps the current job(s) in the
   queue from processing until you use the RELEASE command  to  free  the
   job(s).   Any batch jobs submitted after the HOLD command are not held
   and are processed when a batch stream is available.  You must  specify
   one of the following arguments with this command:


                                    7-24
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  The request-id number, to hold a single batch job.

         o  The PPN for  a  particular  user,  to  hold  all  batch  jobs
            submitted by that user.

         o  An asterisk (*), to hold all  batch  jobs  submitted  by  all
            users.

                                    NOTE

           You cannot HOLD a batch job that is  currently  active
           in  a  batch stream.  Use the ABORT or STOP command to
           stop the batch stream that is running the job.


                            ----- Example -----

   Use the HOLD BATCH-JOBS command to hold all batch  requests  for  user
   SMITH, whose PPN is [10,147].

       ____ __________ ________ _____   OPR>HOLD BATCH-JOBS [10,147] <RET>

   OPR>
    9:01:54        -- 6 Jobs Held --

   OPR>



   7.6.3  Releasing Batch Jobs   7.6.3  Releasing Batch Jobs

   The RELEASE command releases a batch request that has been  previously
   held  with  the  HOLD command, and reschedules the job processing.  To
   specify the request you want to RELEASE, supply one of the following:

         o  A single request-id number to release one request

         o  A user name to release all requests for that user

         o  An asterisk (*) to release all requests


                          ----- Restriction -----

   You must have one or more batch streams started or in the  idle  state
   to get a batch job processed.


                            ----- Example -----

   Use the RELEASE command to reschedule all  batch  requests  that  were
   previously held.


                                    7-25
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


       _______ __________ _ _____   OPR>RELEASE BATCH-JOBS * <RET>

   OPR>
   10:38:09        -- 6 Jobs Released --

   OPR>



   7.6.4  Aborting Running Batch Jobs   7.6.4  Aborting Running Batch Jobs

   To cancel a batch job while it is active, use the ABORT  command  with
   the batch stream number and one or more of the following switches:

         o  /ERROR-PROCESSING or /NOERROR-PROCESSING,

         o  /PURGE

         o  /REASON

   The /ERROR-PROCESSING and /NOERROR-PROCESSING switches specify whether
   to  complete any error recovery procedures that may have been included
   in the batch job.  By default, if you ABORT a batch job,  BATCON  does
   error processing.  The /NOERROR-PROCESSING switch prevents BATCON from
   completing error recovery procedures.

   The /PURGE switch cancels all output from the  batch  job,  preventing
   the log file from being printed.

   The /REASON switch allows you to enter one or more lines  of  text  to
   explain why you are aborting the batch job.


                            ----- Example -----

   Use the ABORT command to cancel a batch job that requested a structure
   that does not exist.

       _____ ____________ _ __________ ____ ______________   OPR>ABORT BATCH-STREAM 0 /REASON:NO SUCH STRUCTURE<RET>

   OPR>
   11:32:08        Batch-stream 0  --Aborted--
                   Job TEST01 Req #35 for PACELLI [27,4615]

   OPR>
   11:32:12        Batch-stream 0  --End--
                   Job TEST01 Req #35 for PACELLI [27,4615]

   OPR>





                                    7-26
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.6.5  Requeuing Batch Jobs   7.6.5  Requeuing Batch Jobs

   The REQUEUE command stops a job that is processing and  puts  the  job
   back  into  the batch queue, to be restarted later.  A requeued job is
   in a HOLD state until it can start running again.  To start processing
   the job again, use the RELEASE command.

   For example, you might want to  REQUEUE  a  batch  job  that  requires
   additional  structures for its processing, because you do not have any
   available disk drives.  Thus, you REQUEUE the job to be processed when
   the disk drives become available.

   You can specify the /REASON switch to explain why  you  are  requeuing
   the job.


                            ----- Example -----

   Use the REQUEUE command to  hold  a  batch  job  that,  when  started,
   requested a structure that could not be mounted.

       _______ ____________ _ ________ _____   OPR>REQUEUE BATCH-STREAM 2 /REASON: <RET>
   Enter text and terminate with ^Z
   ___ ____ __ ________ _____ ____ ____ _____ _______ _________ __   JOB WILL BE RELEASED LATER WHEN DISK DRIVE BECOMES AVAILABLE ^Z
   OPR>
   13:21:03        Batch-stream 2  -- REQUEUE command queued --

   OPR>
   13:21:05        Batch-stream 2  -- End --
                   Job TAPE01 Req #27 for LATTA [2,134]

   OPR>



   7.6.6  Modifying Batch Requests   7.6.6  Modifying Batch Requests

   To change the priority of a batch request in the queue use the  MODIFY
   BATCH-REQUEST command and specify one of the following:

         o  A single batch request-id number to modify a single request

         o  A user name to modify all requests by a user

         o  An asterisk (*) to modify all batch requests in the queue

   You must include the PRIORITY keyword, followed by a priority  from  1
   to  63.   You  must  specify  a new PRIORITY number from 1 to 63.  The
   higher the number, the greater the priority.


                            ----- Example -----


                                    7-27
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   Use the MODIFY command to change the priority of batch request 135  to
   63.

       ______ _____________ ___ ________ __ _____   OPR>MODIFY BATCH-REQUEST 135 PRIORITY 63 <RET>

   OPR>
    8:51:21        -- 1 Request Modified --

   OPR>

   8:52:03         -- Batch-Stream )  -- Begin --
   Job SUB15 Req #135 for M.MAROTTA  [27,5434]
   Control file: DSKB:SUB15.CTL[27,5434]
   Log file:     DSKB:SUB15.LOG[27,5434]

   OPR>



   7.6.7  Deleting Batch Requests   7.6.7  Deleting Batch Requests

   To cancel a batch  request  from  the  batch  queue,  use  the  CANCEL
   BATCH-REQUEST command and supply one of the following:

         o  A single request-id number to cancel one request

         o  A user name to cancel all requests for that user

         o  An asterisk (*) to cancel all requests

   If you CANCEL a batch request that is active, the batch job is stopped
   immediately.   In this way the CANCEL command is the same as the ABORT
   command.  (ABORT is useful with active batch jobs only.) The log  file
   shows a message indicating that the job was deleted by the operator.


                            ----- Example -----

   Cancel batch request 168 from the batch request queue.

       ______ _____________ ___ _____   OPR>CANCEL BATCH-REQUEST 168 <RET>

   OPR>
   10:25:11        -- 1 Job Canceled --

   OPR>
   10:25:29        Batch-Stream 2  --Canceled by Operator [1,2] --

                   Job IPCUS Req #168 for MORRILL [25,1026]

   OPR>



                                    7-28
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   10:25:34        Batch-Stream 2  -- End --
                   Job IPCUS Req #168 for MORRILL [25,1026]

   OPR>



   7.7  CONTROLLING THE LINE PRINTER   7.7  CONTROLLING THE LINE PRINTER

   To process printer requests, the system must have  one  or  more  line
   printers with the parameters set to allow processing of user requests,
   and  the  line  printer(s)  must  be  started.   Normally,  the   line
   printer(s)  are  automatically  started  at  system  start-up when the
                                             _______  __________  _______   SYSTEM.CMD file is  executed.   See  the  TOPS-10  Operator's  Command
   ________ _________ ______   Language Reference Manual for more information about SYSTEM.CMD.

   After one or more listings have been printed,  you  must  remove  them
   from  the  line  printer,  separate  them,  and distribute them.  Your
   system manager should set up the distribution method, and should  tell
   you:

         o  Where you must put the listings so that users can  pick  them
            up

         o  When you must distribute them

   The following sections describe the OPR commands that  enable  you  to
   control the following line printer functions:

         o  Setting printer parameters

         o  Stopping a printer

         o  Continuing a printer job

         o  Shutting down a printer

         o  Displaying a printer's parameters

         o  Displaying a printer's status



   7.7.1  Setting Line Printer Parameters   7.7.1  Setting Line Printer Parameters

   Normally, the SYSTEM.CMD file starts a defined number of line printers
   at  system start-up.  However, you might have to start a line printer,
   for example, when a user requests a printer for his own  use.   Before
   you  start  a  line  printer,  you can set the parameters for the line
   printer with the SET PRINTER command.  The parameters you can set are:




                                    7-29
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  The FORMS-TYPE parameter, which specifies the type  of  paper
            to  be  used.  The name of the form should be the same as the
            form name in the LPFORM.INI file.  See Section 7.7.2 for more
            information about the LPFORM.INI file.

         o  The LIMIT-EXCEEDED-ACTION  parameter,  which  specifies  what
            action,  if any, should be taken if a printer job exceeds the
            output limit set by the user.  You can set this parameter  to
            take one of the following actions:

            -  ASK the operator what action to take.   The  operator  can
               reply  with  either PROCEED (to continue the print job) or
               ABORT (to cancel the print job).

            -  Always ABORT  the  print  job  when  the  limit  has  been
               exceeded.

            -  Always PROCEED, ignoring the job limit.

         o  The    PAGE-LIMITS    parameter,    which    specifies    the
            minimum-to-maximum  range  of pages allowed to be printed per
            job on the line printer.  This is checked against the  /LIMIT
            value on the request.

         o  The PRIORITY-LIMITS parameter, which specifies the  range  of
            print  job priorities that the printer accepts.  For example,
            if a print job is queued with a priority of 19 and there  are
            no  line  printers that have been set to accept a priority of
            19, the print request is queued but not printed.  The request
            remains  in the print queue until a line printer has been set
            to accept that priority.  But you can change the priority  of
            a print request with the MODIFY PRINT-REQUESTS command.

   These parameters are initially set by your system manager with GALGEN.
                    _______  ________  ____________  _____   (Refer  to  the  TOPS-10  Software  Installation  Guide for the GALGEN
   procedures.) When you change  the  FORMS-TYPE,  LIMIT-EXCEEDED-ACTION,
   PAGE-LIMITS,  or  PRIORITY-LIMITS for a printer, the change remains in
   effect until you change it  again,  or  until  the  GALAXY  system  is
   restarted.


                            ----- Example -----

   Set line printer 0 to print requests with a priority from 1 to 21  and
   a page limit from 1 to 1000.

       ___ _______ _ _______________ __ _____   OPR>SET PRINTER 0 PRIORITY-LIMITS 21 <RET>

   OPR>
   12:01:21        Printer 0  -- Set Accepted --

       ___ _______ _ ___________ ____ _____   OPR>SET PRINTER 0 PAGE-LIMITS 1000 <RET>


                                    7-30
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   OPR>
   12:01:40        Printer 0  -- Set Accepted --

   OPR>



   7.7.2  Using the LPFORM.INI File   7.7.2  Using the LPFORM.INI File

   The LPFORM.INI file allows you to set various  printer  parameters  on
   the basis of form names.

   Each line in the LPFORM.INI file is written in the following format:

   formname:locator/switch1/switch2/switch3...

   where:

        formname           is a 1- to 6-character form name.  The  system
                           manager  should  specify  form  names that are
                           descriptive of the types of forms used at your
                           installation.  The default is NORMAL.

        :locator           is an optional locator field containing:

                             ALL      all devices (the default)
                             LPTxxy   a specific line printer,  where  xx
                                      is  the  node  number, and y is the
                                      printer unit number
                             LOC      to specify all local line printers
                             REM      to specify line printers at  remote
                                      stations

        /switch1...        are one  or  more  switches  you  can  use  to
                           describe  the  way  the  forms are to be used.
                           Refer to Table 7-2 for a  description  of  the
                           available switches.


   Table 7-2:  LPFORM.INI Switches   Table 7-2:  LPFORM.INI Switches


   ______________________________________________________________________

         Switch                             Meaning
   ______________________________________________________________________

     /ALIGN:filespec       The filespec specifies  the  file  with  the
                           extension  .ALP,  which is used to align the
                           forms on the line printer.  If  no  filespec
                           is specified, the system uses the file whose
                           filespec is  the  name  of  the  form.   For


                                    7-31
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                           example,     /ALIGN    for    NARROW    uses
                           SYS:NARROW.ALP by  default.   The  alignment
                           occurs  before the requested file is printed
                           and is not repeated if multiple requests for
                           the  same  forms  occur  for  the  same line
                           printer.

     /BANNER:nn            The value of  nn  specifies  the  number  of
                           banner  pages  (job  header  pages) desired.
                           The default is 2 pages and  may  be  changed
                           with GALGEN.

     /CHAIN:xxx            The  xxx  represents  a 1-  to   6-character
        or                 ASCII  string  that  specifies  the chain or
     /DRUM:xxx             drum to be used on the printer.  The  system
                           displays  the  switch  name  and argument on
                           your terminal when the forms are  scheduled.
                           If  you  specify  both  the /CHAIN and /DRUM
                           switches  for  the   same   entry   in   the
                           LPFORM.INI  file,  OPR  prints only the last
                           one it encounters.

     /HEADER:nn            The value of nn specifies the number of file
                           header pages to be printed before each file.
                           The default is 2 pages and  may  be  changed
                           with GALGEN.

     /LINES:nn             The value of  nn  specifies  the  number  of
                           lines that can be printed on each page.  The
                           default  is  60.   This  switch  should   be
                           included  whenever  a form type is longer or
                           shorter than the normal 60 lines.

     /NOTE:text            The  text  represents  text  of  up  to   50
                           characters  that  is  displayed  on your OPR
                           terminal at the time the forms and/or  print
                           request are scheduled.

     /RAM:name             The name  represents  a  1-  to  6-character
                           ASCII  string that specifies the name of the
                           control RAM to be  used.   The  /RAM  switch
                           loads   a   special   program   that  allows
                           character translation on the  line  printer.
                           If  the  line  printer  has  a  program  RAM
                           (DARAM), the system automatically  loads  it
                           from  the  file  SYS:name.RAM.   If the line
                           printer does not have a  DARAM,  the  system
                           notifies  you  of  the need to load your own
                           RAM program.

                           For example, if your  line  printer  doesn't
                           print  left  and  right  angle brackets, you


                                    7-32
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                           could specify a RAM file that would  convert
                           angle  brackets  to  square  brackets in the
                           line printer output.

     /RIBBON:name          The name  represents  a  1-  to  6-character
                           ASCII  string  that  specifies  the  type of
                           ribbon to be used on the line printer.   The
                           system displays the switch name and argument
                           on your terminal at the time that the  forms
                           are scheduled.

     /TAPE:name            The  name  represents  a  1- to  6-character
            or             ASCII  string that specifies   the  name  of
     /VFU:name             the vertical forms control tape to be  used.
                           If the line printer has a program-loaded VFU
                           (DAVFU), the system automatically  loads  it
                           from  the  file  SYS:name.VFU.   If the line
                           printer does not have a  DAVFU,  the  system
                           notifies  you  of the need to change the VFU
                           tape.  The default VFU name is NORMAL.

     /TRAILER:nn           The value of nn specifies the number of  job
                           trailer pages to be printed after each file.
                           The default is 2 pages and  may  be  changed
                           with GALGEN.

     /WIDTH:nn             The value of  nn  specifies  the  number  of
                           characters  per  line  for  the  form.   The
                           default width is 132 if the /WIDTH switch is
                           not  specified.  The /WIDTH switch should be
                           included whenever a form  is  narrower  than
                           the standard 14-inch wide paper.
   ______________________________________________________________________


   The form name in LPFORM.INI need not be the name of a  physical  form;
   however,  it  ought to specify the type of form (such as NORMAL forms,
   NARROW forms, and so forth).  When a print  request  is  made,  LPTSPL
   compares  the form name associated with the request with the form name
   of the form currently mounted on the line printer.  If the first  four
   characters  of  the name are not the same, then LPTSPL requests you to
   change the forms on the line printer.  If the first four characters of
   the name are the same, then LPTSPL checks the switches associated with
   the requested form name and uses those values when printing  the  job.
   If  there  are no printers that satisfy the print request, the request
   will remain in the queue  until  a  printer  with  the  correct  forms
   becomes available.

   If the forms type specified by the user is not the same  as  the  form
   that  is  currently  in  the  printer,  the system uses the first four
   characters to check against the LPFORM.INI file.  (This four-character
   uniqueness  can  be  changed  by  GALGEN; the default is four.) If the


                                    7-33
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   forms type matches one in the file, a  request  is  made  for  you  to
   supply  the  appropriate  form.   If  the  forms  type  is  not in the
   LPFORM.INI file, the user receives an error.

   For example, note the following LPFORM.INI file:

   NARROW/HEADER:1/BANNER:1/TRAILER:1
   NARR01/HEADER:0/BANNER:1/TRAILER:1
   NARR02/HEADER:0/BANNER:0/TRAILER:0/NOTE:SPECIAL

   Now, suppose that NARR01 forms  are  currently  mounted  on  the  line
   printer  and  a user makes a print request that requires NARR02 forms.
   The system compares the first four characters of  the  requested  form
   name  (NARR02) with the first four characters of the form name for the
   form that is currently mounted on the line printer (NARR01).   Because
   they  are the same, the system takes the switch values associated with
   NARR01 and applies them  incorrectly  to  the  user's  print  request.
   Therefore,  the  LPFORM.INI file should contain unique forms names for
   each different type of form.  This ensures that the correct forms  are
   mounted  when  a  user submits a print request.  The alternative is to
   change the GALGEN parameter and rebuild GALAXY.

   Each line in LPFORM.INI  can  also  contain  a  locator  field,  which
   specifies  the  parameters  a  form  should have when it is mounted on
   specific line printers.  For example:

   NORMAL:LPT263/HEADER:1/BANNER:1/TRAILER:0
   NORMAL:ALL/HEADER:2/BANNER:2/TRAILER:2

   If form  NORMAL  is  on  line  printer  LPT263,  it  takes  the  forms
   parameters  given  in  the  first  entry  of the LPFORM.INI file shown
   above.  If form NORMAL is on any other line printer, then it takes the
   forms parameters given in the second entry of the file.

   Note that entries in LPFORM.INI having identical form names but having
   different  locators  must  be  listed  from  specific  locator to more
   general locator.  In the example above, the  entry  specifying  device
   LPT263 for form NORMAL appears before the entry specifying locator ALL
   for the same form name.  This order is important because  LPTSPL  uses
   the  first  entry  in  LPFORM.INI that can be applied to the device on
   which the request is printed.

   Also, note that ALL is the default locator value.  For example,

   NORMAL/switches

   is equivalent to:

   NORMAL:ALL/switches





                                    7-34
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.7.3  Using the LPFONT.INI File   7.7.3  Using the LPFONT.INI File

   The LPFONT.INI file contains a list of  font  specifications  for  the
   LN01   laser   printer.    For   more   information  about  LN01  font
                           ____ ____________  _________  ______   specifications, see the LN01 Programmer's  Reference  Manual  and  the
   _______  _________  ______  ________  ______   TOPS-10  Operating  System  Commands  Manual.   The  following example
   illustrates the format for each line in the LPFONT.INI file:

   filenm=name1<TAB>name2<TAB>name3

   where:

        filenm             is the name of a file containing a single font
                           specification.   The default file extension is
                           .SIX.

        name1<TAB>name2<TAB>name3

                           specifies font names.  Name1 must be an actual
                           font  name  found in the font file.  Name2 and
                           subsequent names can be  any  name  chosen  by
                           your  system  manager.   To  access a font you
                           must specify uppercase or lowercase exactly as
                           shown in the LPFONT.INI file.


                            ----- Example -----

   The following is a brief illustration of font specifications contained
   in a LPFONT.INI file.

   003665 = 002249L36V010005C     VL36TRIUMVIRATEBDITNM
   003674 = 002249P36V010004C     VP36TRIUMVIRATEBDITCP     36PTBOLD
   003675 = 002249P36V010005C     VP36TRIUMVIRATEBDITNM
   010601 = 002500L06V010001C     VL6TIMES



   7.7.4  Starting the Line Printer   7.7.4  Starting the Line Printer

   After you set the parameters for the line printers, you must start the
   printer(s) so that print requests can be processed.  If you do not set
   parameters for the printer, the  parameters  are  those  set  by  your
   system manager with GALGEN.

   You can start one or more line printers at a time by specifying a unit
   number (n) or a range of unit numbers (n:m).

   To stop the scheduling of jobs on a line  printer,  use  the  SHUTDOWN
   command.




                                    7-35
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                            ----- Example -----

   Use the START PRINTER command to start line printer 0.

       _____ _______ _ _____   OPR>START PRINTER 0 <RET>

   OPR>
   10:11:15        Printer 0  -- Startup Scheduled --

   OPR>



   7.7.5  Stopping the Line Printer Temporarily   7.7.5  Stopping the Line Printer Temporarily

   To stop one or more line printers, use the STOP PRINTER command.   The
   STOP   PRINTER   command  temporarily  stops  the  line  printer  from
   completing its  current  job.   You  must  use  the  CONTINUE  command
   (Section  7.7.6)  to  allow  the line printer to continue printing the
   job.

   The STOP command has three optional arguments  that  you  can  use  to
   specify when the printer must stop.  They are:

         o  AFTER CURRENT-REQUEST

         o  AFTER EVERY-REQUEST

         o  IMMEDIATELY

   The IMMEDIATELY argument is the default argument of the STOP  command.
             _______  __________  _______ ________ _________ ______   See  the  TOPS-10  Operator's  Command Language Reference Manual for a
   complete description of these arguments.


                            ----- Example -----

   Stop the current job on line printer 2 to change the printer's ribbon.

       ____ _______ _ _____   OPR>STOP PRINTER 2 <RET>

   OPR>
   18:24:09        Printer 2  -- Stopped --

   OPR>



   7.7.6  Continuing the Line Printer   7.7.6  Continuing the Line Printer

   Use the CONTINUE command to continue the processing of a print request
   on  one  or  more line printers that were temporarily stopped with the


                                    7-36
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   STOP command.


                            ----- Example -----

   After stopping the  line  printer  to  change  the  printer's  ribbon,
   continue the processing of the current print job.

       ________ _______ _ _____   OPR>CONTINUE PRINTER 2 <RET>

   OPR>
   18:30:41        Printer 2  -- Continued --

   OPR>



   7.7.7  Shutting Down the Line Printer   7.7.7  Shutting Down the Line Printer

   To prevent the scheduling of further print requests for  one  or  more
   line  printers,  use  the  SHUTDOWN  command.   If  a print request is
   currently printing on the  line  printer,  the  request  is  completed
   before the line printer is shut down.

   To start the scheduling of jobs on the line  printer,  use  the  START
   command.


                            ----- Example -----

   Shut down line printer 2 while a request is still printing on it.

       ________ _______ _ _____   OPR>SHUTDOWN PRINTER 2 <RET>

   OPR>
   19:21:03        Printer 2  -- Shutdown AT EOJ Scheduled --

   OPR>

   When the request on the line printer has been completed, the following
   message is displayed:

   OPR>
   19:22:54        Printer 2  -- Shutdown --

   OPR>



   7.7.8  Displaying Line Printer Parameters   7.7.8  Displaying Line Printer Parameters

   To display the current parameters for one or more line  printers,  use


                                    7-37
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   the  SHOW  PARAMETERS PRINTER command.  If you do not specify a single
   line printer unit number or a range of unit numbers, the SHOW  command
   displays information for all line printers on the system.

   The SHOW PARAMETERS PRINTER command displays the following information
   for each printer:

         o  The printer unit number

         o  The page limits set for the line printer

         o  The type of forms set for the line printer

         o  The priority range set for the line printer

         o  The limit-exceeded-action set for the line printer

         o  The  case  setting  for  the  line  printer   (uppercase   or
            lowercase)



                            ----- Example -----

   Use the SHOW PARAMETERS PRINTER command to display the  parameters  of
   all line printers on the system.

       ____ __________ _______ _____   OPR>SHOW PARAMETERS PRINTER <RET>

   OPR>
   13:09:42            -- System Device Parameters --

   Printer Parameters:
     Unit  Page Limits    Form    Prio  Lim-Ex  Dev-Chars
     ----  ------------  ------  -----  ------  ---------
        0      0:20000   NORMAL   1:63    Ask    Lower
        1      0:500     NARROW   1:63    Ask    Lower

   OPR>

   If jobs are waiting in the print queue because they do  not  meet  the
   limitations  of  any  line  printer,  use  this  command  to check the
   parameters.  After you check  the  parameters,  use  the  SET  PRINTER
   command  to modify the parameters so that the printer accepts the user
   requests.



   7.7.9  Displaying Line Printer Status   7.7.9  Displaying Line Printer Status

   To display the status of the line printers use the SHOW STATUS PRINTER
   command.   If you do not specify a line printer unit number or a range


                                    7-38
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   of unit  numbers,  the  command  displays  information  for  all  line
   printers on the system.

   The SHOW STATUS PRINTER command displays the following information:

         o  The printer unit number

         o  The current status of the printer

         o  The name of the job currently active on the printer

         o  The request-id number for the job

         o  The name and PPN of the user who made the print request

   If the line printer is not active, the  word  "Idle"  appears  in  the
   status  column with no job name, request-id, or user name.  If none of
   the line printers are active, only the stream number and status appear
   in the display.

   If a printer is active, the display also shows the time that the print
   request started to print and the number of pages printed thus far.  If
   you do not need this information, specify the /SHORT switch before you
   press RETURN.


                            ----- Example -----

   Use the SHOW STATUS PRINTER command to display the current  status  of
   all line printers on the system.

       ____ ______ ____________   OPR>SHOW STATUS PRINTER<RET>

   OPR>
   13:51:39            -- System Device Status --

   Printer Status:
     Unit      Status       Jobname  Req#            User
     ----  ---------------  -------  ----  ------------------------
        0  Active           R4PPR2   106   MEIDELL [27,1345]
           Started at 13:44:40, printed 142 of 1012 pages
        1  Idle

   OPR>



   7.8  CONTROLLING FORMS ON THE LINE PRINTER   7.8  CONTROLLING FORMS ON THE LINE PRINTER

   OPR commands enable you to do the following line printer tasks:




                                    7-39
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  Align printer forms

         o  Backspace printer forms

         o  Forwardspace printer forms

         o  Suppress printer forms

   You can use the OPR commands that control printer forms while the line
   printer is printing a job, or after you set the line printer off-line.
   When you set the  line  printer  off-line,  OPR  sends  the  following
   message to the CTY.

   hh:mm:ss        Printer n -- Offline --

   When you put the line  printer  on  line,  the  line  printer  resumes
   printing.

   In addition, the SET PRINTER command allows you to change the type  of
   forms  on  the line printer.  If you specify a form type that does not
   have an entry  in  the  LPFORM.INI  file,  the  forms  characteristics
   default to:

         o  /BANNER:2

         o  /HEADER:2

         o  /LINES:60

         o  /VFU:NORMAL

         o  /WIDTH:132

         o  /TRAILER:2

   These defaults can be set by running GALGEN.  Refer to  Section  7.7.2
   for a complete description of the SYS:LPFORM.INI file and the switches
   you can place in it.

   When the first request starts to print, the following message appears,
   indicating  the  forms  type  being loaded into the printer's vertical
   format unit (VFU):

   hh:mm:ss        Print n  --Loading VFU with 'forms-type'--

   This is only an informational message that appears because the  system
   reads the LPFORM.INI file when you start a line printer.

   The following sections describe how to use each of the commands listed
   above.




                                    7-40
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.8.1  Aligning Forms   7.8.1  Aligning Forms

   Occasionally, during your daily system operation, you  might  have  to
   correct  the  alignment of special forms for a particular line printer
   job.  For example, you have loaded payroll checks on the line  printer
   for  your  scheduled payroll process and they did not align correctly.
   The ALIGN command allows you to adjust the forms on the  line  printer
   as many times as necessary to print the job correctly.

   When you give the ALIGN PRINTER command, the system uses an  alignment
   file that is specified as "formsname.ALP" for the print request, where
   formsname is the name of the form that was  specified  in  the  user's
   print request.  The "formsname.ALP" file contains a pattern applicable
   to the special forms being mounted.  If you do not  want  the  default
   .ALP  file  used,  you can specify another alignment file in the ALIGN
   PRINTER command.  For example, the  file  for  NORMAL  forms  at  your
   installation could be:

   SYS:NORMAL.ALP

   In addition, the ALIGN PRINTER command  has  three  optional  switches
   that you can specify.  These are:

         o  /PAUSE          to change the number of seconds between  each
                            printing of the .ALP file

         o  /REPEAT-COUNT   to change the number of times the  .ALP  file
                            is printed.

         o  /STOP           to resume normal printing and  stop  aligning
                            forms

   When you specify one of these switches, you are changing  the  default
   for  the  current  job  on  the  printer.   When you specify the /STOP
   switch, the printer stops printing the contents of the .ALP  file  and
   resumes printing the job.


                            ----- Example -----

   Use the ALIGN PRINTER command to align forms for a print  request  for
   payroll  checks.   The  /PAUSE  switch  was set for 10 seconds and the
   /REPEAT-COUNT switch was set for 25 times.  Change  the  /REPEAT-COUNT
   to 15.

       _____ _______ _ ________________ _____   OPR>ALIGN PRINTER 0 /REPEAT-COUNT:15 <RET>

   OPR>
   12:46:02        Printer 0  -- Alignment --
                   Job PAYROL Req #32 for ACCOUNTING [10,3112]

   OPR>


                                    7-41
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   Use the ALIGN PRINTER command again after you have  correctly  aligned
   the  form  for  the  checks.   Specify  the /STOP switch to resume the
   normal printing of the payroll checks.

       _____ _______ _ _____ _____   OPR>ALIGN PRINTER 0 /STOP <RET>

   OPR>
   12:52:43        Printer 0  -- Alignment Stopped --
                   Job PAYROL Req #32 for ACCOUNTING [10,3112]

   OPR>



   7.8.2  Backspacing Forms   7.8.2  Backspacing Forms

   Occasionally, you might have to backspace a particular  file  that  is
   being  printed on the line printer, for example, when the forms become
   jammed in the printing mechanism.  The BACKSPACE command allows you to
   backspace  the  print  file  so  that  the pages of the file that were
   jammed or incorrectly printed can be reprinted.

   With the BACKSPACE PRINTER  command,  you  must  specify  one  of  the
   following switches:

         o  /COPIES    specifies the number of copies to backspace

         o  /FILE      specifies that the file should be  reprinted  from
                       the beginning

         o  /PAGES     specifies the number of pages to be backspaced

   When you use the BACKSPACE PRINTER command, LPTSPL  first  clears  the
   printer  buffer  by  printing  its  contents,  and  then executes your
   command.  The number of pages that are printed to clear the buffer are
   included  in  the number of pages you specify in the BACKSPACE PRINTER
   command.  Therefore, when you specify the /PAGES  switch,  you  should
   add  two or three pages to the total number given as the /PAGES value.
   With the /COPIES switch and the /FILE  switch,  you  do  not  have  to
   consider these additional pages.


                            ----- Example -----

   Printer 1 has just had a VFU error, which  has  put  the  printer  off
   line.  The following messages appear at your console:

   OPR>
   09:38:18        Printer 1  -- Offline --

   OPR>
   09:39:39  <12>  Printer 1  -- VFU error --


                                    7-42
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                   Re-align forms and put on-line
                   Type 'Respond <number> PROCEED when ready

   OPR>

   You must now realign the forms on the printer.   Before  you  put  the
   printer  on  line,  give  the  BACKSPACE PRINTER command to repeat the
   number of pages that were jammed and add a couple  of  pages  for  the
   printer  buffer.  (The following example describes backspacing printer
   1 by 25 pages.) Then RESPOND to message 12:

       _________ _______ _ _________ _____   OPR>BACKSPACE PRINTER 1 /PAGES:25 <RET>

   OPR>
   09:45:06        Printer 1  -- Backspaced 25 Pages --

       _______ __ _______ _____   OPR>RESPOND 12 PROCEED <RET>

   OPR>

   At this point, the line printer prints the remaining contents  of  the
   printer buffer and then backspaces 25 pages to reprint what was jammed
   or incorrectly printed.



   7.8.3  Forwardspacing Forms   7.8.3  Forwardspacing Forms

   Occasionally, you might have to forwardspace a particular file that is
   being printed on the line printer, such as when a user requests only a
   portion of some file to be printed.  The FORWARDSPACE  command  allows
   you to forwardspace the file so that you can save paper and print only
   what is needed.  With  the  FORWARDSPACE  PRINTER  command,  you  must
   specify one of the following switches:

         o  /COPIES    specifies the number of copies to be skipped

         o  /FILE      skips one file in the request

         o  /PAGES     specifies the number of pages in the print request
                       to skip

   When you use the FORWARDSPACE PRINTER command, LPTSPL first clears the
   printer  buffer  by  printing  its  contents  and  then  executes your
   command.  The number of pages that are printed to clear the buffer  is
   included  with  the  number  of  pages you specify in the FORWARDSPACE
   PRINTER command.  Therefore, when you specify the /PAGES  switch,  you
   should  add  two  or  three  pages  to  the value of /PAGES.  With the
   /COPIES switch and the /FILE switch, you do not have to consider these
   additional pages.




                                    7-43
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                            ----- Example -----

   A user  issued  the  command  PRINT  A.TXT,B.TXT,C.TXT,D.TXT  and  has
   requested  you  to forwardspace line printer 2, so that the file A.TXT
   is skipped, and file B.TXT is  the  first  file  printed.   After  the
   printer has printed the header and banner pages, give the FORWARDSPACE
   PRINTER command for one file.

   OPR>

       ____________ _______ _ _____ _____   OPR>FORWARDSPACE PRINTER 2 /FILE <RET>

   OPR>
    9:45:26        Printer 2  -- Forwardspaced 1 File --

   OPR>

   At this point, the line printer prints the remaining contents  of  the
   printer buffer and then skips one file of the print job.



   7.8.4  Suppressing Carriage Control   7.8.4  Suppressing Carriage Control

   Occasionally, you might have to suppress the carriage control  on  the
   line  printer  for  a  particular  job,  such as when a user's program
   causes a print loop that makes the forms  in  the  line  printer  pass
   through  with  one  line  written  on each form.  The SUPPRESS command
   allows you to suppress the carriage control.

   The SUPPRESS PRINTER command  suppresses  all  blank  lines  and  form
   feeds.   For example, if you have a 25-page file with one line of text
   per page, the SUPPRESS PRINTER command causes all the lines of text to
   be printed on one page.

   With the  SUPPRESS  PRINTER  command,  you  can  specify  one  of  the
   following switches:

         o  /FILE      suppresses blank lines  and  form  feeds  for  the
                       current file being printed

         o  /JOB       suppresses blank lines  and  form  feeds  for  the
                       entire job

         o  /STOP      stops the  suppression  of  printing  and  resumes
                       normal printing with blank lines and form feeds.

   The /JOB switch is the default if you do not specify any of the  above
   switches.


                            ----- Example -----


                                    7-44
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   A user's program has caused a print loop.  Use  the  SUPPRESS  PRINTER
   command to stop the form feeds, thus saving paper.

       ________ _______ _ _____   OPR>SUPPRESS PRINTER 1 <RET>

   OPR>
   10:43:47        Printer 1  -- Carriage control suppressed --
                   Job TEST01 Req #55 for PTAYLOR [10,2772]

   OPR>



   7.9  CONTROLLING LINE PRINTER JOBS   7.9  CONTROLLING LINE PRINTER JOBS

   The following sections explain the OPR commands that allow you  to  do
   the following line printer tasks:

         o  Display the printer queue

         o  Prevent print requests from processing

         o  Reschedule print requests that were previously held

         o  Cancel printer jobs

         o  Requeue a printer job to be processed at a later time

         o  Change the priority of a print request

         o  Delete a print request from the queue

         o  Force the printer to process a particular request immediately



   7.9.1  Examining the Printer Queue   7.9.1  Examining the Printer Queue

   When a user issues a request for the printer, the request is placed in
   a queue where it waits to be printed.  To examine the queues for print
   jobs, use the OPR command SHOW QUEUES PRINTER-JOBS.

   The  SHOW  QUEUES  PRINTER-JOBS   command   displays   the   following
   information for each job:

         o  The name of the print job

         o  The request-id number of the print job

         o  The page limit of the print job




                                    7-45
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  The name and PPN of the user who requested the print job

   These four columns of the display appear  whether  the  print  job  is
   active  (currently printing) or is inactive (not printing).  A job may
   be inactive because it is waiting for other jobs with lower limits  or
   a  higher priority.  If no other printer requests are running, the job
   may be waiting because no  printer  has  the  required  parameters  or
   forms.

   In addition to the above, if the job is active, the display also shows
   the  unit number of the printer on which the job is printing, the time
   that the print job started, and the total number of pages printed.

   The SHOW QUEUES PRINTER-JOBS command has two optional switches:   /ALL
   and  /SHORT.   The /ALL switch displays a detailed list of all printer
   jobs in the queue, with  their  appropriate  column  headers  and  any
   additional  switches  that  the user specified with the PRINT command.
   If there were no switches specified,  the  /ALL  switch  displays  the
   default  switches  of  the  PRINT  command  for  the  printer job.  In
   addition, the /ALL switch displays any additional  characteristics  of
   the request, for example, if the job is being held.  The /SHORT switch
   requests a display of the job name, the request number, the  scheduled
   runtime, and the user name.  There are no column headers and there are
   no switches displayed on the /SHORT output listing.

   The asterisk (*) before the job name column (see  examples)  indicates
   that the job is currently printing.


                            ----- Example -----

        1.  Use the /ALL switch to display the printer jobs in the  queue
            with all their switches.

                ____ ______ ____________ ____ _____            OPR>SHOW QUEUES PRINTER-JOBS /ALL <RET>

            OPR>
            10:49:07            -- System Queues Listing --

            Printer Queue:
            Job Name  Req#  Limit            User
            --------  ----  -----  ------------------------
            * DAILY     11     24  OPERATOR [1,2]          On Unit:0 
            /Seq:3320
                Started at 10:47, printed 5 of 24 pages
            * TRAP79    12    161  BELANGER [12,5521]      On Unit:1 
            /Seq:3321
                Started at 10:44, printed 15 of 161 pages
              MF20      13     23  SROBINSON [10,5432]     /Seq:3322
              WEEKLY    14     17  OPERATOR [1,2]          /Seq:3323
              SYSERR    15     10  OPERATOR [1,2]          /Seq:3324
            There are 5 jobs in the queue (2 in progress)


                                    7-46
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


            OPR>

        2.  Use the SHOW QUEUES  PRINTER-JOBS  command  with  the  /SHORT
            switch.

                ____ ______ ____________ ______ _____            OPR>SHOW QUEUES PRINTER-JOBS /SHORT <RET>

            OPR>
            10:49:07            -- System Queues Listing --

            Printer Queue:
            * DAILY     11     24  OPERATOR [1,2]
                          - TRAP79    12    161  BELANGER [12,5521]
              MF20      13     23  SROBINSON [10,5432]
              WEEKLY    14     17  OPERATOR [1,2]
              SYSERR    15     10  OPERATOR [1,2]

            OPR>




   7.9.2  Holding Line Printer Jobs   7.9.2  Holding Line Printer Jobs

   To prevent print requests from processing, use the  HOLD  PRINTER-JOBS
   command.  When you use this command, the print request in the queue is
   held.  Any other requests for the line printer are not  held  and  are
   processed  as  soon  as  a  line  printer becomes available.  You must
   specify one of the following with this command:

         o  The request-id number, which holds a single printer job

         o  The PPN for a particular user, which holds all  printer  jobs
            queued by that user.

         o  An asterisk (*), which holds all printer jobs in the queue

                                    NOTE

           You cannot HOLD a printer job that is currently  being
           printed on a line printer.


                            ----- Example -----

   Use the HOLD PRINTER-JOBS command to hold  all  printer  requests  for
   user SMITH, whose PPN is [27,5112].

       ____ ____________ _________ _____   OPR>HOLD PRINTER-JOBS [27,5112] <RET>

   OPR>
    9:01:54        -- 6 Jobs Held --


                                    7-47
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   OPR>



   7.9.3  Releasing Line Printer Jobs   7.9.3  Releasing Line Printer Jobs

   Use the RELEASE command to allow the printing of a job that  has  been
   previously held with the HOLD command.  To specify the job you want to
   release, supply one of the following:

         o  A single request-id number to release one job

         o  A user name to release all jobs for that user

         o  An asterisk (*) to release all jobs



                            ----- Example -----

   Use the RELEASE command to  reschedule  all  printer  jobs  that  were
   previously held.

       _______ ____________ _ _____   OPR>RELEASE PRINTER-JOBS * <RET>

   OPR>
   10:38:09        -- 6 Jobs Released --

   OPR>



   7.9.4  Canceling Line Printer Jobs   7.9.4  Canceling Line Printer Jobs

   Occasionally, you might have to cancel  a  printer  job  while  it  is
   printing.   You can use the ABORT command with the printer unit number
   and one or more of the following switches:

         o  /PURGE

         o  /REASON

   The /PURGE switch flushes the entire request from the system  when  it
   is  canceled.   There  are no header, banner, or trailer pages printed
   when the print request is purged.

   The /REASON switch allows you to enter one or more lines  of  text  to
   explain why the printer job was canceled.


                            ----- Example -----



                                    7-48
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   Use the ABORT command to cancel a  printer  job  because  a  user  has
   requested that you do so.

       _____ _______ _ _ _____   OPR>ABORT PRINTER 1 - <RET>

   ____________ _______ _____   /REASON:USER REQUEST <RET>

   OPR>
   11:32:08        Printer 1  -- Aborted --
                   Job TEST01 Req #35 for JONES [2,187]
                   USER REQUEST

   OPR>
   11:32:12        Printer 1  -- End --
                   Job TEST01 Req #35 for JONES [2,187]

   OPR>



   7.9.5  Requeuing Line Printer Jobs   7.9.5  Requeuing Line Printer Jobs

   Occasionally, you  might  want  to  cancel  a  printer  job  and  then
   reschedule  it to be printed at a later time.  You can use the REQUEUE
   command to hold the printer job in its entirety and ABORT its  current
   printing.  This command can be used only when the job is active.

   For example, you might want to REQUEUE a  printer  job  that  requires
   many boxes of forms so that it prints at a later time when fewer users
   are requesting printer jobs.  Thus, you REQUEUE the job  for  printing
   when the time becomes available.

   You can specify the /REASON switch to explain why  the  job  is  being
   requeued.


                            ----- Example -----

   Use the REQUEUE command to hold a printer job that requires four hours
   to print.

       _______ _______ _ _____________   OPR>REQUEUE PRINTER 2 /REASON:<RET>

   Enter text and terminate with ^Z
   ___ ________ ____ _____ __ ______ _____   JOB REQUIRES FOUR HOURS TO PRINT. <RET>
   ___ ____ __ ________ ___ _____ __ ___ ______ __   JOB WILL BE RELEASED FOR PRINT ON 2ND SHIFT. ^Z

   OPR>
   13:21:03        Printer 2  -- Requeued --
                   Job ARFORM Req #37 for AR.OFFICE [10,2312]

   OPR>


                                    7-49
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   13:21:25        Printer 2  -- End --
                   Job ARFORM Req #37 for AR.OFFICE [10,2312]

   OPR>



   7.9.6  Modifying Line Printer Requests   7.9.6  Modifying Line Printer Requests

   To change the priority of a printer request  in  the  queue,  use  the
   MODIFY  PRINTER-REQUEST  command.   To specify the request you want to
   modify, supply one of the following:

         o  A single request-id number to modify one request

         o  A user name to modify all requests for that user

         o  An asterisk (*) to modify all requests

   You must specify a new PRIORITY number from 1 to 63.  The  higher  the
   number, the greater the priority.


                            ----- Example -----

   Use the MODIFY command to change the priority of batch request 135  to
   63.  This causes the request to be the next job processed.

       ______ _______________ ___ ________ __ _____   OPR>MODIFY PRINTER-REQUEST 135 PRIORITY 63 <RET>

   OPR>
   08:51:21        -- 1 Request Modified --

   OPR>



   7.9.7  Deleting Line Printer Requests   7.9.7  Deleting Line Printer Requests

   To delete a printer request from the printer  queue,  use  the  CANCEL
   PRINTER-REQUEST  command.   To specify the request you want to CANCEL,
   supply one of the following:

         o  A single request-id number to cancel one request

         o  A user name to cancel all requests for that user

         o  An asterisk (*) to cancel all requests

   When you delete a print request that  is  currently  printing  on  the
   printer,  the  printer  stops  printing  the  data, prints the trailer
   pages, and starts printing the next job in the queue.


                                    7-50
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                            ----- Example -----

   Use the CANCEL command to delete print request 168 from the queue.

       ______ _______________ ___ _____   OPR>CANCEL PRINTER-REQUEST 168 <RET>

   OPR>
   10:25:11        -- 1 Job Canceled --

   OPR>
   10:26:01        Printer 0  -- Canceled by Operator [1,2] --
                   Job NEW Req  168 for M.MAROTTA [27,5434]

   OPR>
   10:26:10        Printer 0  -- End --
                   Job NEW Req  168 for M.MAROTTA [27,5434]



   7.9.8  Specifying the next Line Printer Job   7.9.8  Specifying the next Line Printer Job

   You can force the printer to service a particular request  immediately
   by  using  the  NEXT command.  This command starts the specified print
   request immediately after the current request is finished.   The  NEXT
   command does not alter the sequence of other requests in the queue.

   You may, for example, have  several  jobs  in  the  queue  which  have
   requested  narrow  forms.  By giving the NEXT command, you can service
   them before restoring normal forms to your printer.


                            ----- Example -----

   A user (MORRILL) requests that his print job be moved to  the  top  of
   the  print  queue to be printed when a printer is available.  You must
   examine the print queue to obtain  the  request-identification  number
   for  his  print  request.   Then you use the NEXT command to place his
   request next in the queue.

       ____ ______ ____________   OPR>SHOW QUEUES PRINTER<RET>

   OPR>
   11:35:43             -- System Queues Listing --

   Printer Queue:
   Job Name        Req     Limit              User
   --------       ------  -------  --------------------------------
   * BREAK           14      200   KOVALCIN, D [10,4635] On Unit:0
      Started at 11:30:44, printed 20 of 200 pages
     MAIL           145       35   MAROTTA, M [27,5555]
     SNOOPY          10       65   MORRILL [443,2520]
            /After:29-MAY-88 12:00


                                    7-51
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


      There are 3 jobs in the queue (1 in progress)

       ____ _______ _ __________ _______   OPR>NEXT PRINTER 0 REQUEST-ID 10<RET>

   OPR>
   11:36:17 Printer 0 -- NEXT request #10 scheduled --

   OPR>



   7.10  SENDING PRINTER OUTPUT TO MAGNETIC TAPE   7.10  SENDING PRINTER OUTPUT TO MAGNETIC TAPE

   You can send output to another device (such as magnetic tape)  instead
   of   a   line   printer   with  the  OPR  command,  START  PRINTER  nn
   /DEVICE:MTAn:.

   The advantages for doing this are:

         o  When your line printers are down due to a  hardware  problem,
            you can spool the output to tape and then copy this output on
            a system where the printer(s) is not down.

         o  When you want to microfiche the  output,  you  can  send  the
            output to tape instead of printing it on the line printer.

         o  When you want  to  transfer  the  output  from  one  site  to
            another,  or  to  another  system,  you  can  put it on tape.
            Transferring a tape is easier than mailing  or  carrying  the
            printed output.

   To perform this task, do the following:

        1.  Type to OPR:

            ___ __________ _____  ___________ _____            SET TAPE-DRIVE MTxn:  UNAVAILABLE <RET>

            where x is the tape controller identification and  n  is  the
            tape  drive  number.   (Refer  to  Chapter  9  for additional
            information on the SET TAPE-DRIVE command.)

        2.  Physically mount and bring on line a tape on the  tape  drive
            that   has   been  made  UNAVAILABLE.   Make  sure  that  the
            write-ring has been inserted in the tape, so that the tape is
            write-enabled.

        3.  Type to OPR:

            ____ ____________ _ _____            HOLD PRINTER-JOBS * <RET>

            to hold all printer job requests  in  the  printer(s)  queue.
            (Refer to Section 7.9.2.)


                                    7-52
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


        4.  Type to OPR:

            _____ _______ __ _____________ _____            START PRINTER nn /DEVICE:MTxn: <RET>

            where nn is  a  line  printer  unit  number  other  than  the
            printers already in use, and MTxn is the tape drive number.

        5.  If you are to print a type of form other than that used  when
            a printer is started (the default) at your installation, type
            to OPR:.

            ___ _______ __ __________ __________ _____            SET PRINTER nn FORMS-TYPE forms-name <RET>

            where forms-name is the desired type of form to be spooled to
            the tape

        6.  Type to OPR:

            _______ ____________ _ _____            RELEASE PRINTER-JOBS * <RET>

            to release those printer requests that were held.

        7.  When the printer requests have completed being output to  the
            tape, type to OPR:

            ________ _______ __ _____            SHUTDOWN PRINTER nn <RET>

            to rewind and unload the tape automatically.

        8.  Type to OPR:

            ___ __________ _____  _________ _____            SET TAPE-DRIVE MTxn:  AVAILABLE <RET>

            to  make  the  tape  drive  available  for  user  tape  mount
            requests.


                            ----- Example -----

   Start printer 2 on MTA0:   to  output  all  printer  requests  in  the
   printer  queue  for NARROW forms, because there are no NARROW forms at
   your site.

       ___ __________ _____ ________________   OPR>SET TAPE-DRIVE MTA0: UNAVAILABLE<RET>
   Enter text and terminate with ^Z
   ___ ______ _____ ____ __ _______ __ _______ _____ _____   ALL NARROW FORMS WILL BE PRINTED AT ANOTHER SITE. <RET>
   _____ ___ __ ______ _____ __ ________   THERE ARE NO NARROW FORMS IN STOCK.^Z

   OPR>

    7:52:19        Device MTA0  -- Set Unavailable --



                                    7-53
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


       ____ ____________ _ _____   OPR>HOLD PRINTER-JOBS * <RET>

   OPR>
    7:53:45        -- 10 Jobs Held --


       _____ _______ _ ____________ _____   OPR>START PRINTER 2 /DEVICE:MTA0 <RET>


    7:55:34        Printer 2  -- Startup Scheduled --

       ___ _______ _ __________ ______ _____   OPR>SET PRINTER 2 FORMS-TYPE NARROW <RET>

   OPR>
    7:56:15        Printer 2  -- Set Accepted --

       _______ ____________ _ _____   OPR>RELEASE PRINTER-JOBS * <RET>

    7:57:23        -- 10 Jobs Released --

   OPR>
    7:57:37        Printer 2  -- Started --

   OPR>
    7:57:38        Printer 2  -- Begin --
                   Job DAILY Req #11 for PAYROLL[2,147]

   OPR>
    7:58:29        Printer 2  -- End --
                   Job DAILY Req #11 for PAYROLL [2,147]
   OPR>
    7:59:01        Printer 2  -- Begin --
                   Job WEEKLY Req #12 for PAYROLL [2,147]

   OPR>
                   .
                   .
                   .
   OPR>
    8:09:10        Printer 2  -- End --
                   Job YEARLY Req #20 for PAYROLL [2,147]


       ________ _______ _ _____   OPR>SHUTDOWN PRINTER 2 <RET>

   OPR>
    8:10:12        Printer 2  -- Shutdown --


       ___ __________ _____ ______________   OPR>SET TAPE-DRIVE MTA0: AVAILABLE<RET>




                                    7-54
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   OPR>

    8:12:30        Device MTA0  -- Set Available --


   OPR>



   7.11  CONTROLLING LAT DEVICES   7.11  CONTROLLING LAT DEVICES

   The LAT Control Program (LCP), a subset of OPR, allows you to  control
   and  monitor LAT (local area transport) activity.  A LAT device allows
   simultaneous connections to services offered by one or more processors
   in a local area network.

   To enter LCP, use the OPR command, ENTER, as follows:

            _____ ________        OPR>ENTER LCP<RET>
        LCP>

   To exit LCP and return to OPR command level, use the RETURN command as
   follows:

            ___________        LCP>RETURN<RET>
        OPR>

   LCP commands allow you to:

         o  Clear LAT parameters.

         o  Set LAT parameters.

         o  Show all outgoing  active  or  pending  LAT  connections  and
            provide information about requests waiting to be connected to
            application terminals.

         o  Change various counter settings to zero.

   The commands that control LAT devices are:

         o  CLEAR -  Resetting parameters

         o  SET   -  Setting parameters

         o  SHOW  -  Displaying parameters

         o  START -  Starting LAT activity

         o  STOP  -  Stopping LAT printers




                                    7-55
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  ZERO  -  Clearing LAT counters

   Another command, the DEFINE NODE command lets you define a destination
   on a LAT server.

                                                      _______  __________   For more information about these commands see the  TOPS-10  Operator's
   _______ ________ _________ ______   Command Language Reference Manual.



   7.11.1  Setting Parameters   7.11.1  Setting Parameters

   The LCP SET command allows you to specify various LAT Control  Program
   parameters, as shown below.

         o  GROUPS                  - Specifies group numbers

         o  IDENTIFICATION          - Specifies host identification

         o  MAXIMUM ACTIVE-CIRCUITS - Sets number of active circuits

         o  MAXIMUM SESSIONS        - Sets number of LAT terminals

         o  MULTICAST-TIMER         - Sets message interval

         o  NUMBER                  - Specifies host identification

         o  RETRANSMIT TIMER        - Sets retransmission interval

         o  RETRANSMIT LIMIT        - Sets retransmission limit

         o  SERVICE-NAME            - Specifies services offered


                            ----- Example -----

   Use the SET command to set to 10 the maximum number of active circuits
   that can exist at a node.

       ___ _______ _______________ _______   LCP>SET MAXIMUM ACTIVE-CIRCUITS 10<RET>
   LCP>
   15:16:38          LCP     -- Set Accepted --

   LCP>



   7.11.2  Resetting Parameters   7.11.2  Resetting Parameters

   The LCP CLEAR command allows you to reset the following parameters set
   by  the  SET  command.   Note  that  you  cannot  clear parameters for
   NODE-NAME, or host NUMBER.


                                    7-56
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  GROUPS                  - Clears group setting

         o  IDENTIFICATION          - Clears identification

         o  MAXIMUM ACTIVE-CIRCUITS - Changes number of active circuits

         o  MAXIMUM SESSIONS        - Resets number of LAT terminals

         o  MULTICAST-TIMER         - Changes message interval

         o  NUMBER                  - Specifies host identification

         o  RETRANSMIT TIMER        - Resets retransmission interval

         o  RETRANSMIT LIMIT        - Resets retransmission limit

         o  SERVICE-NAME            - Clears offered services


                            ----- Example -----

   Use the CLEAR command to  reset  the  maximum  number  of  active  LAT
   terminals allowed to connect to the local host.

       _____ _______ _____________   LCP>CLEAR MAXIMUM SESSIONS<RET>
   LCP>
   10:28:10          LCP     -- Clear Accepted --

   LCP>



   7.11.3  Starting LAT Activity   7.11.3  Starting LAT Activity

   To notify  all  servers  that  the  host  is  available  and  set  the
   LAT-ACCESS-STATE to ON, use the LCP START command.


                            ----- Example -----

   Use the START command to make  the  host  available  to  all  terminal
   servers.

       __________                         _____   LCP>START<ESC>(Processing LAT sessions)<RET>
   LCP>
   9:20:52           LCP     -- Start Accepted --

   LCP>






                                    7-57
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.11.4  Stopping LAT Activity   7.11.4  Stopping LAT Activity

   To terminate all existing LAT terminal sessions  and  reject  any  new
   connections from servers, use the LCP STOP command.


                            ----- Example -----

   Use the STOP command to terminate all existing LAT terminal sessions.

       _________                         _____   LCP>STOP<ESC>(Processing LAT sessions)<RET>
   LCP>
   12:22:19          LCP     -- Stop Accepted --

   LCP>



   7.11.5  Changing LAT Counters   7.11.5  Changing LAT Counters

   To change the counters for the combined LAT server totals to zero, use
   the  LCP  ZERO  COUNTERS command.  Use the /SERVER switch to specify a
   particular LAT server.


                            ----- Example -----

   Use the ZERO COUNTERS command to change the counters for the  combined
   LAT server totals to zero.

       ____ _____________   LCP>ZERO COUNTERS<RET>
   LCP>
   22:12:36          LCP     -- Zero Accepted --

   LCP>



   7.11.6  Displaying LAT Activity   7.11.6  Displaying LAT Activity

   The SHOW command displays the following LAT information:

         o  Dynamic and permanent parameters

         o  Currently active terminal connections

         o  Server information

         o  Counter information


                            ----- Example -----


                                    7-58
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   Use the  SHOW  command  to  display  the  dynamic  and  permanent  LAT
   parameters.

       ____ ____________________   LCP>SHOW CHARACTERISTICS<RET>
   LCP>
    9:27:21        LCP    -- Host Characteristics --

   LAT Access State: ON
   Host Name: KL1026
   Host id: RN245A DEC10 TRISMP
   Host Number: 110
   Retransmit Limit: 60
   Retransmit Timer: 1000
   Multicast Timer: 30
   Groups: 3:4,7,10,14,18,21
                        Current   Maximum
                        -------   -------
   Allocated circuits:      3        20
   Active circuits:         3        20
   Sessions:                6       200
   Service name   Rating        Identification
   ------------   ------    ---------------------
      KL1026        1       RN245A DEC10 TRISMP

   LCP>



   7.12  CONTROLLING THE CARD READER   7.12  CONTROLLING THE CARD READER

   To handle a user's request to have card decks read into the system for
   batch processing, you must start one (or possibly more) card reader(s)
   at your site.  The card reader may be automatically started at  system
   startup when the SYSTEM.CMD file is executed.

   Your system manager should establish the following when you have batch
   users submitting their jobs as card input:

         o  Where the users place the card decks for submission

         o  When you load the card decks into the card reader for reading

         o  When and where you place the card decks and output  from  the
            batch jobs to return to the users

   The following sections explain how to use the OPR commands that enable
   you to do these card reader tasks:

         o  Load and read cards through the card reader

         o  Stop the card reader from processing the current request



                                    7-59
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  Continue to process a request that was stopped

         o  Prohibit the scheduling of card reader requests

         o  Display the status of the card reader

         o  Cancel a card reader job



   7.12.1  Starting the Card Reader   7.12.1  Starting the Card Reader

   To load and read cards through the card reader, use the  START  READER
   command.   Starting  the  card reader allows card jobs to be scheduled
   for processing in the batch system.  You can specify one or more  unit
   numbers  with the START command.  The SYSTEM.CMD file usually includes
   this command.

   To stop the scheduling of card batch jobs on a card  reader,  use  the
   SHUTDOWN command.


                            ----- Example -----

   Use the START READER command to start up card reader 0.

       _____ ______ _ _____   OPR>START READER 0 <RET>

   OPR>
   10:11:15        Reader 0  -- Startup Scheduled --

   OPR>



   7.12.2  Stopping the Card Reader   7.12.2  Stopping the Card Reader

   To stop one  or  more  card  readers,  use  the  STOP  command.   This
   temporarily  STOPS  the  card  reader from processing its current job.
   You must use the CONTINUE command to allow the card reader to continue
   reading the input job.

   The default of the STOP command is IMMEDIATELY.


                            ----- Example -----

   Stop the current job on card reader 0 temporarily to fix a card in the
   deck that was folded.

       ____ ______ _ _____   OPR>STOP READER 0 <RET>



                                    7-60
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   OPR>
   18:24:09        Reader 0  -- Stopped --

   OPR>



   7.12.3  Continuing the Card Reader   7.12.3  Continuing the Card Reader

   To continue one or more card readers  that  were  temporarily  stopped
   with the STOP command use the CONTINUE command.


                            ----- Example -----

   After stopping the card reader to fix  a  folded  card,  continue  the
   current card reader job.

       ________ ______ _ _____   OPR>CONTINUE READER 0 <RET>

   OPR>
   18:30:41        Reader 0  -- Continued --

   OPR>



   7.12.4  Shutting Down the Card Reader   7.12.4  Shutting Down the Card Reader

   To stop the scheduling of  card  reader  requests,  use  the  SHUTDOWN
   command.   If  a card reader job is currently being read from the card
   reader, the request is completed before the card reader is shut  down.
   No further requests will be accepted.


                            ----- Example -----

   Shut down card reader 0 while a card deck is still being read into the
   system.

       ________ ______ _ _____   OPR>SHUTDOWN READER 0 <RET>

   OPR>
   19:21:01        Reader 0  -- Shutdown Scheduled --

   OPR>

   When the card deck has  finished  being  read  into  the  system,  the
   following message appears:

   OPR>
   19:22:44        Reader 0  -- Shutdown --


                                    7-61
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   OPR>



   7.12.5  Displaying Card Reader Status   7.12.5  Displaying Card Reader Status

   To display the status of one or more card readers, use the SHOW STATUS
   READER  command.   If  you  do not specify a number or a range of unit
   numbers, the default is all card readers on the system.

   The output from the SHOW STATUS READER command displays:

         o  The card reader unit number

         o  The current status of the card reader (either Idle or Active)

   If the card reader is active, there is currently a deck of cards being
   read  into  the  system.   The  system  does not recognize a job name,
   request-id, or user name until the last card of the deck has been read
   and  the  card  reader is idle.  At this time, the card deck becomes a
   batch request and can be displayed with  the  SHOW  QUEUES  BATCH-JOBS
   command.


                            ----- Example -----

   Use the SHOW STATUS READER command to display the  current  status  of
   the card reader at your installation.

       ____ ______ ______ _____   OPR>SHOW STATUS READER <RET>

   OPR>
   13:51:39            -- System Device Status --

   Reader Status:
     Unit      Status     
     ----  ---------------
        0  Active

   OPR>



   7.12.6  Canceling a Card Reader Job   7.12.6  Canceling a Card Reader Job

   Occasionally, you may have to  cancel  a  card  job  being  read,  for
   example,  when a card jam occurs in the card reader.  To cancel a card
   job, use the ABORT READER command, and specify the reader unit  number
   that is processing the job.


                            ----- Example -----


                                    7-62
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   Use the ABORT command to cancel a card reader job because  of  a  card
   jam.

       _____ ______ _ _____   OPR>ABORT READER 0 <RET>

   OPR>
   12:32:09        Reader 0  -- Aborted --

   OPR>



   7.13  CONTROLLING CARD PUNCH, PAPERTAPE PUNCH, AND PLOTTERS   7.13  CONTROLLING CARD PUNCH, PAPERTAPE PUNCH, AND PLOTTERS

   The commands and descriptions in this section are applicable  only  if
   you have the hardware available at your installation.

   Other output devices available to users are:

         o  CARD-PUNCH

         o  PAPER-TAPE-PUNCH

         o  PLOTTER

   If your installation has one or more of these output devices, you must
   set  the  parameters  so that user requests can be processed.  If your
   installation has these devices, they may be automatically  started  at
   system startup when the SYSTEM.CMD file is executed.

   When the output from the card punch, paper tape punch, or plotter  has
   been  completed,  you  must remove the output and distribute it.  Your
   system manager should set up the distribution method, which includes:

         o  When to distribute the output

         o  Where to put the output so that users can pick it up

   The following sections explain the OPR commands that control the  card
   punch, paper tape punch, and plotter.  These commands enable you to do
   the following:

         o  Set the parameters for an output device

         o  Start output devices

         o  Stop output devices temporarily

         o  Continue processing on an output device

         o  Stop the scheduling of output requests on an output device



                                    7-63
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  Display output device parameters

         o  Display the status of an output device



   7.13.1  Setting Output Device Parameters   7.13.1  Setting Output Device Parameters

   Normally, the SYSTEM.CMD  file  starts  a  defined  number  of  output
   devices   at  system  startup.   The  SYSTEM.CMD  file  may  also  set
   parameters for the output devices.  However, you might have  to  start
   an output device when a user requests output from the device.  You may
   also need to change the default parameters for the output device.  The
   following are the output device parameters that you can set:

         o  FORMS-TYPE name

            Where "name" is the name of the forms type.  The  default  is
            NORMAL  and is defined in the SPFORM.INI file for each device
            type.  Refer to the following section for the description and
            use of the SPFORM.INI file.

         o  LIMIT-EXCEEDED-ACTION action

            The "action" of the LIMIT-EXCEEDED-ACTION parameter refers to
            what  action,  if  any, should be taken if the device that is
            currently   processing   the   job   request   exceeds    the
            OUTPUT-LIMIT.  You can set this parameter to:

            -  ASK the operator to RESPOND with either PROCEED to  finish
               processing  the  output  job or ABORT to cancel the output
               job

            -  Always ABORT the  output  job  when  the  limit  has  been
               exceeded

            -  Always PROCEED, ignoring the output limit of the device

         o  OUTPUT-LIMIT number

            The "number" of the OUTPUT-LIMIT parameter refers to the:

            -  Number of cards for the CARD-PUNCH

            -  Number of feet for the PAPER-TAPE-PUNCH

            -  Number of minutes for the PLOTTER

            These parameters (all set by GALGEN) default to the following
            if  they  are  not  included in the SYSTEM.CMD file at system
            startup:



                                    7-64
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


            -  500 cards for the CARD-PUNCH

            -  500 feet for the PAPER-TAPE-PUNCH

            -  30 minutes for the PLOTTER

         o  PRIORITY-LIMITS range

            The "range" of the  PRIORITY-LIMITS  parameter  refers  to  a
            range  of request priority numbers the output device accepts.
            The priority range  is  1:63.   For  example,  if  an  output
            request  is  queued  with  a  priority of 19 and there are no
            devices for the request  that  have  been  set  to  accept  a
            priority  of  19,  the  request  will not be output until you
            change the priority range for the device, or the priority  of
            the  request.   You  can  change  the  priority number of the
            request with the MODIFY command (refer to Section 7.14.6).

   When  you  set  an   output   device   to   change   the   FORMS-TYPE,
   LIMIT-EXCEEDED-ACTION,  OUTPUT-LIMIT,  or  PRIORITY-LIMITS, the change
   remains in effect until you change it with the same command, or  until
   the GALAXY system is reloaded.


                            ----- Examples -----

        1.  Set the priority limits for the paper  tape  punch  to  be  a
            range of 20:63.  This prevents processing of paper tape punch
            requests with priority limits under 20 feet.

                ___ ________________ _ _______________ ______            OPR>SET PAPER-TAPE-PUNCH 0 PRIORITY-LIMITS -<RET>

            _____ _____            20:63 <RET>

            OPR>
            11:34:09        Papertape 0  -- Set Accepted --

            OPR>

        2.  Set the limit exceeded action for the card  punch  to  ignore
            the  output  limit.   This  allows  any  card  punch request,
            regardless of its limit, to be completed on CDP0.

                ___ __________ _ _____________________ ______            OPR>SET CARD-PUNCH 0 LIMIT-EXCEEDED-ACTION -<RET>

            _______ _____            PROCEED <RET>

            OPR>
            12:23:18        Card-punch 0  -- Set Accepted --

            OPR>



                                    7-65
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.13.2  Using the SPFORM.INI File   7.13.2  Using the SPFORM.INI File

   The SPFORM.INI file allows you to automatically set  forms  parameters
   for  the  card  punch,  paper  tape punch, and plotter on the basis of
   device type and form names.  To accomplish this, you  or  your  system
   manager must set up a file on SYS:  called SPFORM.INI which contains a
   list of form names and switch settings for those forms.

   Each line in the SPFORM.INI file is written in the following format:

        devtyp formname:locator/switch1/switch2/switch3...

   where:

        devtyp             the device type for which this  line  applies.
                           The device types are as follows:

                           CDP          for the card punch
                           PTP          for the paper tape punch
                           PLT          for the plotter

        formname           a 1- to 6-character form name.   You  or  your
                           system  manager  should  specify  unique  form
                           names that are descriptive  of  the  types  of
                           forms used at your installation.

        :locator           an optional locator field  containing  one  of
                           the following:

                           ALL          all devices (the default)
                           REMOTE       all devices at remote stations

        /switch1...        one or  more  switches  available  to  you  to
                           describe  how the forms are to be used.  Refer
                           to Tables 7-3 and 7-4  for  a  description  of
                           switches.   Table  7-3  describes the switches
                           that can be used for  all  the  output  device
                           types.   Table 7-4 describes the switches that
                           can be used only for the plotter (PLT).


   Table 7-3:  SPFORM.INI Switches For All Device Types   Table 7-3:  SPFORM.INI Switches For All Device Types


   ______________________________________________________________________

      Switch                                Meaning
   ______________________________________________________________________

     /BANNER               specifies  whether  banner  units  will   be
                           output at the beginning of the request.



                                    7-66
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


     /HEADER               specifies  whether  header  units  will   be
                           output at the beginning of each file.

     /NOTE:xxx             The  xxx   represents   text   (up   to   50
                           characters)  that  is  printed  on  the  OPR
                           terminal  when  the  forms  are   scheduled.
                           There is no default.

     /TRAILER              specifies  whether  trailer  units  will  be
                           output at the end of each file.
   ______________________________________________________________________


   Table 7-4:  SPFORM.INI Switches For Plotter Devices Only   Table 7-4:  SPFORM.INI Switches For Plotter Devices Only


   ______________________________________________________________________

         Switch                             Meaning
   ______________________________________________________________________

     /MAXIMUM:xx:yy        specifies  the  maximum  form  size  in  the
                           horizontal (xx) and vertical (yy) axis.  The
                           values of xx and yy are measured  in  units;
                           the unit size is defined by the /SPU switch.
                           The plotter, when mounted with the specified
                           type  of  form,  will accept plots no larger
                           than the values of xx and yy indicate.

     /MINIMUM:xx:yy        specifies  the  minimum  form  size  in  the
                           horizontal (xx) and vertical (yy) axis.  The
                           values of xx and yy are measured  in  units;
                           the unit size is defined by the /SPU switch.
                           The plotter, when mounted with the specified
                           type  of  form, will accept plots no smaller
                           than the values of xx and yy indicate.

     /SPU:nnn              specifies the Steps Per Unit.  A step  is  a
                           measurement   length   as   defined  in  the
                           hardware  manual  for  the  device  at  your
                           installation.   The  value  of nnn should be
                           step-size*nnn=one  unit.   For  example,  to
                           define  an  inch  as the unit if the plotter
                           step is .01 inches, use /SPU:100.

                                    NOTE

             Refer to  the  hardware  owner's  manual  for  the
             plotter   device   at   your  installation  before
             entering a line in the  SPFORM.INI  file  for  the
             plotter  because there are many different types of
             plotters.


                                    7-67
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   ______________________________________________________________________


   The form name in SPFORM.INI need not be the actual name of a  physical
   form; however, it is usually close to the type of form (such as normal
   forms, narrow forms, and so forth).  When an output request  is  made,
   SPROUT  compares  the  form  name associated with the request with the
   form name of the form currently mounted on the output device.  If  the
   first  four  characters  of the name are not the same, then the system
   requests you to change the forms on the output device.  If  the  first
   four   characters  are  the  same,  the  system  checks  the  switches
   associated with the requested form name and  uses  those  values  when
   processing  the output job.  (The number of characters that the system
   uses to compare the form name can be changed by  running  GALGEN;  the
   default is four characters.)

   For example, note the following SPFORM.INI file:

   CDP NORMAL/HEADER/BANNER/TRAILER
   CDP NORM01/HEADER/BANNER/TRAILER
   CDP NORM02/HEADER/BANNER/TRAILER/NOTE:SPECIAL

   Suppose that NORM01 forms are currently mounted on the card punch  and
   a  user makes a card punch request that requires NORM02 forms.  SPROUT
   compares the first four characters of the requested form name (NORM02)
   with  the  first four characters of the form name for the form that is
   currently mounted in the card punch (NORM01).  Because  they  are  the
   same,  SPROUT  takes  the  switch  values  associated  with NORM01 and
   applies them to the user's punch request.  Therefore,  the  SPFORM.INI
   file should have a unique name for each type of form.

   Each line  in  SPFORM.INI  can  also  contain  a  locator  field  that
   specifies  the  location  of  the output device.  The locator ALL (the
   default) refers to all of the devices as specified by the device type.
   The  REMOTE  locator  applies  only  if  your installation has TOPS-10
   ANF-10 network software.

   Occasionally,  SPROUT  may  encounter  errors  while  processing   the
   SPFORM.INI file.  For example, it may not be able to find a form type,
   or to make a match based on form type and device.   If  this  happens,
   SPROUT  displays  an error message and gives you the option to proceed
   with the job, or to requeue it.



   7.13.3  Starting Output Devices   7.13.3  Starting Output Devices

   Normally, the SYSTEM.CMD  file  starts  a  defined  number  of  output
   devices at system startup.  However, you might have to start an output
   device when a user requests output from the device.  If you do not set
   any  parameters for the device, the device uses the default parameters
   set by your system manager with GALGEN.


                                    7-68
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   To start an output device, use the START command.  You can  start  one
   output device at a time or a range of devices.


                            ----- Example -----

   Issue the START CARD-PUNCH command to start up card punch 0.

       _____ __________ _ _____   OPR>START CARD-PUNCH 0 <RET>

   OPR>
   10:23:21        Card-punch 0  -- Startup Scheduled --

   OPR>
   10:23:25        Card-punch 0  -- Started --

   OPR>



   7.13.4  Stopping Output Devices   7.13.4  Stopping Output Devices

   To stop one or more  output  devices,  use  the  STOP  command.   This
   temporarily  stops  an  output device from processing its current job.
   You must use the CONTINUE command to resume the output to the device.

   The STOP command has three optional arguments.  They are:

         o  AFTER CURRENT-REQUEST

         o  AFTER EVERY-REQUEST

         o  IMMEDIATELY

   The IMMEDIATELY argument is the default argument of the STOP  command.
             _______  __________  _______ ________ _________ ______   See  the  TOPS-10  Operator's  Command Language Reference Manual for a
   complete description of these arguments.


                            ----- Example -----

   Stop the current job on card punch 0 temporarily  to  load  more  card
   forms and empty its hopper.

       ____ __________ _ _____   OPR>STOP CARD-PUNCH 0 <RET>

   OPR>
   18:24:09        Card-punch 0  -- STOP command queued --

   OPR>




                                    7-69
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.13.5  Continuing Output Devices   7.13.5  Continuing Output Devices

   Use the CONTINUE command to continue processing  a  request  that  was
   temporarily stopped with the STOP command.


                            ----- Example -----

   After stopping the card punch to load more cards and empty the hopper,
   continue the output of the current punch job.

       ________ __________ _ _____   OPR>CONTINUE CARD-PUNCH 0 <RET>

   OPR>
   18:35:41        Card-punch 0  -- Continued --

   OPR>



   7.13.6  Shutting Down Output Devices   7.13.6  Shutting Down Output Devices

   To shut down the scheduling of output requests on an output device  or
   a  range  of  output  devices, use the SHUTDOWN command.  If an output
   request is currently being processed on the device, the  request  will
   be completed before the output device is shutdown.

   To stop the scheduling of jobs on the output device, use the  SHUTDOWN
   command.


                            ----- Example -----

   Shut down paper tape punch 0 while a request is still being output  on
   it.

       ________ ________________ _ _____   OPR>SHUTDOWN PAPER-TAPE-PUNCH 0 <RET>

   OPR>
   19:21:03        Papertape 0 -- Shutdown Scheduled --

   OPR>

   When the request on the paper tape punch has completed  being  output,
   the following message appears:

   OPR>
   19:23:55        Papertape 0  -- Shutdown --

   OPR>




                                    7-70
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.13.7  Displaying Output Device Parameters   7.13.7  Displaying Output Device Parameters

   You can display the current output device  parameters  with  the  SHOW
   PARAMETERS command, where device can be:

         o  CARD-PUNCH unit-number

         o  PAPER-TAPE-PUNCH unit-number

         o  PLOTTER unit-number

   If you do not specify a unit number with the  device  name,  the  SHOW
   command defaults to all units of the device that you specified.

   The output from  the  SHOW  PARAMETERS  device  command  displays  the
   following for each of the three devices listed above:

         o  The unit number for the output device

         o  The output limits for the output device

         o  The type of forms for the output device

         o  The priority range for the output device

         o  The limit-exceeded-action for the output device

         o  The character device type for the output device


                            ----- Example -----

   Use the  SHOW  PARAMETERS  PAPER-TAPE-PUNCH  command  to  display  the
   parameters of paper-tape punch 0 on the system.

       ____ __________ ________________ _____   OPR>SHOW PARAMETERS PAPER-TAPE-PUNCH <RET>

   OPR>
   13:09:42            -- System Device Parameters --

   Papertape Parameters:
     Unit  Min:Max Unit   Form    Prio  Lim-Ex  Dev-Chars
     ----  ------------  ------  -----  ------  ---------
        0      1:500     NORMAL  1:63     Ask

   OPR>



   7.13.8  Displaying Output Device Status   7.13.8  Displaying Output Device Status

   You can display the status of an output device or a  range  of  output


                                    7-71
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   devices  with the SHOW STATUS device command.  If you do not specify a
   unit  number  or  a  range  of  unit  numbers,  the  command  displays
   information for all the specified types of devices on the system.

   The output from the SHOW STATUS device command displays the  following
   for each device:

         o  The unit number of the output device

         o  The current status of the output device

         o  The job name currently active on the output device

         o  The request-id number of the job

         o  The name and PPN of the user who made the output request

   If the output device is not active, the word  "Idle"  appears  in  the
   Status  column with no job name, request-id, or user name.  If none of
   the devices are active, only the unit number and status appears in the
   display.

   If an output device is active, the output also shows the time that the
   output  request started and the number of units output so far.  If you
   do not need this information with  the  display  of  the  SHOW  STATUS
   device command, specify the /SHORT switch.


                            ----- Example -----

   Use the SHOW STATUS CARD-PUNCH command to display the  current  status
   of card punch 0 on the system.

       ____ ______ __________ _ _____   OPR>SHOW STATUS CARD-PUNCH 0 <RET>

   OPR>
   13:51:39            -- System Device Status --
   Card-Punch Status:
     Unit      Status       Jobname  Req#            User
     ----  ---------------  -------  ----  ------------------------
        0  Active           PUNCH9   137   HEISER [2,175]
           Started at 13:35:23, punched 687 of 2000 cards

   OPR>



   7.14  CONTROLLING JOBS ON OUTPUT DEVICES   7.14  CONTROLLING JOBS ON OUTPUT DEVICES

   You can control any spooled output request, including those  generated
   by  batch job processing.  OPR commands enable you to do the following
   to control jobs on the card punch, paper tape punch, or plotter:


                                    7-72
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  Examine the queues

         o  Prevent output requests from processing

         o  Release previously held requests

         o  Cancel a job currently processing

         o  Cancel a job currently processing, and requeue to process  at
            another time

         o  Change the priority of an output request

         o  Delete output requests



   7.14.1  Examining the Queues   7.14.1  Examining the Queues

   When a user issues a request to  an  output  device,  the  request  is
   placed  in  a  queue  where  it  waits for selection by the system for
   processing.  To examine the  queues  for  output  jobs,  use  the  OPR
   command SHOW QUEUES.

   The SHOW QUEUES command displays the following information:

         o  The name of the output job

         o  The request-id number of the output job

         o  The output limit of the job

         o  The name of the user who requested the output

   These four columns of the display appear whether  the  job  is  active
   (currently being processed) or inactive (not being processed).

   In addition to the above, if the output is active on the  device,  the
   display  shows  the  device  unit  number  on  which  the job is being
   processed, the time that the output job started, and the total  number
   of cards or units processed so far.

   The SHOW QUEUES has optional switches,  /ALL  and  /SHORT.   The  /ALL
   switch  causes  a  display  of all output jobs in the queue with their
   appropriate column headers  and  any  additional  switches  that  were
   specified  when  the  user  requested the output.  If the user did not
   specify switches, the /ALL switch displays the default values of those
   switches.    In   addition,  the  /ALL  switch  displays  any  special
   characteristics of the output job, such as HOLD.   The  /SHORT  switch
   displays  only  the  job  name,  the request number, the scheduled run
   time, and the user name.  The /SHORT switch does  not  display  column
   headers or switches.


                                    7-73
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                                    NOTE

           The asterisk (*)  before  the  job  name  column  (see
           examples)  indicates  that  the job is currently being
           processed.


                            ----- Examples -----

        1.  Use the SHOW QUEUES PLOTTER-JOBS command with the /ALL switch
            to  display  the  plotter  jobs  in  the queue with all their
            switches.

                ____ ______ ____________ ____ _____            OPR>SHOW QUEUES PLOTTER-JOBS /ALL <RET>

            OPR>
            10:49:07            -- System Queues Listing --

            Plotter Queue:
            Job Name  Req#  Limit            User
            --------  ----  -----  ------------------------
            * GRAPH     17    100  OPERATOR [1,2]    On Unit:0  /Seq:3320
                Started at 10:47, plotted 25 of 100 units
              MF20      19    200  P.TAYLOR [10,2715]    /Unit:0
            /Seq:3341
              MF21      27    590  P.TAYLOR [10,2715]    /Unit:0
            /Seq:3349
              MF22      31    300  P.TAYLOR [10,2715]    /Unit:0
            /Seq:3355

            There are 4 jobs in the queue (1 in progress)

            OPR>

        2.  Use the SHOW QUEUES  PLOTTER-JOBS  command  with  the  /SHORT
            switch.

                ____ ______ ____________ ______ _____            OPR>SHOW QUEUES PLOTTER-JOBS /SHORT <RET>

            OPR>
            10:49:07            -- System Queues Listing --

            Plotter Queue:
            * GRAPH     17    100  OPERATOR [1,2]
              MF20      19    200  P.TAYLOR [10,2715]
              MF21      27    590  P.TAYLOR [10,2715]
              MF22      31    300  P.TAYLOR [10,2715]

            OPR>





                                    7-74
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   7.14.2  Holding Jobs   7.14.2  Holding Jobs

   To prevent output requests from being processed, use the HOLD command.
   The  HOLD  command prevents current jobs in the queue from processing.
   Any output requests queued after the HOLD command has been issued  are
   not  held  and  are  processed when the device becomes available.  You
   must specify one of the following with this command:

         o  The request-id number, to hold a single output job

         o  The PPN for a particular user, to hold  all  output  requests
            queued by that user

         o  An asterisk (*), to hold all output requeusts queued  by  all
            users

   Use the RELEASE command to allow a held job to start again.

                                    NOTE

           You cannot  HOLD  an  output  job  that  is  currently
           active.


                            ----- Example -----

   Use the HOLD CARD-PUNCH-JOBS command to hold all card  punch  requests
   for user BROWN, whose PPN is [27,5107].

       ____ _______________ _________ _____   OPR>HOLD CARD-PUNCH-JOBS [27,5107] <RET>

   OPR>
   09:01:54        -- 3 Jobs Held --

   OPR>



   7.14.3  Releasing Jobs   7.14.3  Releasing Jobs

   Use the RELEASE command  to  release  an  output  job  that  has  been
   previously  held  with  the  HOLD command.  To specify the request you
   want to release, supply one of the following:

         o  A single request-id number to release one request

         o  A user name to release all requests for that user

         o  An asterisk (*) to release all requests for the  same  device
            type

   The RELEASE command reschedules the requests to be processed.


                                    7-75
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                                    NOTE

           You must have one or more output devices started or in
           the Idle state to get an output request processed.


                            ----- Example -----

   Use the RELEASE command to reschedule all output  requests  that  were
   previously held on the card punch.

       _______ _______________ _ _____   OPR>RELEASE CARD-PUNCH-JOBS * <RET>

   OPR>
   10:38:09        -- 3 Jobs Released --

   OPR>



   7.14.4  Canceling Jobs   7.14.4  Canceling Jobs

   Occasionally, you may have  to  cancel  an  output  job  while  it  is
   processing  on  a device.  To cancel an output job that is processing,
   use the ABORT command.  Supply the device unit number and one  of  the
   following switches:

         o  /PURGE

         o  /REASON

   The /PURGE switch flushes the entire request from the system  when  it
   is  canceled.   There  are  no trailer units processed when the job is
   purged.

   The /REASON switch allows you to enter one or more lines  of  text  to
   explain why the output request was canceled.


                            ----- Example -----

   Use the ABORT command to cancel an  output  job  because  a  user  had
   requested that you do so.

       _____ _______ __________________________   OPR>ABORT PLOTTER 0/REASON:USER-REQUEST<RET>

   OPR>
   11:40:09        Plotter 0   -- ABORT command queued --

   OPR>
   11:40:21        Plotter 0  -- End --



                                    7-76
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   OPR>



   7.14.5  Requeuing Jobs   7.14.5  Requeuing Jobs

   Occasionally, you may want to cancel an output job that  is  currently
   being  processed,  and  reschedule the same job to be processed later.
   Use the REQUEUE command to hold  the  output  request  and  abort  its
   current output.

   For example, you might want to REQUEUE an output request that requires
   more  forms  (cards,  paper tape, or plotter paper) than are currently
   available at your site.  Thus, you REQUEUE the request to be processed
   when the forms become available.


                            ----- Example -----

   Use the REQUEUE command to hold and  cancel  an  output  request  that
   requires four hours to punch.

       _______ __________ _ ________ _____   OPR>REQUEUE CARD-PUNCH 0 /REASON: <RET>
   Enter text and terminate with ^Z
   ___ ________ ____ _____ __ ______ _____   JOB REQUIRES FOUR HOURS TO PUNCH. <RET>
   ___ ____ __ ________ ___ _____ __ ___ ______ __   JOB WILL BE RELEASED FOR PUNCH ON 2ND SHIFT. ^Z

   OPR>
   13:21:03        Card-punch 0  -- REQUEUE command queued --

   OPR>
   13:21:25        Card-punch 0  -- End- -

   OPR>



   7.14.6  Modifying Requests   7.14.6  Modifying Requests

   To change the priority of an output request  in  the  queue,  use  the
   MODIFY   device-REQUEST  command,  where  device  can  be  CARD-PUNCH,
   PAPER-TAPE-PUNCH, or PLOTTER.  To specify  the  request  you  want  to
   MODIFY, supply one of the following:

         o  A single request-id number to modify one request

         o  A user name to modify all requests for that user

         o  An asterisk (*) to modify all requests in the queue

   You must specify a new PRIORITY number from 1 to 63.  The  higher  the
   number, the greater the priority.


                                    7-77
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                            ----- Example -----

   Use   the   MODIFY    command    to    change    the    priority    of
   PAPER-TAPE-PUNCH-REQUEST  number  from  135  to  63.   This causes the
   request to be the next one processed.

       ______ ________________________ ___ ________ __ _____   OPR>MODIFY PAPER-TAPE-PUNCH-REQUEST 135 PRIORITY 63 <RET>

   OPR>
   08:51:21        -- 1 Job Modified --

   OPR>



   7.14.7  Deleting Requests   7.14.7  Deleting Requests

   To  delete  an  output  request  from  the  queue,  use   the   CANCEL
   device-REQUEST    command,    where    device   can   be   CARD-PUNCH,
   PAPER-TAPE-PUNCH, or PLOTTER.  To specify  the  request  you  want  to
   delete, supply one of the following:

         o  A single request-id number to delete one request

         o  A user name to delete all requests for that user

         o  An asterisk (*) to delete  all  requests  for  the  specified
            device type

   If you CANCEL  an  output  request  that  is  active,  the  output  is
   immediately terminated.


                            ----- Example -----

   Use the CANCEL command to CANCEL output  request  186  from  the  card
   punch output queue.

       ______ __________________ ___ _____   OPR>CANCEL CARD-PUNCH-REQUEST 186 <RET>

   OPR>
   10:25:11        -- 1 Job Canceled --

   OPR>



   7.14.8  Specifying the NEXT Job   7.14.8  Specifying the NEXT Job

   You can force an output queue to schedule a particular request  to  be
   processed  immediately  by  using  the  NEXT  command with CARD-PUNCH,
   PAPER-TAPE-PUNCH, or PLOTTER as  the  keyword.   This  command  starts


                                    7-78
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   processing  the  request  immediately  after  the  current  request is
   finished.  The NEXT command does  not  alter  the  sequence  of  other
   requests in the queue.


                            ----- Example -----

   A user (MORRILL) requests that his plotter job be moved to the top  of
   the  queue  to  be  processed  when  a plotter is available.  You must
   examine the plotter queue to obtain the request-identification  number
   for  his  request.  Then you use the NEXT command to place his request
   next in the queue.

       ____ ______ ____________   OPR>SHOW QUEUES PLOTTER<RET>

   OPR>
   11:35:43                  -- System Queues Listing --

   Plotter Queue:
   Job Name        Req     Limit              User
   --------       ------  -------  --------------------------------
   * GRAPH           14      200   KOVALCIN, D [10,4635] On Unit:0
      Started at 11:30:44, plotted 20 of 100 units
     MF10            145       35   MAROTTA, M [27,5555]
     SNOOPY           10       65   MORRILL [442,2520] 
                           /After:29-MAY-88 12:00
      There are 3 jobs in the queue (1 in progress)

       ____ _______ _ __________ _______   OPR>NEXT PLOTTER 0 REQUEST-ID 10<RET>

   OPR>
   11:36:17                Plotter 0 -- NEXT request #10 scheduled --

   OPR>



   7.15  GALAXY CRASH RECOVERY PROCEDURES   7.15  GALAXY CRASH RECOVERY PROCEDURES

   GALAXY programs may stop performing useful work for one of the reasons
   listed  below.   When  a  program stops performing, it is said to have
   "crashed." This section describes how you can recover  from  a  GALAXY
   program crash.

   Reasons for program crashes are:

         o  A monitor call (UUO) takes the error return  and  a  stopcode
            occurs.

         o  An error is  detected  by  the  built-in  consistency  checks
            within  the  various  components  of  GALAXY  and  a stopcode
            occurs.


                                    7-79
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


         o  An undetected  error  eventually  causes  an  illegal  memory
            reference or an address check and a stopcode occurs.

         o  A hung device  condition  causes  the  monitor  to  halt  the
            program  or,  if  the program is detached, to put the program
            into  'TO'  (Terminal  Output)  state.   The  hung  condition
            usually  indicates  that  a device has hardware problems, the
            device controller is not functioning, or the CPU  failed  and
            the failure was trapped by PULSAR.

         o  A component goes into Event-Wait (EW) state for  an  extended
            length  of  time  waiting  for an event that is not likely to
            occur.  In this case, the program hangs in the UUO.

   You should take one of the  following  steps  if  a  GALAXY  component
   (program)  crashes.   Step  1  applies  to  a  stopcode error.  Step 2
   applies to a hardware error, and Step 3 applies to a software error.

        1.  Attach to the crashed job, and save the crash in DSK:[3,3] as
            xxxyyy.zzz, where:

            xxx - indicates an abbreviated name of the component, such as
                  BAT for BATCON, or QSR for QUASAR

            yyy - indicates the 3-character stopcode name

           .zzz - indicates  a  3-digit  number   (file   extension)   to
                  distinguish this file from others.

            You must  assign  the  entire  six-character  file  name  and
            three-character  file  extension.   Your  installation should
            maintain some form of crash recording method to establish the
            naming convention.

            After you have saved the crash, restart  the  component  that
            stopped, and detach the job.

        2.  Determine which device caused the monitor  to  terminate  the
            program.   This  can  usually be found by checking on the CTY
            for a ?HUNG DEVICE xxxx message.  The xxxx should contain the
            device.   If  the CPU is hung, the CTY message is ?CPU FAILED
            FOR DEVICE xxxx.  Next, run OPR  and  shut  the  device  down
            (SHUTDOWN  command).  A hung device error usually indicates a
            hardware problem.  Then restart the component, and detach the
            job.

        3.  Check to make sure that ACTDAE is running.  If  not,  perform
            the  ACTDAE  crash  recovery procedure described in Table 7-5
            below, before continuing.  Attach  to  the  component,  press
            <CTRL/C>, restart the component, and detach the job.




                                    7-80
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


   Table 7-5:  GALAXY Component Crash Recovery Procedures   Table 7-5:  GALAXY Component Crash Recovery Procedures


   ______________________________________________________________________

     Component                        Recovery
   ______________________________________________________________________

     ACTDAE        If ACTDAE crashes, it can  be  restarted.   However,
                   the  restart  may  leave  some  users'  jobs hung in
                   Event-Wait  (EW)  state.    This   happens   because
                   messages  queued  up  for ACTDAE will be lost during
                   the restart.  Users will not be able to log  in  and
                   log  out  while  ACTDAE  is  down.   LPTSPL, SPROUT,
                   SPRINT, and QUEUE will  hang  in  Event-Wait  state.
                   Restarting  ACTDAE  may necessitate restarting other
                   GALAXY  programs   to   restore   full   operational
                   capability.    After   restarting  GALAXY  programs,
                   process  ACTDAE  crashes  using  Recovery   Step   1
                   described  previously.   (ACTDAE tasks are described
                   in Chapters 8 and 9.)

     BATCON        If BATCON crashes, first display  the  batch  stream
                   status  from  OPR.   For  all  active batch streams,
                   attach to the job that is running in that stream and
                   log  it  out.   Logging the jobs out will not delete
                   the queue request.  The batch job will be  restarted
                   when  BATCON  is  restarted.   When all active batch
                   jobs have been logged  out,  attach  to  BATCON  and
                   follow Step 1 described previously.

     CDRIVE        If CDRIVE crashes, all  jobs  currently  being  read
                   into  card  readers will be lost and will have to be
                   restarted.  Restart CDRIVE and detach the job.

     LPTSPL        If LPTSPL crashes, it will automatically restart the
                   jobs  that  were  being processed at the time of the
                   crash, from the page number  recorded  in  the  last
                   checkpoint.    Follow  one  of  the  recovery  steps
                   described previously, restart LPTSPL, and detach the
                   job.

     OPR           If OPR  crashes,  follow  Step  1  of  the  recovery
                   procedures   listed   previously   and  restart  OPR
                   (.R OPR).  Be sure to start OPR in the same job slot
                   (that   is,   the  same  job  number),  if  you  are
                   restarting OPR without restarting ORION.  Do not log
                   out  the job that OPR was running in.  Merely attach
                   to the job, halt it (press <CTRL/C> twice) then type
                   the monitor command START.

     ORION         If ORION crashes, it should be restarted in the same


                                    7-81
                           GALAXY SOFTWARE TASKS                           GALAXY SOFTWARE TASKS


                   job  slot  (that  is,  it  must  have  the  same job
                   number).  If DECnet is running, log out the  Network
                   Management  Listener  (NML).  ORION will restart it.
                   All OPR programs that were running at the time  will
                   automatically  reset  the  OPR/ORION  link  with the
                   first command typed to OPR.  The first command  that
                   reestablishes  the OPR/ORION link will be lost.  Any
                   DN60 Termination remote stations should be shut down
                                                           _______  ___                   and   restarted.    (Refer   to   the   TOPS-10  IBM
                   _____________________ ______                   Emulation/Termination Manual for more  information.)
                   Then follow recovery Step 1 described previously.

     PULSAR        If PULSAR crashes,  users  accessing  MDA-controlled
                   tape   drives  and  structures  (devices  that  were
                   INITIALIZED and AVAILABLE, see Chapter 9) find  that
                   their jobs have entered Event-Wait (EW) state.  This
                   happens because messages queued up  for  PULSAR  are
                   lost.   These  user  jobs remain in this state after
                   you restart PULSAR because the restarted PULSAR does
                   not  recognize  any  requests made before the crash.
                   Users will have  to  press  <CTRL/C>  to  the  MOUNT
                   command, DEALLOCATE the tape drive or structure, and
                   MOUNT it again, if  appropriate.   You  should  then
                   follow Recovery Step 1 described previously.

     QUASAR        If    QUASAR    crashes,    user    requests     for
                   mounts/dismounts  involving devices AVAILABLE to the
                   mountable-device allocation system will be lost.  In
                   addition, programs using the QUEUE. UUO to interface
                   with QUASAR will hang in Event-Wait (EW) state.

                   To restart QUASAR, first determine which batch  jobs
                   were  running  at  the  time of the crash, attach to
                   them, and log them  out.   Then  attach  to  LPTSPL,
                   BATCON,  CDRIVE,  SPRINT,  PULSAR, ORION, NEBULA and
                   SPROUT, press <CTRL/C> to each of them, and log them
                   out.   QUASAR  crashes  should  be  processed  using
                   Recovery Step 1 described previously.   Now  restart
                   QUASAR.

     SPRINT        If SPRINT crashes, it can be restarted without  loss
                   of data.  Follow one of the recovery steps described
                   previously, restart SPRINT, and detach the job.

     SPROUT        If  SPROUT  crashes,  all   jobs   currently   being
                   processed  are  restarted  from the beginning of the
                   current file.  Follow  one  of  the  recovery  steps
                   described previously, restart SPROUT, and detach the
                   job.
   ______________________________________________________________________




                                    7-82












                                 CHAPTER 8                                 CHAPTER 8

                          SCHEDULED SOFTWARE TASKS                          SCHEDULED SOFTWARE TASKS



   This chapter describes the operating  tasks  that  most  installations
   consider standard (or scheduled).  You may be expected to perform some
   of these tasks daily or weekly.



   8.1  UPDATING THE MESSAGE OF THE DAY   8.1  UPDATING THE MESSAGE OF THE DAY

   The file SYS:NOTICE.TXT contains  messages  that  are  transmitted  to
   users  as  they log in.  These messages, normally preceded by the date
   on which they first appear, are usually brief  and  contain  important
   system information.  For example, a message may specify the hours that
   the system will  be  operating,  the  date  when  the  disks  will  be
   refreshed, or mention new system programs.

   You can change NOTICE.TXT during the day to warn users of problems  on
   the  system,  to notify them of your intention to stop timesharing, or
   to direct users to a more lengthy  file  for  additional  information.
   However, you must be familiar with a text editor to do this.

   To change, add, or delete a message in the file  NOTICE.TXT,  you  can
   log  in  under  [1,2]  and  run  a  text editing program such as TECO.
             ____________ __ ____         ____ _________ ______   (Refer to Introduction to TECO and the TECO Reference Manual.)


                            ----- Example -----

   In the following example, the operator wants to add a message on April
   12th  and delete a 3-line message dated March 18th.  Remember, this is
                                                     ___________   only an example.  You type  everything  that  is  underscored  in  the
   following example:

    _ ____ _____   .R TECO <RET>                      Run  TECO  and  specify  that  file
    _____________________   *EBSYS:NOTICE.TXT$EY$$             SYS:NOTICE.TXT is  to  be  updated.
                                      ESCape prints as $.

    ____ __ ____ __ __ _______ _____   *IAPR 12 THIS IS AN EXAMPLE <RET>  The I command inserts into the file


                                    8-1
                          SCHEDULED SOFTWARE TASKS                          SCHEDULED SOFTWARE TASKS


   __ _ ______ ________ _____   OF A 2-LINE MESSAGE. <RET>         everything following it up  to  the
                                      first  ESCape.  If the I command is
                                      your first command  to  TECO,  then
                                      TECO  makes  the  insertion  at the
                                      beginning of the file.  You  should
                                      always  insert  new messages at the
                                      beginning of NOTICE.TXT.

   __   $$                                 Press the ESCape key twice  to  end
                                      the insertion.

    ____ _________   *SMAR 18$0L3K$$                    The S command searches for the text
                                      "MAR 18", which uniquely identifies
                                      the old message, and  deletes  that
                                      line plus the next two lines.

    ____   *EX$$                              This  command  string  causes a new
   .                                  NOTICE.TXT to be filed and the  old
                                      version  to be saved as NOTICE.BAK,
                                      and causes you to  exit  from  TECO
                                      and return to monitor level.



   8.2  UPDATING THE ACCOUNTING FILE WITH REACT   8.2  UPDATING THE ACCOUNTING FILE WITH REACT

   The  REACT   program   maintains   the   system   authorization   file
   (SYS:ACTDAE.ACT).   It  enables  you to add, delete, and change user's
   LOGIN accounts.

                                  CAUTION

           Do not attempt to update the  accounting  file  unless
           you  are  completely  familiar with the REACT program.
           This program has no safeguards; therefore,  a  mistake
           can have serious consequences.

                   _______  ________  ____________  ______   Please see the  TOPS-10  Software  Installation  Guide,  for  complete
   information about REACT.



   8.3  CONTROLLING USAGE ACCOUNTING   8.3  CONTROLLING USAGE ACCOUNTING

   Usage  accounting  provides  a  method   for   collecting   accounting
   information  such  as CPU time, spooled requests, and disk space used,
   by  storing  this  information  in  the  ACT:USAGE.OUT  file.    Usage
   accounting  is  enabled  when  you  bring  your  system up and remains
   enabled.  You cannot turn the usage accounting facility off.  Refer to
   the TOPS-10/20 USAGE File Specification for more complete information.

   The OPR command, SET USAGE,  allows  you  to  write  usage  accounting


                                    8-2
                          SCHEDULED SOFTWARE TASKS                          SCHEDULED SOFTWARE TASKS


   information  to  the  ACT:USAGE.OUT file from a temporary file.  There
   are two methods that can be  used  to  do  this  with  the  SET  USAGE
   command.

        1.  Specify the BILLING-CLOSURE  keyword  with  a  time  argument
            (hh:mm).

        2.  Specify the FILE-CLOSURE keyword with one  of  the  following
            arguments:

             o  hh:mm (hours and minutes)

             o  DAILY hh:mm

             o  EVERY day hh:mm (where day is the name of a  day  in  the
                week)

             o  NOW

             o  mm-dd-yy hh:mm (where mm is the numeric month, dd is  the
                numeric day, and yy is the numeric year)

             o  /NO-SESSION-ENTRIES
                _______ __________ _______ ________ _________ ______   Refer to the TOPS-10 Operator's Command Language Reference Manual  for
   a complete description of the above keywords, arguments, and switch.

   Normally, the SET USAGE command is contained  in  your  SYS:SYSTEM.CMD
   file.   Your system manager may have set up an accounting billing rate
   for prime time users (for  example,  from  08:00  to  18:00)  and  for
   off-prime  time  users  (for example, from 19:00 to 07:00).  There may
   also be another accounting billing rate for weekend users.

                                  WARNING

           Consult with your system manager before  you  use  the
           SET  USAGE  command  because this command changes time
           parameters within the accounting database.

           When you use the SET USAGE command, either through the
           SYSTEM.CMD  file  or  through  the  OPR  terminal, the
           command remains in effect  indefinitely.   You  cannot
           cancel  or  clear  the  SET USAGE command after it has
           executed.


                            ----- Example -----

   On January 20, 1988, you use the  SET  USAGE  command  to  cause  file
   closure every Friday at 4:00 P.M.  (16:00 hours).

       ___ _____ ____________ _____ ______ _____ _____   OPR>SET USAGE FILE-CLOSURE EVERY FRIDAY 16:00 <RET>



                                    8-3
                          SCHEDULED SOFTWARE TASKS                          SCHEDULED SOFTWARE TASKS


   OPR>
   14:47:25          -- Will close usage file at 24-Jan-88 16:00:00 --

   OPR>

   On 24-Jan-88  and  every  Friday  thereafter,  the  following  message
   appears at 4:00 P.M.:

   OPR>
   16:00:01          -- Message from the Accounting System --
                   ACT.USAGE.OUT closed and renamed to yymmdd.hhx

   OPR>

   The "yymmdd.hhx" in the above message specifies a numeric filename and
   file extension in the format of year, month, day, hour, and sequence.



   8.4  MAINTAINING SYSTEM CATALOG FILES   8.4  MAINTAINING SYSTEM CATALOG FILES

   The CATALOG application in OPR enables  you  to  maintain  the  system
   catalogs  and  the  information  contained  in those files.  CATALOG's
   functions include:

         o  Creating, changing, and deleting catalog entries

         o  Enabling and disabling automatic catalog updates

         o  Listing all volume-sets in a catalog file

   The system catalog files contain information  that  is  necessary  for
   GALAXY  to  avoid  deadlocks  when  multiple  jobs  request  the  same
   mountable device (disk or magnetic tape).

   To enter CATALOG command level use the OPR command, ENTER, as follows:

       _____ ____________   OPR>ENTER CATALOG<RET>
   CATALOG>

   After you enter the CATALOG command subset, you can  type  a  question
                                                                  _______   mark  (?)  to display a list of the CATALOG commands.  See the TOPS-10
   __________ _______ ________  _________  ______   Operator's Command Language  Reference  Manual  for  more  information
   about CATALOG commands.



   8.5  SAVING ACCOUNTING FILES   8.5  SAVING ACCOUNTING FILES

   On a regular basis, you should save the system accounting files, which
   contain  all  the data necessary to compute user charges.  To save the
   accounting files, all other system jobs must be logged off  with  only


                                    8-4
                          SCHEDULED SOFTWARE TASKS                          SCHEDULED SOFTWARE TASKS


   one [1,2] job left.  Save the accounting files on both a magnetic tape
   and a private disk pack.  These files are used by billing programs  to
   produce   computer  usage  bills.   To  save  accounting  files,  type
                      ___________   everything that is underscored in the following dialog:

    ______ ___________________________ _____   .RENAME mmddyy.FCT[1,2]=FACT.*[1,4] <RET>
                                 Rename the accounting  files  from  SYS:
                                 to [1,2].
    _____ ___ _____   .MOUNT xxx <RET>              Mount the private pack xxx.
    _ ___ _____   .R PIP <RET>
    _____________________________ _____   *xxx:[PPN]/X/B=mmddyy.FCT[1,2] <RET>
                                 Run the  PIP  program  to  transfer  the
                                 accounting  files  to  the area [PPN] on
                                 the private pack, xxx.
    _____ ________________   .MOUNT MT:/SCRATCH<RET>       And mount a scratch tape on it.
    _ ______ _____   .R BACKUP <RET>               Run the BACKUP program.
    ____ ___ _____   /TAPE MT: <RET>               Identifies logical tape MT.
    ______ _____   /REWIND <RET>                 Rewind to the beginning of the tape.
    ____ __________ _____   /SAVE [1,2]*.FCT <RET>        Save all the files  with  the  extension
                                 .FCT in the [1,2] area.
   !1,2 DSKB                     BACKUP prints the UFD as  it  begins  to
                                 save files from that area.
       .
       .
       .
   "Done                         The SAVE is complete.



   8.6  SAVING GRIPE FILES   8.6  SAVING GRIPE FILES

   During timesharing, the user can run the GRIPE program.  This  program
   allows  the  user to enter suggestions, complaints, or other comments,
   which are then stored in disk files named CMPnnn.CMP  on  area  [3,3].
   These text files may be copied to another disk area, or printed on the
   line printer.



   8.7  RIDDING THE SYSTEM OF DETACHED JOBS   8.7  RIDDING THE SYSTEM OF DETACHED JOBS

   The following  procedure  eliminates  detached  jobs  that  have  been
   inactive  for  a long period of time.  Such inactive jobs may be using
   up job slots needed by users, however, this action should not be taken
   without the instruction of your system manager.

        1.  Run SYSTAT at different times, to determine the inactive jobs
            that must be eliminated.

        2.  Attach to the inactive jobs from  a  TTY  at  which  you  are
            logged  in  under  [1,2], and attempt to log them off.  To do
                                          ___________            this, type everything that is underscored  in  the  following


                                    8-5
                          SCHEDULED SOFTWARE TASKS                          SCHEDULED SOFTWARE TASKS


            dialog:

              ______ _________ _____             .ATTACH 5[40,111] <RET>
                                 Attach to job 5, user [4,111].
             From Job 2          Monitor response.
              ________             .<CTRL/C>           Type <CTRL/C> to return to the monitor.
              ___ _____             .K/F <RET>          Log out the job.

        3.  Make a note on the SYSTAT output concerning the action  taken
            and file the SYSTAT in the System Logbook.

   If the user is over quota or if his job has eternal  ENQ.  locks  set,
   you  will  be  unable  to  log out the job.  In that case, perform the
   following steps:

                                    ___________        1.  Type everything that is underscored in the following dialog:

              ________             .<CTRL/C>           Type <CTRL/C> to return to the monitor.
              ______ _____             .DETACH <RET>       Detach the job.
             From Job 5          Monitor response.

        2.  Make a note on the SYSTAT that the job could  not  be  logged
            off and file the SYSTAT in the System Logbook.

   The ATTACH  command  detaches  your  current  job  and  attaches  your
   terminal  to  a  detached  job.   To  reattach  your  terminal to your
   original job, make note of your job number before you use  the  ATTACH
   command.   After  logging  out  or detaching the user's job, attach to
   your original job by typing:

    ______ ____ _____   .ATTACH jobn [1,2]

                  _____   Password:      <RET>

                  _______  _________  ______  ________  ______   Refer to  the  TOPS-10  Operating  System  Commands  Manual  for  more
   information about the monitor commands ATTACH and DETACH.



   8.8  BACKING UP THE SYSTEM (DAILY)   8.8  BACKING UP THE SYSTEM (DAILY)

   At a scheduled time each day, you should run  the  BACKUP  program  to
   save  on  magnetic  tape  all files that have been created or modified
   since the same time the day before.  This  is  called  an  incremental
   save.  (Refer to Appendix E for a complete discussion of BACKUP.)

   You should file the log output of all BACKUP procedures in the  System
   Logbook.   If  files  are lost during a system crash, you can refer to
   the BACKUP logs to determine which magnetic tapes contain the files to
   be  restored.   This  assumes  that  you  have  set  up some system of
   externally  labeling  the  magnetic   tapes   and   that   you   enter
   corresponding tape identification in the logs.


                                    8-6
                          SCHEDULED SOFTWARE TASKS                          SCHEDULED SOFTWARE TASKS


   To save all the files that have been created or modified  since  6  PM
                                           ___________   yesterday,  type  everything  that  is  underscored  in  the following
   dialog:

    _____ ________________   .MOUNT MT:/SCRATCH<RET>       Mount a tape for the BACKUP program.
    _ ______ _____   .R BACKUP <RET>               Run the BACKUP program.
    ____ ___ _____   /TAPE MT: <RET>               Identifies logical tape MT.
    ______ _____   /REWIND <RET>                 Rewind to the beginning of the tape.
    ______________________ _____   /MSINCE:YESTERDAY:18:00 <RET> Limit the SAVE to all files  created  or
                                 modified since 6 PM yesterday.
    ____ _____   /SAVE <RET>                   Save the files.
   !1,2 DSKB                     BACKUP prints each UFD as it  begins  to
                                 save files from that area.
       .
       .
       .
   "Done                         The SAVE is complete.



   8.9  BACKING UP THE SYSTEM (WEEKLY)   8.9  BACKING UP THE SYSTEM (WEEKLY)

   Once a week, you should use the BACKUP  program  to  save  the  entire
   contents  of  the  system  disk  structures on magnetic tape.  This is
   called a full save.  Once you have saved the files,  you  can  refresh
   the  disk structures.  (Refer to the following section for information
   on refreshing disk structures.) Then you can restore  the  files  from
   the tapes.

   The following is an example of one way to save  the  contents  of  the
   system disks.  Perform the following steps:

        1.  Run OPR and use the SET KSYS command to stop timesharing.

             _ ________            .R OPR<RET>
                ___ ____ __________            OPR>SET KSYS +0:05<RET>
            OPR>

                                                              ___________        2.  When timesharing stops, type everything that  is  underscored
            in the following dialog:

             _____ ________________            .MOUNT MT:/SCRATCH<RET>
                                 Mount a tape for the BACKUP program.
             _ ______ _____            .R BACKUP <RET>      Run the BACKUP program.
             ____ ___ _____            /TAPE MT: <RET>      Identifies logical tape MT.
             ______ _____            /REWIND <RET>        Rewind to the beginning of the tape.
             ____ ____ _____            /LIST DSK: <RET>     Request a directory listing of disk.
             ____ _____ _____            /SAVE DSKB: <RET>    Save system disk.
            !1,2 DSKB            BACKUP prints each UFD as it  begins  to
                                 save files from that area.
                .
                .


                                    8-7
                          SCHEDULED SOFTWARE TASKS                          SCHEDULED SOFTWARE TASKS


                .
            "Done                The SAVE is complete.

        3.  Repeat Step 2 to save other system disks.

   If the data overflows a reel of tape, you will receive  the  following
   message:

   [BKPAMD Asking MDA for next volume]

   Replace the full tape with a new tape and type GO.



   8.10  REFRESHING FILE STRUCTURES   8.10  REFRESHING FILE STRUCTURES

   Two reasons that you may want to refresh file structures are:

        1.  To free up lost disk space.

            Lost disk space is space that was allocated to a user who was
            unable  to use it before the system crashed.  When the system
            came back up again, the space was still allocated.   However,
            because the owner did not close the file before the crash, no
            one owns it.  Therefore, it is lost.

        2.  To reorganize the disk.

            Over time, the system files become  fragmented  as  they  are
            used.   Each  of  these fragments contain retrieval pointers.
            Retrieval pointers not only take up space on  the  disk,  but
            the CPU wastes overhead time finding them.

            When you save all files, refresh the disk,  and  restore  the
            files to the disk.  The system consolidates the fragments and
            removes the extra retrieval pointers.   Therefore,  the  disk
            contains  the  same files as before, but the files are better
            organized.

   There are two ways to refresh file structures:

        1.  Reload the monitor.  (See Chapter 5).

        2.  Run the system executable file (usually SYSTEM.EXE).

   Either of these methods starts the system startup  dialog.   For  more
                                                        _______  ________   information   refer  to  the  ONCE  dialog  in  the  TOPS-10  Software
   ____________ _____   Installation Guide.






                                    8-8
                          SCHEDULED SOFTWARE TASKS                          SCHEDULED SOFTWARE TASKS


   8.11  ANALYZING SYSTEM FILE STRUCTURES WITH DSKLST   8.11  ANALYZING SYSTEM FILE STRUCTURES WITH DSKLST

   The DSKLST program compiles and prints an analysis of the contents and
   the  current  status  of  the system file structures.  It provides the
   information with which you and the system  administrator  can  do  the
   following:

         o  Analyze the efficiency of disk space usage.

         o  Detect and diagnose problem areas on disk.

         o  Determine when to refresh the various disk areas.

         o  Determine optimum cluster sizes for assigning  and  releasing
            file storage space.

   To run DSKLST while logged in under [1,2],  type  everything  that  is
   ___________   underscored in the following dialog:

    ______ ___ ___ _____   .ASSIGN DSK LPT <RET>         Assign the disk to  receive  the  DSKLST
                                 output rather than the printer.
    _ ______ _____   .R DSKLST <RET>               Run  the  DSKLST  program,  which   will
                                 prompt with an asterisk.
   FOR HELP TYPE /H
     _____   * <RET>                       Press RETURN to print all DSKLST  output
                                 for all structures.
    ________   *<CTRL/C>                     Type CTRL/C to return to the monitor.
    _____ __________ _____   .PRINT DSKLST.LST <RET>       Queue the report to be printed.

   If you include the above  steps  in  a  batch  control  file  such  as
   DSKLST.CTL,  you  can  submit  the  job  to  run  under batch with the
   command:

    ______ ______ _____   .SUBMIT DSKLST <RET>

   Refer to the DSKLST Specification in the TOPS-10 Software Notebook Set
   for more information on DSKLST.



   8.12  OBTAINING DISK ERROR INFORMATION WITH DSKRAT   8.12  OBTAINING DISK ERROR INFORMATION WITH DSKRAT

   The DSKRAT program compiles and prints  damage-assessment  information
   for  disk file structures.  It can also free up lost disk space.  Lost
   disk space is space that was allocated to a user who was unable to use
   it before the system crashed.  When the system came back up again, the
   space was still allocated.  However, because the owner did  not  close
   the file before the crash, no one owns it.  Therefore, it is lost.

   To recover lost disk space, you must run DSKRAT  standalone  with  the
   SCHED  bit  set  to 1.  If no other jobs are running, DSKRAT will then
   create a file called LSTBLK.nnn  in  the  [1,2]  area.   After  DSKRAT


                                    8-9
                          SCHEDULED SOFTWARE TASKS                          SCHEDULED SOFTWARE TASKS


   exists  to  return all lost disk space to the free usage pool, you may
   delete LSTBLK.nnn.

   To run DSKRAT while logged in under [1,2],  type  everything  that  is
   ___________   underscored in the following dialog:

    ______ ___ ___ _____   .ASSIGN DSK LPT <RET>         Assign printer output to the disk.
    ______ ___ ___ _____   .ASSIGN str STR <RET>         Assign the logical device  name  STR  to
                                 the  file  structure  "str" that you are
                                 analyzing.
    _ ______ _____   .R DSKRAT <RET>               Run the DSKRAT program.
    _____ _______ _____   .PRINT RAT.LST <RET>          Queue the report to be printed.

   If more than one structure is to be analyzed, repeat  the  last  three
   lines of this dialog using different "str"s.

   To run this procedure under batch, include the above command  sequence
   in a file DSKRAT.CTL and submit it to batch with:

    ______ __________ _____   .SUBMIT DSKRAT.CTL <RET>

   Refer to the DSKRAT Specification in the TOPS-10 Software Notebook Set
   for more information on DSKRAT.































                                    8-10












                                 CHAPTER 9                                 CHAPTER 9

                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS



   The tasks in this chapter are considered  unscheduled  software  tasks
   because they are performed as needed.  If any of these tasks should be
   scheduled at your installation, decide upon a schedule for  them  with
   your system manager.



   9.1  CONTROLLING THE ORION LOG FILE   9.1  CONTROLLING THE ORION LOG FILE

   ORION maintains  a  log  of  all  messages  sent  through  it.   ORION
   timestamps  and  identifies  the  type  of  message  and  provides any
   additional information available.  This function of ORION is  referred
   to as a Centralized Logging Facility.

   The ORION log file contains all OPR-to-ORION commands and transactions
   performed  at  the  operator's  console.   The  following OPR commands
   control this logging facility:

         o  ENABLE LOGGING

         o  DISABLE LOGGING

         o  CLOSE LOG

   If your installation has ANF-10 network  software,  only  an  operator
   with  HOST  or  SYSTEM  privileges  can  issue  any  of  the above OPR
   commands.

   The Centralized Logging Facility is on by default at system  start-up,
   but  can  be  disabled  by  placing the DISABLE LOGGING command in the
   SYSTEM.CMD file, or by using this command at OPR command level.

   To enable the Centralized  Logging  Facility  again,  use  the  ENABLE
   LOGGING  command  at  OPR  command level, or place this command in the
   SYSTEM.CMD file.

   The CLOSE LOG command closes the current log  file  and  automatically


                                    9-1
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   creates a new one.  When the CLOSE LOG command is issued, the log file
   is closed and renamed to OPERAT.nnn.  The file extension of closed log
   files  is numbered sequentially starting from 001.  You can then print
   the log file on the line printer to obtain a  hard  copy  of  all  the
   ORION messages for a given time period.

   The CLOSE LOG command also enables you to include date  and  arguments
   that specify a future time to close the log file.  Use the SHOW QUEUES
   EVENTS command to display pending ORION log file closure times.

   The name of the log file is determined when your system  manager  runs
                              _______ ________ ____________ _____   GALGEN.   (Refer  to  the  TOPS-10 Software Installation Guide for the
   GALGEN procedures.) The default file name is OPERAT.nnn.


                            ----- Examples -----

        1.  Disable the logging facility for a period of time  while  the
            system is operating stand-alone.

                _______ _______ _____            OPR>DISABLE LOGGING <RET>

            OPR>
            08:52:12        -- ORION Logging Disabled by JOB 6 OPERATOR
                              [1,2] at terminal 14 --

            OPR>

        2.  Close the current log file and automatically create a new log
            file.

                _____ ___ _____            OPR>CLOSE LOG <RET>

            OPR>



   9.2  DUAL PATH ACCESS TO MAGTAPE   9.2  DUAL PATH ACCESS TO MAGTAPE

   It is possible to share a string of TU70,  71,  72,  or  TU78/79  tape
   drives  between  two systems.  In the case of the TU70, 71, 72, a TX03
   switch is installed in the TX01/02 controller.  In  the  case  of  the
   TU78/79s,  the  TM78/79 controller can be dual-ported between RH20s on
   two separate systems, and A/B  switch  position  is  employed  on  the
   drives similar to that used on Massbus disk drives.



   9.3  INITIALIZING TAPES   9.3  INITIALIZING TAPES

   Occasionally you may be asked  to  initialize  and/or  reinitialize  a
   magnetic tape.  When you initialize a tape, the system writes specific


                                    9-2
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   information on the tape pertaining to the identification of the  tape.
   When  you  initialize  a  tape  specifying  an ANSI or EBCDIC standard
   label, the system writes the following information on the tape:

         o  A  standard   volume   label   that   contains   the   volume
            identification (volid) of the tape

         o  Standard header and trailer labels.  Later, when  a  file  is
            written   on   the   tape,   these  labels  contain  specific
            information pertaining to the file.

   To initialize one or more tapes, use the following OPR command:

       ___ __________ _____  __________ _________________________   OPR>SET TAPE-DRIVE MTxn:  INITIALIZE /switch1,/switch2,...RET>

   where x is the tape controller identification and n is the tape  drive
   number.

   Table  9-1  describes  the  valid  switches  for  the  SET  TAPE-DRIVE
   INITIALIZE command:


   Table 9-1:  SET TAPE-DRIVE INITIALIZE Switches   Table 9-1:  SET TAPE-DRIVE INITIALIZE Switches

   ______________________________________________________________________

                 Switch                           Meaning
   ______________________________________________________________________

     /ABORT                           allows the operator  to  abort  a
                                      tape initialization in progress.

                                      This resets the tape drive  to  a
                                      "normal"    state,    making   it
                                      available    for    user    mount
                                      requests.

     /COUNT:nn                        specifies  the  number  (nn)   of
                                      tapes  to  be  initialized.   The
                                      /COUNT  switch,  when  specified,
                                      provides    a    mechanism    for
                                      initialization of multiple  tapes
                                      with  the same attributes.  After
                                      initialization,   the   tape   is
                                      automatically  unloaded  and  the
                                      tape drive is ready to accept the
                                      next  tape  to  initialize.  When
                                      the number of tapes specified  by
                                      nn has been initialized, the tape
                                      drive returns  to  the  available
                                      state.



                                    9-3
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


     /DENSITY:nn                      specifies  the  density  of   the
                                      tapes  to  be  initialized.   The
                                      number (nn) can be 200, 556, 800,
                                      1600,       or      6250      BPI
                                      (Bits-Per-Inch).  If you  do  not
                                      specify  the /DENSITY switch, the
                                      density defaults to  the  default
                                      density for that drive.

     /INCREMENT:nn                    specifies the numeric value  (nn)
                                      by  which  to  increment the tape
                                      volumes.  This  switch  is  valid
                                      only   when  specified  with  the
                                      /COUNT and  /VOLUME-ID  switches.
                                      If   you   do  not  include  this
                                      switch, the default numeric value
                                      is 1.  For example, to initialize
                                      a set of  10  tapes  with  volids
                                      from  442000  through 442900, use
                                      the      switches      /COUNT:10,
                                      /INCREMENT:100,               and
                                      /VOLUME-ID:442000.   Every   tape
                                      mounted  on  the  tape  drive  is
                                      initialized   with    the    next
                                      sequence  number  as specified by
                                      the /INCREMENT switch.

     /LABEL-TYPE:type                 specifies the type of label to be
                                      written  on  the  tape.  The type
                                      can   be   ANSI,    EBCDIC,    or
                                      UNLABELED.   The default label is
                                      ANSI  when   you   specify   this
                                      switch.   If  you  do not specify
                                      the   /LABEL-TYPE   switch,   the
                                      default  is that specified in the
                                      GALGEN  dialog  by   the   system
                                      manager.

     /OVERRIDE-EXPIRATION:YES or NO   specifies whether  to  check  for
                                      expiration  date  of  the data on
                                      the tape.  If you specify NO  and
                                      attempt to reinitialize a labeled
                                      tape  whose  first  file  is  not
                                      expired,  the  system  issues  an
                                      error  message   and   does   not
                                      reinitialize  the  tape.   If you
                                      specify   YES,   each   tape   is
                                      reinitialized    unconditionally.
                                      If you  are  initializing  virgin
                                      tapes,  you should specify YES to
                                      prevent  the  tape   drive   from
                                      "running  away" when PULSAR tries


                                    9-4
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


                                      to read a label  from  the  tape.
                                      If   you   do  not  specify  this
                                      switch, the default is YES.

     /OWNER:[PPN]                     specifies the  project-programmer
                                      number  of  the user who owns the
                                      tape(s) to  be  initialized.   If
                                      you  do  not  specify  the /OWNER
                                      switch, the tape  is  initialized
                                      with no owner and a protection of
                                      000.

     /PROTECTION:nnn                  specifies a 3-digit octal  number
                                      as  the  protection number of the
                                      tape.  The number ranges from 000
                                      (where  anyone  can use the tape)
                                      through 777 (where no one can use
                                      the tape).  If you do not specify
                                      the   /PROTECTION   switch,   the
                                      default   is  the  standard  file
                                      protection     (usually     057).
                                      However,  if  you omit the /OWNER
                                      switch, then  the  protection  is
                                      set to 0.  The protection code is
                                                                _______                                      described    in    the    TOPS-10
                                      _________ ______ ________ ______                                      Operating System Commands Manual.

     /TAPE-DISPOSITION:condition      specifies what is to be  done  to
                                      the tape after it is initialized.
                                      The condition can be either  HOLD
                                      or  UNLOAD.  If you specify HOLD,
                                      the tape is  initialized  and  is
                                      not  unloaded.   If  you  specify
                                      UNLOAD, the tape  is  initialized
                                      and  is  unloaded  from  the tape
                                      drive.  The  default  is  UNLOAD.
                                      If  a  value  greater  than  1 is
                                      specified by the  /COUNT  switch,
                                      the    /TAPE-DISPOSITION   switch
                                      applies   to   the   last    tape
                                      initialized.

     /VOLUME-ID:volid                 specifies a volume identification
                                      for  the tape.  The volid must be
                                      from  1  to  6  characters.   The
                                      volid   must   be   made   up  of
                                      alphanumeric   characters   only.
                                      This  switch  is not necessary if
                                      the tape is being initialized  as
                                      an unlabeled tape.
   ______________________________________________________________________



                                    9-5
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   When you use a tape drive for initializing tapes, the  tape  drive  is
   not  available  for  user  mount  requests.   When  the initialization
   process is complete, the tape drive  automatically  becomes  available
   for user mount requests.  To force a tape drive out of initialize mode
   prematurely, use /ABORT.


                            ----- Examples -----

   1.   A user (JONES.J) has requested a tape mount of  an  ANSI  labeled
        tape with a volid of TAPE01 and has requested that you initialize
        the tape first.  The volume is initialized with ANSI labels and a
        volid of TAPE01.  The drive default for density (in this example,
        1600 BPI) and protection  (057)  are  used.   When  the  tape  is
        mounted  on the drive, the tape is initialized and the drive then
        becomes available to the user  (/TAPE-DISPOSITION:HOLD).   Volume
        recognition  takes  over  and  satisfies  the  mount  request for
        TAPE01.

   OPR>
   12:11:34          -- Magtape mount request #31 --
                   User: JONES.J [31,5723] Job# 39
                   Volume-set-name: MTA-DJ6YIH

                   Volume-ID   Write   Labels  Track  Density
                   ---------  -------  ------  -----  -------
                   TAPE01     Enabled  ANSI      9    1600

   OPR>

   Mount and ready the tape supplied by the user.

   OPR>
    9:04:38       Device MTA3  -- Unlabeled volume mounted --
                  Density 1600 BPI, write-Enabled

       ___ __________ _____ __________ _________________ _____   OPR>SET TAPE-DRIVE MTA3: INITIALIZE /LABEL-TYPE:ANSI- <RET>
   _______________________________________________________ _____   /OWNER:[31,5723]/TAPE-DISPOSITION:HOLD/VOLUME-ID:TAPE01 <RET>

   OPR>
    9:05:12       Device MTA3  -- Volume initialized --
                  Volume Id:TAPE01, Label type:ANSI, Density:1600
                  Owner:[31,5723], Protection:057

   OPR>
    9:05:14       Device MTA3  -- Volume Initialization Complete --
                  Drive is available for use

   OPR>
    9:05:20       Device MTA3  -- Volume TAPE01 Reassigned --
                  User: JONES.J [31,5723] Job# 39



                                    9-6
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   OPR>

   2.   You initialize two tapes with ANSI-standard labels.

       ___ _____   OPR>REC MTA3:
   OPR>
    6:17:58       Device MTA3  -- Unlabeled volume mounted --
                  Density 1600 BPI, Write-Enabled

       ___ ____ _______________ ________ _____________ ____________ _   OPR>SET TAPE MTA3:INITIALIZE /COUNT:2 /DENSITY:1600 /INCREMENT:1 -
   ________________ ________________________ ______________ _   /LABEL-TYPE:ANSI /OVERRIDE-EXPIRATION:YES /OWNER:[10,56] -
   _______________ ________________________ ______________________   /PROTECTION:057 /TAPE-DISPOSITION:UNLOAD /VOLUME-ID:TEST00<RET>
   OPR>
    6:18:43       Device MTA3  -- Volume initialized --
                  Volume Id:TEST00, Label type:ANSI, Density:1600
                  Owner:[10,56], Protection:057

    6:18:44 <6>   Device MTA3 -- Please load next tape to be initialized --
       Its volume identifier will be TEST01
       Type 'RESPOND <number> ABORT' to terminate this operation
       Type 'RESPOND <number> PROCEED' after completing requested operation

   Mount and ready the next tape.

   OPR>
    6:19:20       --Message 6 canceled by user [1,2] job 8--

    6:19:22       Device MTA3 -- Volume initialized --
                  Volume Id:TEST01, Label type:ANSI, Density:1600
                  Owner:[10,56], Protection:057

    6:19:23       Device MTA3 -- Volume initialization complete --
                  Drive is available for use

    6:19:23       Device MTA3  -- Offline --



   9.4  HANDLING MAGTAPE MOUNT REQUESTS   9.4  HANDLING MAGTAPE MOUNT REQUESTS

   There are two types of tapes you may be requested to  mount:   labeled
   tapes  and unlabeled tapes.  The differences in handling the two types
   of tape requests are explained in the following  sections.   The  user
   must  issue  a  MOUNT command to request that a tape be mounted.  When
   the system receives this request, OPR prints the following message:

   hh:mm:ss          -- Magtape mount request #nn --
                   User: username [PPN] Job# nn
                   Volume-set-name: name

                   Volume-id   Write   Labels  Track  Density
                   ---------  -------  ------  -----  -------


                                    9-7
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


                   (tape conditions)

   where:

        hh:mm:ss       specifies  the  time  the  operator  received  the
                       message.

        request #nn    specifies the request-id number  assigned  to  the
                       mount request.

        username       specifies the name of  the  user  who  issued  the
                       MOUNT command.

        [PPN]          specifies the user's project-programmer number.

        Job# nn        specifies the job number assigned to the user upon
                       logging onto the system.

        Volume-set-name:  name

                       specifies the volume set name the user assigned in
                       his MOUNT command.

        Volume-id      specifies the volid of the tape.  The user assigns
                       this  volid  with  the /REELID switch in the MOUNT
                       command.

        Write          specifies   whether   the    tape    is    Enabled
                       (write-enabled) or Locked (write-locked).

        Labels         specifies the type of label, either ANSI,  EBCDIC,
                       NO  (for  no  labels),  or BYPASS (to bypass label
                       processing).

        Track          specifies the tape tracks, either 7 or 9.

        Density        specifies the tape density in Bits-Per-Inch (BPI).
                       The  densities  can be either 200, 556, 800, 1600,
                       or 6250.

   If the user includes a remark with the /REMARK  switch  in  the  MOUNT
   command,  you  can  display  the  remark  when you use the SHOW QUEUES
   MOUNT-REQUESTS command with the /ALL switch.



   9.4.1  Displaying Tape Drive Status   9.4.1  Displaying Tape Drive Status

   If you need to find out the status of one or all of the tape drives on
   your system, use the following OPR command:

       ____ ______ __________ _____  _______ _____   OPR>SHOW STATUS TAPE-DRIVE MTxn:  /switch <RET>


                                    9-8
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   where MTxn is optional, and identifies the  tape  controller  and  the
   tape drive.

   Instead of specifying a magnetic tape unit number you can use  one  of
   the following switches:

    Switch                                 Meaning

     /ALL          displays the status of all  the  tape  drives  on  the
                   system.   This  switch  causes the system to print the
                   following information:

                    o  The unit number of the tape drive (MTxnnn:)

                    o  The number of tracks (7 or 9) that  the  drive  is
                       set to read and write.

                    o  The  current  status  of  the  tape  drive  (Free,
                       Online, or Unavailable)

                    o  The status of AVR (Automatic  Volume  Recognition)
                       on the tape drive (Yes = Enabled or No = Disabled)

                    o  The write mode of the tape (Enabled or Locked)

                    o  The volume identification of the tape on the drive

                    o  The job number  of  the  user  who  has  the  tape
                       assigned to his job.

                    o  The name and PPN of the  user  who  has  the  tape
                       assigned to his job.

     /FREE         displays the tape drives that are available (Free)  to
                   you for mounting tapes.  With this switch, the display
                   shows the drive unit number, the status,  and  whether
                   AVR is enabled or not.


   If you do not give a physical device or one of the above switches, the
   display defaults to the /ALL switch.


                            ----- Examples -----

   1.   Use the SHOW STATUS TAPE-DRIVE command.

            ____ ______ _______________        OPR>SHOW STATUS TAPE-DRIVE<RET>

        OPR>
        10:14:28                -- Tape Drive Status --



                                    9-9
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


        Drive   Trk  Status     AVR  Write  Volume Job        User
        ------  --- ----------- --- ------- ------ --- ------------------
        MTA0     9  Free        Yes
        MTA1     9  Free        Yes
        MTA2     9  Online      Yes Enabled TEST01 185 BROWN.E [27,5107]
        MTA3     9  Unavailable No
        MTA4     9  Online      Yes Locked  PIPTAP 235 RON LUSK [30,5524]
        MTA5     7  Free        Yes


        OPR>

   2.   Use the SHOW STATUS TAPE-DRIVE command with the /FREE switch.

            ____ ______ __________ _____ _____        OPR>SHOW STATUS TAPE-DRIVE /FREE <RET>

        OPR>
        10:18:45                -- Tape Drive Status --

        Drive   Trk  Status      AVR
        ------  --- -----------  ---
        MTA0     9  Free         Yes
        MTA1     9  Free         Yes
        MTA5     7  Free         Yes


        OPR>



   9.4.2  Controlling Tape Drive Volume Recognition (AVR)   9.4.2  Controlling Tape Drive Volume Recognition (AVR)

   Volume recognition allows you to mount a labeled tape without  telling
   the  system  the  volume identification of the tape.  When you mount a
   labeled tape on a drive that has volume  recognition  enabled,  PULSAR
   automatically reads the volume identifier from the volume label.

   If your system is using labeled tapes, then it is likely  that  volume
   recognition  has  been  enabled.   Volume  recognition  is  enabled by
   default.  If you need to disable volume recognition  for  one  or  all
   tape drives, use the following OPR command:

       _______ __________________ ________ _____   OPR>DISABLE VOLUME-RECOGNITION argument <RET>

   where the argument can be:

        MTxn:  (for a specific tape drive)

         or

        TAPE-DRIVES (for all tape drives)



                                    9-10
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   One reason for disabling volume recognition on  a  tape  drive  is  to
   avoid runaway tapes when you are initializing tapes.  When you disable
   volume recognition, OPR prints the following message  confirming  that
   volume recognition has been disabled:

   hh:mm:ss        Device MTxn  -- Volume Recognition is Disabled --

   In addition, you can check the status of the tape drive with  the  OPR
   command SHOW STATUS TAPE-DRIVE /ALL.

   You can enable volume recognition for one or more of the  tape  drives
   on your system by using the following OPR command:

       ______ __________________ ________ _____   OPR>ENABLE VOLUME-RECOGNITION argument <RET>


                            ----- Example -----

   Disable volume recognition for tape drive 0 (MTA0:).

       _______ __________________ _____ _____   OPR>DISABLE VOLUME-RECOGNITION MTA0: <RET>

   OPR>
   12:23:45        Device MTA0  -- Volume Recognition is Disabled --

   OPR>



   9.4.3  Handling Labeled Tapes with AVR Enabled   9.4.3  Handling Labeled Tapes with AVR Enabled

   When a user issues a MOUNT command for a labeled tape, you  receive  a
   message similiar to the following:

   OPR>
   10:15:43          -- Magtape mount request #12 --
                   User: BROWN.E [27,5107] Job# 59
                   Volume-set-name: MTA-GY31OL

                   Volume-ID   Write   Labels  Track  Density
                   ---------  -------  ------  -----  -------
                   100200     Locked   ANSI      9    1600

   OPR>

   If the user has not already given you the tape,  you  must  mount  the
   tape on a drive that has volume recognition enabled.  When the tape is
   brought on line, PULSAR automatically reads the  label  and  prints  a
   message similar to the following on your terminal:

   OPR>
   10:15:43        Device MTA0  -- Labeled Volume Mounted --


                                    9-11
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


                   Density 1600 BPI, Write-Locked ANSI Label

   OPR>
   10:15:45        Device MTA0  -- Volume 100200 Reassigned --
                   User: BROWN.E [27,5107] Job# 59

   OPR>

   When finished using the tape drive, the user issues a DISMOUNT command
   to  release  the  tape  drive.  When this command is given, the system
   prints a message similar to the following on your terminal:

   OPR>
   11:20:33        Device MTA0  -- Released --
                   User: BROWN.E [27,5107] Job# 59

   OPR>



   9.4.4  Handling Labeled Tapes with AVR Disabled   9.4.4  Handling Labeled Tapes with AVR Disabled

   When a user issues a MOUNT command, you see the same mount request  as
   explained  in  Section  9.4.3.  However, because volume recognition is
   disabled, PULSAR does not automatically read  the  label.   Therefore,
   you  must  use the OPR command RECOGNIZE to inform QUASAR of the label
   information.

   For example, a user requests a labeled tape whose volid is  112233  to
   be  mounted  on a tape drive.  You mount the tape on a tape drive that
   has volume recognition disabled, for example, MTA0:.  After you  bring
   the tape on line, use the following command:

       _________ _____ _____   OPR>RECOGNIZE MTA0: <RET>

   This command causes the labels on the tape to be read, and the tape to
   be reassigned to the user request.



   9.4.5  Handling Unlabeled Tapes   9.4.5  Handling Unlabeled Tapes

   When a user requests that an unlabeled  tape  be  mounted  on  a  tape
   drive,  the  mount  request  you  see  is  the same as the ones in the
   previous sections with the exception that the "label-type" is shown as
   "No  Labels."  To  assign  the tape to a user, or to associate a volid
   with the tape, use the OPR command IDENTIFY.

   After you have mounted the tape on a free tape drive, use the IDENTIFY
   command  to  associate  the tape with the mount request.  In addition,
   you can use the IDENTIFY command to  assign  a  volume  identification
   (volid) to the unlabeled tape.


                                    9-12
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   For example, a user requests that an unlabeled tape be mounted with  a
   volid  of  TEST01.   When  the  mount request is processed, the system
   prints the following message on your terminal:

   OPR>
   10:20:10          -- Magtape mount request #12 --
                   User: SMITH [10,5353] Job# 21
                   Volume-set-name: MTA-Y57HAB

                   Volume-ID   Write   Labels  Track  Density
                   ---------  -------  ------  -----  -------
                   TEST01     Locked   No        9    1600

   OPR>

   When you receive this  request,  locate  and  mount  the  tape  on  an
   available  tape  drive  and  then  use  the  IDENTIFY  command  in the
   following formats.

       ________ _____ _________ ______ _____   OPR>IDENTIFY MTxn: VOLUME-ID TEST01 <RET>

       ________ _____ __________ __ _____   OPR>IDENTIFY MTxn: REQUEST-ID 12 <RET>

   where MTxn is the tape unit.

   This procedure assumes that volume recognition is enabled.  If  volume
   recognition  is disabled on the tape drive, you must use the RECOGNIZE
   command before either of the  IDENTIFY  commands  shown  above.   This
   permits  QUASAR  to know the tape is mounted on the tape drive, before
   you identify it.  For example,

       _________ _____ _____   OPR>RECOGNIZE MTxn: <RET>

   where MTxn is the tape unit.


                            ----- Example -----

   A user requests that you mount an unlabeled tape and you comply.

   OPR>
   12:25:09          -- Magtape mount request #57 --
                   User: PACELLI [2,134] Job 43
                   Volume-set-name: MTA-JM05KL

                   Volume-ID   Write   Labels  Track  Density
                   ---------  -------  ------  -----  -------
                   SCR123     Locked   No        9    1600

   OPR>

   Mount and ready an unlabeled tape on tape drive MTA2:.


                                    9-13
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   12:27:32        Device MTA2  -- Unlabeled Volume Mounted --
                   Density 1600 BPI, Write-Locked
   OPR>

   Then reply to OPR with:

       ________ _____ __________ __ _____   OPR>IDENTIFY MTA2: REQUEST-ID 57 <RET>

   OPR>
   12:28:33        Device MTA2  --Volume SCR123 Reassigned--
                   User: PACELLI [2,134] Job# 43

   OPR>



   9.4.6  Dismounting Tapes   9.4.6  Dismounting Tapes

   When a user has completed the desired tasks with the mounted tape, the
   user  should  use the monitor command DISMOUNT (or DEASSIGN) to rewind
   and unload the tape from the tape drive.  You can then remove the tape
   from the tape drive.

                                    NOTE

           If the user does not use  the  DISMOUNT  command,  but
           instead  logs  off  the  system, any mounted tapes are
           automatically rewound and unloaded.

   If a tape is mounted on a tape drive and it is not assigned to any one
   user,  you can use the OPR command DISMOUNT in the following format to
   remove the tape from the tape drive:

       ________ __________ _____ _____   OPR>DISMOUNT TAPE-DRIVE MTxn: <RET>

   To check the status of the tape drives use the  SHOW  STATUS  command.
   If  a  tape  is  mounted, but is not assigned to any user, the display
   shows the tape online without a request number, user name, or [PPN].

   Do not press the UNLOAD button to rewind and unload  the  tape  drive.
   Always  use  the DISMOUNT TAPE-DRIVE command to remove tapes from tape
   drives.

   If, however, you do press the UNLOAD button to remove a tape and  then
   you  mount  another  labeled  tape on the same drive, you must use the
   RECOGNIZE command to force the system to recognize the tape.


                            ----- Examples -----

        1.  Use the DISMOUNT command to rewind and unload a tape that  is
            mounted, but not assigned to any user.


                                    9-14
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


                ________ __________ _____ _____            OPR>DISMOUNT TAPE-DRIVE MTA3: <RET>

            OPR>
            10:36:54        Device MTA3  -- Unloading --

            OPR>

        2.  If you previously pressed the UNLOAD button on a  tape  drive
            and  then  mounted a labeled tape, you must use the RECOGNIZE
            command to force the system to recognize the labeled tape.

                _________ _____ _____            OPR>RECOGNIZE MTA2: <RET>

            OPR>
            10:07:02        Device MTA2  --Volume 100100 Mounted--
                            ANSI Labels, 1600 BPI, Write-Enabled

            OPR>



   9.4.7  Canceling Tape Mount Requests   9.4.7  Canceling Tape Mount Requests

   If you are unable to satisfy a user's mount request,  you  can  cancel
   the  mount  request  by using the OPR command CANCEL MOUNT-REQUEST nn.
   You should also notify the user why you could not satisfy the  request
   by giving the /REASON switch with the command.

   For example, you cancel a mount request because you could not find the
   requested tape.  To do this, use the following command:

       ______ _____________ __ _________ ______ ____ ___ ____ _____   OPR>CANCEL MOUNT-REQUEST nn /REASON:I CANNOT FIND THE TAPE <RET>

   where "nn" is the request number assigned to the mount request.


                            ----- Example -----

   Cancel mount request 204.

       ______ _____________ ___ _________ ______ ____ ___ ____ _____   OPR>CANCEL MOUNT-REQUEST 204 /REASON:I CANNOT FIND THE TAPE <RET>

   OPR>
   11:49:19        -- Mount Request 204 Canceled --

   OPR>



   9.4.8  Setting Tape Drives Available or Unavailable   9.4.8  Setting Tape Drives Available or Unavailable

   When you start the system, all tape drives are under  control  of  the


                                    9-15
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   mountable  device allocation system.  However, there may be times when
   you want to gain control of the tape  drive.   To  do  this,  use  the
   following command:

       ___ __________ _____  ___________ _____   OPR>SET TAPE-DRIVE MTxn:  UNAVAILABLE <RET>

   OPR prints:

   Enter text and terminate with ^Z

   This allows you to enter a comment explaining why you are setting  the
   tape drive unavailable.

   When you use this command, MDA releases control of the tape drive  and
   users  can assign the drive to their jobs by using the TOPS-10 command
   ASSIGN.  To return control of the tape drive to MDA, use the following
   command:

       ___ __________ _____  _________ _____   OPR>SET TAPE-DRIVE MTxn:  AVAILABLE <RET>


                            ----- Example -----

   Set MTA0:  unavailable because of a hardware problem.

       ___ __________ _____ ________________   OPR>SET TAPE-DRIVE MTA0: UNAVAILABLE<RET>
   Enter text and terminate with ^Z
   ____ _____ _____ __ ______ ______ __   TAPE DRIVE MTA0: IS LOSING VACUUM ^Z

   OPR>
   12:23:00        Device MTA0  -- Set Unavailable --

   OPR>



   9.5  HANDLING FILE STRUCTURE AND DISK-DRIVE TASKS   9.5  HANDLING FILE STRUCTURE AND DISK-DRIVE TASKS

   OPR commands help you to control structures and disk-drives.  With OPR
   commands, you can do the following:

         o  Enable volume recognition

         o  Force the system to recognize a structure or disk-drive

         o  Dismount or remove a structure

         o  Lock structures to prevent  users  from  mounting  them,  and
            unlock structures

         o  Cancel mount requests that you cannot satisfy



                                    9-16
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


         o  Display the status of structures

         o  Display the status of disk-drives

         o  Control structure-recognition

         o  Control volume-recognition

         o  Examine the mount requests queue

   The following sections describe each of the above commands  to  assist
   you in the control of file structures and disk drives.



   9.5.1  Answering Structure Mount Requests   9.5.1  Answering Structure Mount Requests

   When a user issues a request to  mount  a  structure  with  the  MOUNT
   command, one or both of the following conditions must be present:

         o  The structure must be defined in  the  system  catalog  file.
            See Section 8.4 for more information about the system catalog
            file.

         o  All packs in the structure must be mounted and ready.

   When either of these conditions are  present,  the  following  message
   appears  on  your  OPR  terminal to inform you of the user request.  A
   list  appears  immediately  following  the  message,  displaying   the
   structure request and where the structure is mounted.

   OPR>
   hh:mm:ss        Device str   -- Structure Mount Request #nn  --
                   From User: username [PPN] Job# nn

                    Unit   Volume  Type  Drive
                   ------  ------  ----  -----
                   (List showing where structure may be mounted)

   where:

        hh:mm:ss         specifies the time  the  operator  received  the
                         message.

        Request #nn      specifies the request  number  assigned  to  the
                         mount request.

        username [PPN]   specifies the name and project-programmer number
                         of the user who issued the MOUNT request.

        Job# nn          specifies the job number the user  was  assigned
                         when the user logged onto the system.


                                    9-17
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   The display provides the following information:

         o  The unit identification

         o  The volume identification

         o  The type of drive (RP04, RP06, or RM03)

         o  The disk drive identification

   If the requested structure consists of more than one volume disk pack,
   all volumes are displayed in this list.

   If the structure is defined  in  the  system  catalog  file,  but  not
   mounted  and  in  the  ready  state, this list displays available disk
   drives, along with the type, volume, and unit.

   You must answer a MOUNT request by doing one of the following:

         o  If the structure is not mounted and ready, you must mount and
            prepare the structure on an available disk drive.

            If volume recognition is enabled for both structures and disk
            drives, the system automatically recognizes the structure and
            satisfies the mount request.

         o  If volume recognition is disabled for  either  structures  or
            disk  drives,  you  must  use the RECOGNIZE command to OPR to
            force the system to recognize the structure mount.

   Once the structure is known  by  the  system,  OPR  prints  a  message
   similar to:

   OPR>
   hh:mm:ss          -- Structure str Mounted --

   OPR>

   OPR prints the  preceding  message  only  after  you  have  physically
   mounted  all  the packs in the structure.  For example, if a structure
   mount request exists for structure DSKR:, and DSKR:  consists  of  two
   packs, both packs must be mounted to satisfy the mount request.

                                    NOTE

           MDA continues to process requests from other users  if
           you  do  not  respond  to  a  MOUNT  request with some
           action.  For example, if five separate  users  request
           five  different structure MOUNTs at the same time, you
           can respond individually to each request in any order.




                                    9-18
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


                            ----- Examples -----

        1.  In this example, a user wants to MOUNT a  structure  that  is
            not defined in the system catalog file and volume recognition
            is disabled.  In this case you must know in  advance  of  the
            structure  mount  so  that the user does not receive an error
            message for his mount request.  Before the request is  given,
            you  must mount and prepare the structure.  Then you must use
            the RECOGNIZE  command  to  have  the  system  recognize  the
            structure mount and satisfy the mount request.

   OPR>

   13:12:10     Device ECB1  -- Structure Mount Request #221  --
                From User: BROWN,A [27,5107] Job# 68

                 Unit   Volume  Type  Drive
                ------  ------  ----  -----
                ECB10   ECB10   RP04  RPA0

       _________ _____ _____   OPR>RECOGNIZE RPA0: <RET>

   OPR>
   13:13:13    Device RPA0  -- Volume ECB10 for Structure ECB1 Mounted --

   OPR>
   13:13:15      -- Structure ECB1 Mounted --

   OPR>

        2.  In this example, a user requests  that  structure  DSKN:   be
            mounted.   DSKN:   is  defined in the catalog list but is not
            currently mounted and ready.

   OPR>
   12:40:15    Device DSKN  -- Structure Mount Request #37 --
               From User: PACELLI,V [2,134] Job# 27

                Unit   Volume  Type  Drive
               ------  ------  ----  -----
               DSKN    DSKN0   RP06  RPB1

   OPR>

   You can now physically mount DSKN:  and make the system recognize  the
   structure  as  being  on line.  Request 37 is satisfied automatically,
   and the user is notified.

   OPR>
   12:43:33    Device RPB1  -- Volume DSKN0 for Structure DSKN Mounted --

   OPR>


                                    9-19
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   12:43:35      -- Structure DSKN Mounted --

   OPR>




   9.5.2  Mounting a Structure with MOUNT   9.5.2  Mounting a Structure with MOUNT

   If structure recognition is disabled, or you need to mount a structure
   with  an  alias,  you  can use the OPR command MOUNT.  For example, to
   mount a structure called DSKX:  with structure  recognition  disabled,
   use the command:

       _____ _________ _____ _____   OPR>MOUNT STRUCTURE DSKX: <RET>

   OPR>
   12:17:20          -- Structure DSKX Mounted --

   OPR>

                                    NOTE

           If volume and structure recognition  are  enabled  and
           the  structure  is defined in the system catalog file,
           you need not use the MOUNT command, because the system
           recognizes   the   structure  when  it  becomes  ready
           (mounted and spinning).

           If volume and structure recognition are disabled,  you
           must  use  the  RECOGNIZE  command  and then the MOUNT
           command.

   If you want to mount a structure with an alias, and the  structure  is
   the  first  structure  by  that  name,  you  must  disable  volume and
   structure recognition before giving the MOUNT command and mounting the
   structure.   After  you  have  mounted  and readied the structure, you
   should re-ENABLE structure and volume recognition.

   In addition, the MOUNT command allows you to specify an alias name for
   the  structure  when  two  file  structures of the same name are to be
   mounted.  For example, if DSKA:  is already mounted and you  must  now
   mount  another  structure  of the same name, you can use the following
   command:

       _____ _________ _____ _____ _____   OPR>MOUNT STRUCTURE DSKA: ADSK: <RET>

   OPR>
    2:32:09          -- Structure ADSK Mounted --

   OPR>



                                    9-20
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   When you assign an alias name to a structure, the physical name of the
   structure (which is written in the HOM blocks of the structure) is not
   changed.

                                  WARNING

           MDA strictly enforces unique volids on both disks  and
           tapes.   Therefore,  you  cannot  mount  two identical
           DSKAs.  You can mount two DSKAs if the volids  in  the
           HOM blocks are not identical.

   To examine the mounted structures and their alias names, use  the  OPR
   command SHOW STATUS STRUCTURES (refer to Section 9.5.5).



   9.5.3  Controlling Structure Dismount Requests   9.5.3  Controlling Structure Dismount Requests

   When you use a valid DISMOUNT command, OPR prints:

   hh:mm:ss          --Structure str Dismounted--
                     From Unit: xxxn

   where:

        str       specifies the file structure name.

        xxxn      specifies the disk drive name.

   When a user dismounts a structure, you are  not  notified  unless  the
   user  specified the /REMOVE switch in his DISMOUNT command.  (Refer to
        _______  _________  ______   ________   ______   the  TOPS-10  Operating  System   Commands   Manual   for   additional
   information on the DISMOUNT command.)

   When you issue the OPR command DISMOUNT to dismount a file  structure,
   there  are  two  additional considerations you must acknowledge.  They
   are:

        1.  You can lock the structure before you dismount it to  prevent
            other users from accessing the structure.

        2.  If more than one user is currently using the  structure,  you
            receive a message to which you must respond.

   The next section explains  the  tasks  involved  in  dismounting  file
   structures.



   9.5.3.1  Locking and Unlocking Structures   9.5.3.1  Locking and Unlocking Structures -

   When your system is brought up, all mounted structures are unlocked so


                                    9-21
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   that users can access files on the structures.

   However, if you must remove a structure during  normal  operation  and
   you  want  to  prevent  users  from  accessing  the structure, you can
   "lock-out" further jobs from access before dismounting the  structure.
   You can use the OPR command LOCK to accomplish this task.

   All jobs and programs currently accessing the structure will continue.
   When the jobs and programs complete, you can dismount the structure.

   In addition, you can specify a date and time and  an  optional  switch
   /NOUNLOAD with the LOCK command.  The date and time specifies when the
   structure will be locked so that users cannot access it after the date
   and  time  you  specify.   The  /NOUNLOAD  switch  specifies  that the
   structure will not be removed, but will be locked from user access.

   To reverse the effects of a LOCKed structure,  you  can  use  the  OPR
   command UNLOCK.


                            ----- Examples -----

        1.  You want  DSKZ:   to  be  locked  at  16:00  to  change  your
            operation over to the evening production schedule.

                ____ _____ _____ _____            OPR>LOCK DSKZ: 16:00 <RET>

            OPR>
            14:10:13         -- Structure DSKZ: --
                           LOCK set for 21-Feb-88 16:00

            OPR>

        2.  To reverse the effects of DSKZ:  being  locked  at  16:00:00,
            you can unlock the structure.

                ______ _____ _____            OPR>UNLOCK DSKZ: <RET>

            OPR>
            16:01:07         -- Structure DSKZ: pending LOCK canceled --

            OPR>



   9.5.3.2  Removing a Structure with DISMOUNT   9.5.3.2  Removing a Structure with DISMOUNT -

   To dismount and/or remove a structure from the system (perhaps to have
   maintenance  done  on a drive, to run ONCE on a structure, or to mount
   another structure), use the OPR command DISMOUNT.

   In addition, you can specify the  /REMOVE  switch  with  the  DISMOUNT


                                    9-22
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   command to automatically stop the structure for removal.

   If users currently have the structure mounted, the  following  message
   appears at your OPR terminal:

   OPR>
   hh:mm:ss     <n> Device str:     -- Problem removing structure --
                    Mount count = nn
                    RESPOND with ABORT (CANCEL) or PROCEED

   OPR>

   where:

        hh:mm:ss       specifies the time the message was sent to you

        <n>            specifies the message number that you must respond
                       to

        str:           specifies the structure name that other users  are
                       accessing

        nn             specifies  the  number  of  users  who  have   the
                       structure volume mounted

   You must do one of the following:

         o  If you must dismount the structure immediately, you can  send
            a  message  to  all  other  users that the structure is being
            dismounted and then respond with PROCEED.

         o  If time allows, you can use the LOCK command to prevent other
            users   from   accessing  the  structure  and  then,  at  the
            appropriate time, dismount the structure.

         o  If you cannot dismount the structure or if you specified  the
            wrong  structure  in the DISMOUNT command, you can respond to
            the message number with ABORT to cancel the dismount request.

   When you respond with ABORT, OPR displays the following message:

   hh:mm:ss          -- Can't Dismount Structure str:  --

   If you respond with PROCEED,  the  structure  is  dismounted  and  OPR
   displays following message:

   hh:mm:ss          -- Structure str: Dismounted --
                     From Unit: disk-unit-name


                            ----- Examples -----



                                    9-23
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


        1.  You want to dismount a structure from system access  so  that
            you  can run ONCE on the structure.  First, send a message to
            all  users  that  the  structure  is  being   dismounted   by
            operations.

                ____ ___ _____ ____ __ __________ __ __ ____ _____            OPR>SEND ALL DSKX: WILL BE DISMOUNTED IN 10 MIN. <RET>

            OPR>
            15:50:19
            ;;SYSTEM: - DSKX: WILL BE DISMOUNTED IN 10 MIN.

            OPR>

            In 10 minutes, use the DISMOUNT  command  to  dismount  DSKX:
            from system use.

                ________ _________ _____ _____            OPR>DISMOUNT STRUCTURE DSKX: <RET>

            OPR>
            16:00:13  <16>  Device DSKX:  -- Problem removing structure -
                            Mount count = 9
                            RESPOND with ABORT (CANCEL) or PROCEED

            OPR>

            Now use the RESPOND command to proceed with the dismount.

                _______ __ _______ _____            OPR>RESPOND 16 PROCEED <RET>

            OPR>
            16:01:18          -- Structure DSKX Dismounted --
                              From Unit: RPD4

            OPR>

        2.  You need to dismount TEST:  at 16:00 to change  over  to  the
            production  shift.   First,  LOCK  the  structure  to prevent
            additional users from mounting it.

                ____ _____ _____            OPR>LOCK TEST: <RET>

            OPR>
            15:15:30          -- Structure TEST: Locked --

            OPR>

            At 16:00, dismount and remove structure TEST:  from disk unit
            RPD1.

                ________ _________ _____ _______ _____            OPR>DISMOUNT STRUCTURE TEST: /REMOVE <RET>

            OPR>


                                    9-24
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


            16:01:39          -- Structure TEST Dismounted --
                              From Unit: RPD1

            OPR>



   9.5.4  Canceling Structure Mount Requests   9.5.4  Canceling Structure Mount Requests

   If you are unable to satisfy a user's structure mount request, you can
   delete   the   mount   request   by  giving  the  OPR  command  CANCEL
   MOUNT-REQUEST nn.  You should give a reason why you are canceling  the
   mount  request.  You can do this by giving the /REASON switch with the
   CANCEL command.


                            ----- Example -----

   Cancel structure mount request 204.

       ______ _____________ ___ ________ __ _________ ____ ______ _____   OPR>CANCEL MOUNT-REQUEST 204 /REASON: NO AVAILABLE DISK DRIVES <RET>

   OPR>
   10:23:17        -- Mount Request 204 Canceled --

   OPR>



   9.5.5  Displaying Structure Status   9.5.5  Displaying Structure Status

   You can display the status of the file structures with the SHOW STATUS
   STRUCTURE  command.   With  this  command,  you can specify one of the
   following:

         o  The structure name, to display the status  of  an  individual
            disk file structure currently known to the system

         o  The /USERS  switch,  to  display  the  status  of  each  file
            structure,  along  with  the  users  currently  accessing the
            structure

   If you do not specify either the file structure  name  or  the  /USERS
   switch,  the  SHOW  STATUS  STRUCTURE  command displays all structures
   mounted and known to the system.

   The output from this command displays:

         o  The name of the file structure

         o  The PPN of the owner, if the structure is private



                                    9-25
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


         o  The time (in hour and minutes) that the  file  structure  was
            mounted

         o  The number of free blocks on the file structure

         o  The mount count (the number of users currently accessing  the
            file  structure)  and  the  request count (the number of jobs
            that have allocated the structure)

         o  The volume name of the  disk  file  structure  and  its  unit
            number

         o  The disk drive type

         o  The disk drive name

   With the /USERS switch specified,  the  output  display  includes  the
   user's name, [PPN], and job number.


                            ----- Examples -----

        1.  Use the SHOW STATUS STRUCTURE command  to  display  all  disk
            file structures.

       ____ ______ _________ _____   OPR>SHOW STATUS STRUCTURE <RET>

   OPR>
    8:50:55                -- Disk File Structures --

   Name  Time   Free   Mount #Req   Volume   Type Drive    Owner PPN
   ---- ----- -------- ----- ---- ---------- ----- ------  -------------
   BLKX  6:53    15580     0    8 BLKX0  1/1 RP04  RPA2        31,5063
   DSKA  6:53    26152    24   12 DSKA0  1/1 RP06  RPD0
   DSKB  6:53    56460    12    0 DSKB0  1/2 RP06  RPD1
                                3 DSKB1  2/2 RP06  RPD2
   DSKC  7:34    34960    24    0 DSKC0  1/2 RP06  RPB3
                                0 DSKC1  2/2 RP06  RPB4
   DSKZ  8:41   721740     1    0 DSKZ0  1/1 RP06  RPE0         20,404
   TEST  --Waiting to be mounted--
   Total of 6 file structures 
   (5 mounted, Total of 854892 free blocks)

   OPR>

        2.  Use the SHOW STATUS STRUCTURE command with the /USERS  switch
            for DSKB:.

       ____ ______ _________ _____ ______ _____   OPR>SHOW STATUS STRUCTURE DSKB: /USERS <RET>

   OPR>
    8:58:14                -- Disk File Structures --


                                    9-26
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   Name  Time   Free   Mount #Req   Volume   Type Drive    Owner PPN
   ---- ----- -------- ----- ---- ---------- ---- -----  -------------
   DSKB  6:53    56460    12    0 DSKB0  1/2 RP06  RPD1
                                3 DSKB1  2/2 RP06  RPD2

    Users: Job 10 User OPERATOR     [1,2]
           Job 20 User TONY WACHS   [10,10]
           Job 25 User YOUNG-KP     [30,5221]
           Job 21 User BROWN.E      [27,5107]
           Job 22 User QHALLYBURTON [10,5324]
           Job 27 User RON LUSK     [30,5524]
           Job 28 User OPERATOR     [1,2]
           Job 31 User MAROTTA      [27,5434]
           Job 33 User CUSTER,L     [27,2345]
           Job 37 User TUCKER,B     [27,5342]
           Job 40 User CARLSON,A    [10,3331]
           Job 41 User GODSELL,S    [10,334]

   OPR>




   9.5.6  Displaying Disk Drive Status   9.5.6  Displaying Disk Drive Status

   You can display the status of the disk drives  with  the  SHOW  STATUS
   DISK-DRIVES  command.   With  this command, you can specify one of the
   following:

         o  /ALL to display FREE, MOUNTED, and  unavailable  disk  drives
            and their current status

                ____ ______ ___________ ____            OPR>SHOW STATUS DISK-DRIVES /ALL

         o  /FREE to display all disk drives that are available for file 
            structure mounts

                ____ ______ ___________ _____            OPR>SHOW STATUS DISK-DRIVES /FREE

         o  /MOUNTED to display those disk drives that are currently
            mounted 
            and known to the system

                ____ ______ ___________ ________            OPR>SHOW STATUS DISK-DRIVES /MOUNTED

   If you do not specify a switch, the SHOW  STATUS  DISK-DRIVES  command
   defaults to /ALL.

   The SHOW STATUS DISK-DRIVES command with /FREE displays:

         o  The disk drive name



                                    9-27
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


         o  The auxiliary port name

         o  The disk drive type

         o  The status of the disk drive

         o  The AVR (automatic volume recognition) status (YES  when  AVR
            is enabled, NO when AVR is disabled.)

   The SHOW STATUS DISK-DRIVES command with /MOUNTED  displays  the  same
   information as the /FREE switch with the following additional columns.
   Note that the status column shows the word "Mounted".

         o  The file structure name

         o  The volume name of the file structure

         o  The file structure unit number

   The output display with /ALL show FREE, MOUNTED, and unavailable  disk
   drives.


                            ----- Examples -----

        1.  Use the  SHOW  STATUS  DISK-DRIVES  command  with  the  /FREE
            switch.

                ____ ______ ___________ _____ _____            OPR>SHOW STATUS DISK-DRIVES /FREE <RET>

            OPR>
            10:12:03                -- Disk Drive Status --

            Drive   Type    Status     AVR
            -----   ----  -----------  ---
            RPA1    RP04  Free         Yes
            RPA5    RP06  Free         Yes
            RPB5    RP06  Free         Yes
            RPE1    RP04  Free         Yes


            OPR>

        2.  Use the SHOW STATUS DISK-DRIVES  command  with  the  /MOUNTED
            switch.

                ____ ______ ___________ ________ _____            OPR>SHOW STATUS DISK-DRIVES /MOUNTED <RET>

            OPR>
             9:23:45                -- Disk Drive Status --

            Drive   Type    Status     AVR   STR   Volume  Unit#


                                    9-28
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


            -----   ----  -----------  ---  -----  ------  -----
            RPA2    RP04  Mounted      Yes  BADP   BADP0     0
            RPA3    RP20  Mounted      Yes  BLKX   BLKX0     0
            RPB0    RP04  Mounted      Yes  SIRS   SIRS0     0
            RPB1    RP06  Mounted      Yes  BLKK   BLKK0     0
            RPB6    RP04  Mounted      Yes  GAL0   GAL00     0
            RPD0    RP06  Mounted      Yes  DSKC   DSKC0     0
            RPB2    RP06               Yes         DSKC1     1
            RPE0    RP20  Mounted      Yes  BLKY   BLKY0     0


            OPR>



   9.5.7  Controlling Structure Recognition   9.5.7  Controlling Structure Recognition

   Structure recognition allows QUASAR to recognize all the mounted packs
   of  a  structure.  When you mount a structure on a disk drive that has
   structure  recognition  enabled,  QUASAR  automatically   mounts   the
   structure.

   To disable structure recognition, use the following OPR command:

       _______ _____________________ _____   OPR>DISABLE STRUCTURE-RECOGNITION <RET>

   hh:mm:ss          -- Structure Recognition is Disabled --

   In addition, you can check the status of the structures with  the  OPR
   command SHOW STATUS STRUCTURE.

   If structure recognition is not already enabled, use the following OPR
   command to enable structure recognition:

       ______ _____________________ _____   OPR>ENABLE STRUCTURE-RECOGNITION <RET>




   9.5.8  Controlling Disk Drive Volume Recognition   9.5.8  Controlling Disk Drive Volume Recognition

   Disk drive volume  recognition  allows  you  to  mount  disks  without
   telling  the  system the volume identification of the structure.  When
   you mount a disk pack on a disk  drive  that  has  volume  recognition
   enabled, the system automatically reads the volume identifier from the
   HOM blocks when the disk drive is brought on line.

   If your system is using volume recognition for disk drives, then it is
   likely  that  volume recognition has been enabled.  Both structure and
   volume recognition are enabled by default.  If, for some  reason,  you
   need to disable volume recognition for one or all disk drives, use the
   following OPR command:


                                    9-29
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


       _______ __________________ ________ _____   OPR>DISABLE VOLUME-RECOGNITION argument <RET>

   where the argument can be:

        xxxn:  (specifies the physical unit number of a  specific  drive,
               such as RPA0:.)

   or

        DISK-DRIVES (for all disk drives)

   One reason for disabling volume recognition on a disk drive is to  run
   ONCE  on a structure.  When you disable volume recognition, OPR prints
   the following message confirming  that  volume  recognition  has  been
   disabled:

   hh:mm:ss        Device xxxn -- Volume Recognition is Disabled --

   In addition, you can check the status of the disk drive with  the  OPR
   command SHOW STATUS DISK-DRIVE.

   You can enable volume recognition for one or more of the  disk  drives
   on your system by giving the following OPR command:

       ______ __________________ ________ _____   OPR>ENABLE VOLUME-RECOGNITION argument <RET>


                            ----- Example -----

   Disable volume recognition for disk drive 0 (RPA0:).

       _______ __________________ _____ _____   OPR>DISABLE VOLUME-RECOGNITION RPA0: <RET>

   OPR>
   12:25:47        Device RPA0  -- Volume Recognition is Disabled --

   OPR>



   9.6  EXAMINING TAPE/DISK MOUNT REQUESTS IN THE QUEUE   9.6  EXAMINING TAPE/DISK MOUNT REQUESTS IN THE QUEUE

   When a user submits a mount request, the request is placed in a queue,
   where  it  waits  for  you to mount the tape or disk, or to delete the
   request.  To examine the mount queue, use the OPR command SHOW  QUEUES
   MOUNT-REQUESTS.

   The SHOW QUEUES MOUNT-REQUESTS command displays:

         o  The tape/disk volume name of the request




                                    9-30
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


         o  The status of the request

         o  The type of request (tape or disk)

         o  Whether the request is write-enabled or write-locked
            (The Write column for disk mount requests is blank.  For tape
            mount   requests   the  Write  column  contains  Enabled  for
            write-enabled or Locked for write-locked.)

         o  The request number

         o  The job number

         o  The user name and PPN

   The status column displays the following:

         o  Waiting, if a tape/disk request is waiting to be satisfied

         o  A tape/disk drive name, if the request has been satisfied

         o  Dismount, if a tape or disk is being dismounted

   In addition, the  SHOW  QUEUES  MOUNT-REQUESTS  command  has  optional
   switches.    With   the  /ALL  switch  specified,  all  the  available
   information for each request  is  printed.   With  the  /SHORT  switch
   specified,  only  those  requests  that  have  not  been satisfied are
   displayed.  The default is /SHORT if you do not specify a switch.


                            ----- Example -----

   Use the SHOW QUEUES MOUNT-REQUESTS  command  to  display  the  current
   mount requests in the queue.

       ____ ______ ______________ _____   OPR>SHOW QUEUES MOUNT-REQUESTS <RET>

   OPR>
    9:34:51                -- System Queues Listing --

   Tape/Disk Mount Queue:
   Volume    Status   Type   Write   Req#  Job#          User
   -------  --------  ----  -------  ----  ----  -------------------
   BKLX     Waiting   Disk              7    25  YOUNG-KP [30,5221]
   TEST01   Waiting   Tape  Enabled    30    41  BROWN.E [27,5107]
      Volume-set: MTA
      Label-Type: No, Tracks: 9, Density: Default BPI
   There are 2 Requests in the Queue

   OPR>




                                    9-31
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   9.7  CONTROLLING SYSTEM LISTS   9.7  CONTROLLING SYSTEM LISTS

   At various times (possibly between shift or  production  changes)  you
   may  be  requested  to  change  one or all of the system lists.  These
   lists consist of:

         o  The active swapping list (ASL)

         o  The crash dump list (also called the  system  dump  list,  or
            SDL)

         o  The system search list (SSL)

   To change any of these lists, use the OPR command MODIFY.  To  display
   the  system  lists,  use  the  OPR  command  SHOW  SYSTEM  LISTS.  The
   following sections explain these procedures.

                                    NOTE

           Consult your system  manager  before  changing  system
           lists.   The performance of your system can be greatly
           affected if you remove or add a structure or disk unit
           to any of the system lists.



   9.7.1  Displaying System Lists   9.7.1  Displaying System Lists

   To display the  current  system  lists,  use  the  SHOW  SYSTEM  LISTS
   command.  This command displays the following information:

         o  The structures in the crash-dump list

         o  The disk units in the active-swapping list

         o  The structures in the system-search list


                            ----- Example -----

   Use the SHOW SYSTEM LIST command to display the current system lists.

       ____ ______ _____ _____   OPR>SHOW SYSTEM LISTS <RET>

   OPR>
                    11:21:45          -- System Lists --

                   Crash Dump List:        BLKL:, BLKM:, BLKN:
                   Active Swapping List:   RPD1:, RPD2:, RPD0:
                   System Search List:     BLKN:, BLKL:, TEST:

   OPR>


                                    9-32
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   9.7.2  Modifying System Lists   9.7.2  Modifying System Lists

   To change any of the system lists, use the MODIFY command.  With  this
   command,  you  must  specify  the specific system list and whether you
   want to EXCLUDE (remove) or INCLUDE (add) a structure  or  disk  unit.
   Note  that  the  following  changes  occur  when  you modify the lists
   specified below:

         o  Modifying the active-swapping  list  changes  the  disk  unit
            names that the system uses to swap pages of memory.

         o  Modifying the crash-dump list changes the structures that the
            system uses to dump (or copy) memory during a system crash.

         o  Modifying the system-search list changes the structures  that
            the  system uses to search for file structures and file names
            when the user specifies SYS:.


                            ----- Example -----

   Use the MODIFY command to add structure DSKZ:  to the crash dump list.

       ______ _______________ _______ _____ _____   OPR>MODIFY CRASH-DUMP-LIST INCLUDE DSKZ: <RET>

   OPR>
   14:32:02        Device DSKZ  -- Added to Crash Dump List --

   OPR>



   9.8  RESTORING DISK FILES WITH BACKUP   9.8  RESTORING DISK FILES WITH BACKUP

   If a user requests that you restore some files from a  magnetic  tape,
   be sure to find out:

         o  Which magnetic tape(s) to use.  You might have to use a  tape
            containing  a  complete  SAVE and some tapes from incremental
            SAVEs.  You should look through the terminal output kept  for
            each save operation and determine which tapes to use.

         o  Which files to restore and what directory they are in.

         o  Which directory to put them into.

         o  Which special BACKUP status commands to use, if  any.   Refer
            to Appendix E for more information about BACKUP.

   Then do the following:




                                    9-33
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


        1.  On a terminal, logged-in as [1,2], type MOUNT MTx:   with  an
            optional  logical-name  and  the  /VOLID:volid  switch.   The
            default mode is Write-Locked.  The x in MTx:  represents  the
            tape  controller  identification.   If  the tape is a labeled
            tape, you must specify the  /LABEL  switch.   Otherwise,  the
            labels are ignored.

            OPR prints:

            hh:mm:ss        Device MTxn  -- Labeled Volume Mounted --
                            Density nnnn BPI, Write-Locked

            If volume recognition is disabled, use the  IDENTIFY  command
            to OPR to identify the tape drive to the mount request.

        2.  If  the  desired  structure  is  not  mounted,   type   MOUNT
            structure-name:    at  TOPS-10  monitor  command  level,  and
            physically mount and prepare the structure.

        3.  Type R BACKUP and give the following BACKUP commands:

             _ ___________            .R BACKUP<RET>
             ____ _____ _____            /TAPE MTxn: <RET>
             ______ _____            /REWIND <RET>
             _______ _________________ _____            /RESTORE str:filespec[PPN] <RET>

            "Done

            (See argument types for filespecs below.)

        4.  When BACKUP replies with "Done, type:

             ______ _____            /REWIND <RET>
             ____ _____            /EXIT <RET>
             ________ _____ _____            .DISMOUNT MTxn: <RET>

        5.  When the OPR terminal replies with:

            hh:mm:ss        Device MTxn  -- Released --
                            User: OPERATOR [1,2] Job# 2

            remove the magnetic tape from the tape drive.

   Argument types for RESTORE:

         o  To restore an entire user area; for example, to copy all  the
            files  of  directory  DSKA:[10,4733]  on  tape  to  directory
            DSKA:[10,4733]:

            _______ ______________            RESTORE DSKA:[10,4733]




                                    9-34
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


         o  To restore certain files of directory DSKA:[10,4733] on  tape
            to directory DSKA:[10,4733] on disk:

            _______ ___________________________________________________            RESTORE DSKA:filespec1[10,4733],DSKA:filespec2[10,4733],...

         o  To restore DSKA:A.MAC[27,5107] to DSKB:A.MAS[10,4733]:

            _______ _______________________________________            RESTORE DSKB:A.MAS[10,4733]=DSKA:A.MAC[27,5107]

         o  To copy all files from DSKB:[1,4] on tape  to  SAVE:[1,4]  on
            disk:

            _______ _____________________            RESTORE SAVE:[1,4]=DSKB:[1,4]



                            ----- Example -----

   A user has requested you to restore all  of  his  files  on  structure
   MISC:.

    _____ ____ ______________ _____   .MOUNT MTA: /REELID:001234 <RET>

   The OPR terminal replies:

   18:14:23          -- Magtape mount request #146 --
                   User: OPERATOR [1,2] Job# 2
                   Volume-set-name: MTA-CJ7ZXY

                   Volume-ID   Write   Labels  Track  Density
                   ---------  -------  ------  -----  -------
                   001234     Locked   No        9    1600

   OPR>

   Mount and ready tape volume 001234 and OPR replies:

   18:15:01        Device MTA0  -- Unlabeled Volume Mounted --
                   Density 1600 BPI, Write-Locked

   OPR>

   Use the IDENTIFY command at the OPR terminal.

       ________ _____ __________ ___ _____   OPR>IDENTIFY MTA0: REQUEST-ID 146 <RET>

   OPR>
   18:16:56        Device MTA0  -- Volume 001234 Reassigned --
                   User: OPERATOR [1,2] Job# 2

   OPR>



                                    9-35
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   Run BACKUP from the monitor terminal.

    _ ______ _____   .R BACKUP <RET>

    ____ _____ _____   /TAPE MTA0: <RET>
    ______ _____   /REWIND <RET>
    _______ ______________ _____   /RESTORE MISC:[21,3307] <RET>
   ________ ____   !21,3307 MISC

   "Done
    ______ _____   /REWIND <RET>
    ____ _____   /EXIT <RET>

    ________ _____ _____   .DISMOUNT MTA0: <RET>
   MTA0: Dismounted
   .

   OPR replies with:

   18:26:12        Device MTA0  -- Released --
                   User: OPERATOR [1,2] Job# 2

   OPR>



   9.9  COMMUNICATING WITH THE USERS   9.9  COMMUNICATING WITH THE USERS

   Timesharing and batch users often need  to  communicate  with  you  to
   perform  various  tasks,  obtain  help,  or send and receive messages.
   This section describes how to answer  PLEASE  requests  with  the  OPR
   command  RESPOND,  and  how  to  send  messages to a user with the OPR
   command SEND.

                                    NOTE

           The SEND command that is discussed  here  is  the  OPR
           command  SEND.   If  you are at monitor command level,
           you can use the monitor SEND command.  These  commands
                                                          _______           are   slightly   different.    Refer  to  the  TOPS-10
           _________ ______ ________ ______           Operating System Commands Manual for a  discussion  of
           the SEND monitor command.




   9.9.1  Answering PLEASE Messages with OPR   9.9.1  Answering PLEASE Messages with OPR

   The PLEASE command provides two-way communication between you and  the
   user.  It is initiated by the user typing at monitor level:

    ______ _____   .PLEASE <RET>


                                    9-36
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   Enter text, terminate with Altmode or ^Z

   When a user sends a message with PLEASE, you receive a message at  the
   OPR terminal that is time stamped and has a message number enclosed in
   angle brackets.  You  should  answer  the  message  with  the  RESPOND
   command from OPR.

   Whenever you receive a message by means of  the  PLEASE  command,  the
   user  issuing the command is identified by job number, PPN, user name,
   and terminal number.  For example:

   User SMITH,J [40,64] at terminal 100 types the following line:

    ______ _____   .PLEASE <RET>

   Enter text, terminate with Altmode or ^Z
   ____ ____ ____ __ ____ __   WHEN WILL MTA2 BE FREE ^Z

   [PLSOPN Operator at KL1026(26) has been notified at  9:08:22]

   The message is transmitted to the CTY and appears at OPR command level
   as follows:

   OPR>
   10:06:33  <3>     -- Message from Timesharing User --
                   From User SMITH,J [40,64] at terminal 100
                   WHEN WILL MTA2 BE FREE
   OPR>

   If you know a batch job using MTA2:  will be finished  soon,  you  can
   answer:

       _______ _ ____ ____ __ ____ __ __ ___ _____   OPR>RESPOND 3 MTA2 WILL BE FREE IN 10 MIN <RET>

   OPR>

   Your response will appear on the user's terminal.

   Respond to the PLEASE commands as soon as possible,  because  in  some
   cases  the user cannot proceed to other tasks until you respond to the
   message.



   9.9.2  Talking to a User with SEND   9.9.2  Talking to a User with SEND

   If you need to send a message to a user, you can use the  OPR  command
   SEND.  Use any of the following commands at the OPR terminal.

       ____ ___ _ _______ _____   OPR>SEND JOB n message <RET>

   or


                                    9-37
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


       ____ ________ _ _______ _____   OPR>SEND TERMINAL m message <RET>

   or

       ____ ___ _______ _____   OPR>SEND ALL message <RET>

   where n is the number of the timesharing or batch  job  in  the  first
   command  format above, and m is the number of the user's terminal line
   in the second command format above.

   To send a message to all the users on the system, use ALL  instead  of
   the job number or terminal number.

   The SEND command also allows you to include the message with the  SEND
   command string or as multiple lines terminated by a <CTRL/Z>.

   The SEND command does not affect the  user's  job.   If  the  user  is
   waiting  for  input  to a program, the message sent will appear on the
   user's terminal, but it will not affect the program input.

                _______ __________ _______ ________ _________ ______   Refer to the TOPS-10 Operator's Command Language Reference Manual  for
   a complete description of the OPR SEND command.


                            ----- Examples -----

        1.  Tell a user that a requested task is now complete.

                ____ ___ __ _____            OPR>SEND JOB 27 <RET>
            Enter text and terminate with ^Z
            ___ _______ _______ ______ _______ __ ___ __ _____            THE UPDATED FORTRAN SOURCE LIBRARY IS NOW UP <RET>
            ___ ____ _______ __ _____ _____            YOU MUST CONNECT TO TEST: <RET>
            __            ^Z

            OPR>
            13:57:19        -- SEND Command Completed --

            OPR>

        2.  Send a message to terminal 15 to notify the user  that  batch
            requests are being held.

                ____ ________ __ ____ _____ ________ ___ _____ ____ _____            OPR>SEND TERMINAL 15 YOUR BATCH REQUESTS ARE BEING HELD <RET>

            OPR>
            17:23:09        -- SEND Command Completed --

            OPR>






                                    9-38
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   9.10  REPORTING ERRORS WITH OPR   9.10  REPORTING ERRORS WITH OPR

   You can report problems or errors that occur during normal  operations
   with  the OPR command REPORT.  This command allows you to enter one or
   more lines of text into the SYS:ERROR.SYS  file.   This  file  can  be
   printed when you run your system error program, such as SPEAR.

   In addition, the REPORT command optionally allows  you  to  enter  the
   following:

         o  A user name of 1 to 6 characters in length.  You  may  supply
            your  last  name  here.   Your  PPN  is  always automatically
            entered into the system error report file.

         o  A device name of 1 to 6 characters  in  length.   The  device
            name may be used when a device is causing errors.


                            ----- Example -----

   Report an error with tape drive MTA2:.

       ______ _____ _____ _____   OPR>REPORT SMITH MTA2: <RET>
   Enter text and terminate with ^Z
   ____ _____ ____ ___ _______ ___ __ ________ _______ _____   TAPE DRIVE MTA2 HAS STOPPED FOR NO APPARENT REASON. <RET>
   _____ _______ ___ ____ _______ _____   FIELD SERVICE HAS BEEN CALLED. <RET>
   __________ __   OPERATIONS ^Z
   OPR>
   11:35:09      -- ERROR.SYS entry made by the REPORT Command --

   OPR>



   9.11  DOWN-LINE LOADING ANF-10 REMOTE STATIONS   9.11  DOWN-LINE LOADING ANF-10 REMOTE STATIONS

   To load an ANF-10  remote  station  (DN80-series  or  DN92)  from  the
   TOPS-10  system, you must use the NETLDR program.  This program should
   be available on SYS.  You can only run NETLDR if the remote node  that
   needs  to  be  loaded  is  running its bootstrap and has issued a load
   request.  The load request is issued when the remote node is turned on
   and  its  bootstrap ROM is activated.  After the load request comes up
   the line to the TOPS-10 host, NETLDR can be run to down-line load  the
   appropriate software into the remote node.

   NETLDR runs automatically when the monitor receives  a  load  request,
   unless  either SCHED 1000 (down-line node loading disabled) is set, or
   the monitor was brought up in debugging mode (Bit 0 of DEBUGF is set).
   (Refer  to  the  NETLDR Specification in the TOPS-10 Software Notebook
   Set.)




                                    9-39
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   9.11.1  Running NETLDR Automatically   9.11.1  Running NETLDR Automatically

   Normally, NETLDR runs automatically.  For this to  occur,  the  NETLDR
   program  must  be on SYS:.  When the node is started up, its bootstrap
   program sends a load request to a TOPS-10  host  through  intermediate
   node(s).   As  long as SCHED 1000 has not been set, the host processor
   will create a job and run NETLDR automatically.   If  SCHED  1000  has
   been set, NETLDR will be neither loaded nor run.

   When NETLDR starts automatically in response to a load request from  a
   remote station, it prints the following message on the CTY:

   %%LOAD req on Node nodename (nn) Line:syn# for DNtyp Ser:ser

   This message indicates that a station of type DNtyp has  sent  a  load
   request to the host.  Nodename is the name and nn is the number of the
   host system from which  the  remote  DNtyp  station  must  be  loaded.
   Line:syn#  is  the  number  of the synchronous line from the node that
   first received the load request to the remote station, and Ser:ser  is
   the serial number of the remote station's processor (ser can be zero).

   If the load request includes a file specification,  NETLDR  loads  the
   specified  file  directly into the node.  If the load request does not
   contain all the necessary information, NETLDR searches  SYS:NETLDR.INI
   for  the  appropriate  entry.   If  there is no corresponding entry in
   SYS:NETLDR.INI, the node cannot be loaded and an error message of  the
   following form appears at the CTY:

   ?NETNMI - Cannot find match in SYS:NETLDR.INI

   The SET SCHED command and the NETLDR switch /IGNORE  can  be  used  to
   control  the  load  requests.   If  a  host  is  to disregard all load
   requests, the system operator can prevent  the  automatic  running  of
   NETLDR by typing the operator-privileged command:

    ___ _____ ____ _____   .SET SCHED 1000 <RET>

   However, if requests from certain nodes are  to  be  disregarded,  the
   NETLDR switch /IGNORE can be placed in the NETLDR.INI file.



   9.11.2  Running NETLDR Manually   9.11.2  Running NETLDR Manually

   To run NETLDR manually, you must start by issuing  a  command  to  SET
   SCHED 1000.  This prevents NETLDR from running automatically while you
   are running it manually.  Issue the following commands:

    ___ _____ ____ _____   .SET SCHED 1000 <RET>
    _ ______ _____   .R NETLDR <RET>

   NETLDR responds with the prompt:


                                    9-40
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   FILE:

   You must enter a command string of the form:

                                  /LINE:syn#
   filespec/CPU-type/NODE:nodeid             /switch/switch...
                                  /SELF

   where entries are:

     Entry                                 Form/Use

   filespec            Form:  dev:filename.ext[PPN]

                       In a load operation, filename is  required;  other
                       arguments   default   to   your  disk  area,  file
                       extension  .BIN,  and  your  [PPN].   In  a   dump
                       operation,   an   omitted   filespec  defaults  to
                       DSK:nodename.LSD.  If the node  to  be  dumped  is
                       running,  nodename is the name of the node itself.
                       If the node is not running, nodename must  be  the
                       name of an adjacent node.

   /CPU-type           Form:  /PDP11, /11, /PDP8, or /8

                       This  entry  must  appear.    It   specifies   the
                       processor  type  of  the  remote node (use /11 for
                       DN8x-series stations, /8 for DN92-series).

   /NODE:nodeid        Form:  6-character nodename or  three-digit  octal
                              node number

                       This entry must appear.  If  the  remote  node  is
                       running,  nodeid specifies the node itself; if the
                       remote  node  is  not  running  (as  in   a   load
                       operation),  nodeid  specifies an adjacent running
                       node.

   /LINE:syn#          One  of these entries must appear.   If the remote
   /SELF               node is running (as when NETLDR  is  requesting  a
                       dump),  the  /SELF  switch is used.  If the remote
                       node (to be loaded) is not running, syn# specifies
                       the  synchronous  line  at  the adjacent node over
                       which loading is to occur.

   Optional NETLDR switches are:

    Switch                                 Action

   /DUMP:c-d           Dumps  all or a  specified  portion of  the remote
                       node's    memory,   in   octal.    /DUMP  with  no
                       arguments gives  a  full  memory  dump;  /DUMP:c-d


                                    9-41
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


                       dumps  from  location  c to location d, inclusive;
                       /DUMP:c-* dumps from location c to location  17777
                       (PDP-8) or 137776 (PDP-11).

   /IMAGE              Specifies that the file to be  read  is  in  image
                       mode.  This is the default for a PDP-8 node.

   /LOAD               Loads the file into  the  remote  node;  does  not
                       start the program.

   /PACKED             Specifies that the file to be read  is  in  PDP-11
                       packed  image  mode.   This  is  the default for a
                       PDP-11 node.

   /START:addr         Starts  the  program  at  address  addr.   If   no
                       filespec  is  given  in  the  command, the program
                       currently in memory is started.   This  switch  is
                       not  needed if a filespec is given and the program
                       is to be started at its default start address.



   9.12  CONTROLLING ANF-10 REMOTE STATIONS   9.12  CONTROLLING ANF-10 REMOTE STATIONS

   If your installation has DN60-series (IBMCOM), DN80-series,  DN92,  or
   DN20  network software, you can perform the following tasks for remote
   stations using OPR commands:

         o  Start a node

         o  Shutdown a node

         o  Display the status of a network node

         o  Route output from one node to another node

         o  Display the route table

   This section describes the tasks associated with the  above  commands.
        _______  ______ _______ _____   The  TOPS-10  Remote Station Guide provides more information about the
   ANF-10 remote stations and operating them.  The DECnet front end (DN20
   running MCB) and the DECnet network tables must be built by the system
   manager and maintained by the operator using DECnet programs described
          _________ __________ ___ ______ _________ _____   in the DECnet-10 Operator's and System Manager's Guide.

                                    NOTE

           If your installation has 2780/3780  network  software,
           you can perform additional tasks with the OPR commands
           DEFINE and SET NODE.  These commands are described  in
                _______  __________  _______  ________  _________           the  TOPS-10  Operator's  Command  Language  Reference
           ______            _______ ___ _____________________           Manual and in the TOPS-10 IBM Emulation/Termination.


                                    9-42
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   If you are a remote station operator, the OPR running at your  station
   can control only the devices at your remote station.  All commands you
   specify default to your node when those commands are passed  to  ORION
   for  processing.  In addition, you have complete control over all jobs
   located at or queued up at your node.

   To specify a remote node,  use  the  /NODE  switch.   This  switch  is
   available with many of the OPR commands described in previous sections
   of this manual.  The /NODE switch allows you to identify any  node  in
   the network.  The format of the /NODE switch is:

   /NODE:node-id::

   where the node-id is either the number or the name of the node.

   Because a remote station operator has control only of the devices  and
   jobs  at  his  remote station, his commands always default to a job or
   device at  his  station  when  the  command  is  processed  by  ORION.
   Therefore  /NODE  is  not  necessary to refer to devices at the remote
   station.  However, if the operator would like to refer to another node
   in the system, the /NODE switch must be included in the OPR command.



   9.12.1  Starting and Shutting Down a Node   9.12.1  Starting and Shutting Down a Node

   To start a node, use the OPR command START NODE.  This also  schedules
   start-up for the printer and/or card reader at that node.


                            ----- Example -----

   Start node CTCH22(22).

       _____ ____ ________ _____   OPR>START NODE CTCH22:: <RET>

   OPR>
    9:08:21      Printer 0 [CTCH22(22)]  -- Startup Scheduled --

   OPR>
    9:08:21      Reader 0 [CTCH22(22)]   -- Startup Scheduled --

   OPR>

   To shut down a node, use the OPR command  SHUTDOWN  NODE.   This  also
   schedules shutdown for the printer and/or card reader at that node.


                            ----- Example -----

   You shut down node CTCH22(22).



                                    9-43
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


       ________ ____ ________ _____   OPR>SHUTDOWN NODE CTCH22:: <RET>

   OPR>
   14:34:21        Printer [CTCH22(22)]  -- Shutdown --

   OPR>
   14:34:21        Reader [CTCH22(22)]  -- Shutdown --

   OPR>



   9.12.2  Displaying Node Status   9.12.2  Displaying Node Status

   To display the status of one or all nodes in your network use the  OPR
   command  SHOW  STATUS  NETWORK-NODE.  If you do not specify a specific
   node, this command displays all nodes in the network.

   The SHOW command displays the following information:

         o  The node name and node number

         o  The status of the node (either On-line or Off-line)


                            ----- Example -----

   Display the status of all nodes in your network.

       ____ ______ ____________ _____   OPR>SHOW STATUS NETWORK-NODE <RET>
   OPR>
    9:08:35                -- System Network Status --

       Node      Status
   -----------  -------
   KL1026 (26)  Online
   COMET  (70)  Online
   NOVA   (31)  Online
   TITAN  (61)  Online
   WIZARD (75)  Online
   KS4101 (76)  Online
   CTCH22 (22)  Offline
   JINX  (134)  Offline
   There are 8 nodes in the network

   OPR>



   9.12.3  Routing Device Output between Nodes   9.12.3  Routing Device Output between Nodes

   To route the output for one device or all devices  from  one  or  more


                                    9-44
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   nodes  to  another node, use the OPR command ROUTE.  The ROUTE command
   can route the output for the following devices:

         o  ALL-DEVICES

         o  CARD-PUNCH

         o  PAPER-TAPE-PUNCH

         o  PLOTTER

         o  PRINTER

   The ROUTE command is useful when there  are  hardware  problems  on  a
   device  whose  output is very important.  If you are the operator at a
   host system, you can route output to any node.  If you  are  a  remote
   station  operator,  you  cannot  route  output;  you must request that
   routing be done for you by the host operator.


                            ----- Examples -----

   1.   To route the output of all printers  on  node  COMET  to  printer
        number 1 on node KL1026, you use the following command:

            _____ _______ _________ ____________________________ _____        OPR>ROUTE PRINTER ALL-UNITS /NODE:COMET::1/NODE:KL1026:: <RET>

        _______ _ ______________ _____        COMET:: 1 /NODE:KL1026:: <RET>

        OPR>
        13:05:19          -- All Printers [COMET] Routed to [KL1026(26)]
        --

        OPR>

        When this command has been executed, an  entry  is  entered  into
        QUASAR's Route Table (refer to the next section).

   2.   In addition, the ROUTE command allows you to  delete  entries  in
        the  system  route  table.  To end device routing on a node, omit
        the destination node-id.

        To delete the entry made above, use the following command:

            _____ _______ _________ _____________ _____        OPR>ROUTE PRINTER ALL-UNITS /NODE:COMET:: <RET>

        OPR>
        17:34:19        -- Routing for All Printers [COMET] Deleted --

        OPR>




                                    9-45
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   9.12.4  Displaying the Routing Table   9.12.4  Displaying the Routing Table

   To display the route table, use the OPR command SHOW ROUTE-TABLE.  The
   routing  entries  are  listed  from  specific  device entries (such as
   Printer 0) to more  general  entries  (such  as  All  printers).   For
   example,  the  output  of  printer  0  on  node NOVA::  routed to node
   ALPHA::  is listed first; while the output of  all  printers  on  node
   CTCH22::  routed to KL1026::  is listed second.


                            ----- Example -----

   Use the SHOW ROUTE-TABLE command to display the current device  output
   that has been routed.

       ____ ___________ _____   OPR>SHOW ROUTE-TABLE <RET>

   OPR>
   12:34:09                -- System Device Routing Table --

           Printer 0 [NOVA(33)] Routed to Printer 0 [ALPHA(45)]

           All Printers [CTCH22(22)] Routed to [KL1026(26)]


   OPR>



   9.13  STOPPING AND RESTARTING KS10 COMMUNICATIONS   9.13  STOPPING AND RESTARTING KS10 COMMUNICATIONS

   The ANF-10 network runs on the KS10 processor.  The TOPS-10/KS10  host
   communicates  on  the  network  with  TOPS-10  remote  nodes and other
   TOPS-10/KS10 hosts.

   The TOPS-10/KS10 network consists of a KMC-11, two DUP-11s, the ANF-10
   network  software,  and  a KMC-11 loader program, KDPLDR.  KDPLDR runs
   automatically at system start-up.  The KDPLDR program initializes  the
   KMC-11 hardware and both of the TOPS-10 network communications lines.

   You can stop and restart either or both communication lines by running
   KDPLDR on the KS10 processor.

   To stop communications, use the following KDPLDR command sequence:

         _ ______ _____        .R KDPLDR <RET>

         _____________ _____        */STOP:n/KMC:0 <RET>

   Where n is 0 or 1 for a DUP-11 line number, or ALL for both lines.

   To restart communications, use the following KDPLDR command sequence:


                                    9-46
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


         _ ______ _____        .R KDPLDR <RET>

         ______________ _____        */START:n/KMC:0 <RET>

   Where n is 0 or 1 for a DUP-11 line number or ALL for both lines.

                                    NOTE

           To restart communications on both lines  of  the  KS10
           processor, you can use the following command sequence:

            _ ______ _____           .R KDPLDR <RET>

            _____ _____           */AUTO <RET>

           The /AUTO switch is  the  same  as  using  the  switch
           sequence of:

           __________________________________________________           /MCLEAR:0/LOAD:0/VERIFY:0/USTART:0/START:ALL/KMC:0


   For more information on KDPLDR, refer to the KDPLDR  Specification  in
   the TOPS-10 Software Notebook Set.


                            ----- Examples -----

        1.  Stop  all  TOPS-10  network  communications   on   the   KS10
            processor.

             _ ______ _____            .R KDPLDR <RET>

             _______________ _____            */STOP:ALL/KMC:0 <RET>

        2.  Restart communications on line 2 of the KS10 processor.

             _ ______ _____            .R KDPLDR <RET>

             ______________ _____            */START:1/KMC:0 <RET>



   9.14  RECONFIGURING SYSTEM HARDWARE   9.14  RECONFIGURING SYSTEM HARDWARE

   The CONFIG application is a command subset of OPR that allows  you  to
   reconfigure  system  hardware without halting the system.  With CONFIG
   commands you can do the following:

         o  Add controllers, CPUs, and memory to the system

         o  Automatically configure peripheral devices into the system



                                    9-47
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


         o  Remove controllers, CPUs, and memory from the system

         o  Enable and disable automatic reloads of the monitor and  DX20
            microcode

         o  Specify the BOOT-TEXT command string

         o  Shut down and reload the system

         o  Suspend the system

         o  Stop the system, dump the  memory  image,  and  continue  the
            system automatically

   To enter CONFIG command level use the OPR  command,  ENTER,  as  shown
   below.

       _____ ___________   OPR>ENTER CONFIG<RET>
   CONFIG>

   After you enter the CONFIG command subset, you  can  type  a  question
                                                                  _______   mark  (?)  to  display  all  of  the CONFIG commands.  See the TOPS-10
   __________  _______  ________  _________   ______   Operator's  Command  Language  Reference   Manual   for   a   complete
   description of the CONFIG commands.


                            ----- Example -----

    _ ___   .R OPR
       _____ ___________   OPR>ENTER CONFIG<RET>
          _   CONFIG>?  one of the following:
   ENTER   EXIT    PUSH    RETURN    TAKE    WAIT
     or one of the following:
   ADD             AUTO-CONFIGURE    HELP           LOAD        REMOVE
   SET             SHOW              SHUTDOWN       SNAPSHOT    SUSPEND
   CONFIG>



   9.14.1  Adding System Hardware   9.14.1  Adding System Hardware

   Use the CONFIG ADD command to add the following to the system:

         o  Disk controllers

         o  Tape controllers

         o  CI (Computer Interconnect) interface

         o  NI (Network Interconnect) interface




                                    9-48
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


         o  CPUs

         o  Memory



                            ----- Examples -----

        1.  Use the ADD command to add a tape controller to the system.

                   ___ ________            CONFIG>ADD MTB<RET>
            CONFIG>
            13:09:43        CONFIG -- ADD CONTROLLER --

            Controller MTB added
            CONFIG>

        2.  Use the ADD command to add a CI to the system.

                   ___ _________            CONFIG>ADD CI-1<RET>
            CONFIG>
            13:18:04        CONFIG -- ADD CI --

            CI port on CPU1 enabled
            CONFIG>



   9.14.2  Configuring System Hardware   9.14.2  Configuring System Hardware

   The AUTO-CONFIGURE command automatically configures disks and tapes on
   a  specified  CPU  or  ALL-CPUs  into  the  system.   Use  the  CONFIG
   AUTO-CONFIGURE command to configure devices that were powered-off when
   the system was first bootstrapped.


                            ----- Example -----

   Use the AUTO-CONFIGURE command to configure all  disks  and  tapes  on
   CPU-1 into the system.

          ______________ _________   CONFIG>AUTO-CONFIGURE CPU1<RET>
   CONFIG>
   13:19:58        CONFIG -- AUTOCONFIGURE --

   CONFIG>



   9.14.3  Removing System Hardware   9.14.3  Removing System Hardware

   Use the CONFIG REMOVE command to remove the following devices from the


                                    9-49
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   system.

         o  Disk controllers

         o  Tape controllers

         o  CI (Computer Interconnect) interface

         o  NI (Network Interconnect) interface

         o  CPUs

         o  Memory


                            ----- Examples -----

        1.  Use the REMOVE command to remove a CI from the system.

                   ______ _______            CONFIG>REMOVE CI<RET>
            CONFIG>
            13:18:04        CONFIG -- REMOVE CI --

            CI port on CPU1 disabled
            CONFIG>

        2.  Use the REMOVE command to remove a tape controller  from  the
            system.

                   ______ ________            CONFIG>REMOVE MTB<RET>
            CONFIG>
            13:10:34        CONFIG -- REMOVE CONTROLLER --

            Controller MTB removed
            CONFIG>



   9.14.4  Controlling System Hardware   9.14.4  Controlling System Hardware

   To automatically control a monitor reload use the CONFIG SET  command.
   The SET command has the following optional keywords:

         o  [NO]AUTO-RELOAD  reloads the monitor after crashes

         o  BOOT-TEXT        specifies the BOOT-TEXT command string

         o  [NO]DUMP         causes continuable dumps

         o  [NO]IGNORE       causes monitor to ignore interrupts




                                    9-50
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


         o  KLINIK           sets KLINIK parameters

         o  [NO]MICROCODE    enables reload of microcode

         o  [NO]RELOAD       enables reload of the monitor


                            ----- Examples -----

        1.  Use the SET AUTO-RELOAD command to automatically  reload  the
            monitor after a monitor crash.

                   ___ ________________            CONFIG>SET AUTO-RELOAD<RET>
            CONFIG>
            13:22:09        CONFIG -- SET AUTO-RELOAD --

            Automatic system reload is enabled
            CONFIG>

        2.  Use the SET  DUMP  command  to  cause  the  monitor  to  take
            continuable dumps after JOB stopcodes.

                   ___ ____ __________________            CONFIG>SET DUMP JOB-STOPCODES<RET>
            CONFIG>
            13:23:16        CONFIG -- SET DUMP --

            System will do continuable dumps on CPU, DEBUG, and JOB stopcodes
            System will reload on STOP stopcodes



   9.14.5  Shutting Down the System   9.14.5  Shutting Down the System

   To take the monitor down with a reload (RLD) stopcode and  reload  the
   monitor,   use  the  CONFIG  SHUTDOWN  command.   You  must  supply  a
   single-line reason for the reload.


                            ----- Example -----

   Use the SHUTDOWN command to take down the monitor to clear a hung tape
   system.

          ________ _____ ____ ____ ___________   CONFIG>SHUTDOWN CLEAR HUNG TAPE SYSTEM<RET>



   9.14.6  Stopping the System   9.14.6  Stopping the System

   To execute a stopcode, dump the system memory image, and continue  the
   system  automatically,  use  the  CONFIG  SNAPSHOT  command.  You must
   supply a single line reason for stopping the system.


                                    9-51
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


                            ----- Example -----

   Use the SNAPSHOT command to obtain a dump of the system memory image.

          ________ ____ ________   CONFIG>SNAPSHOT HUNG JOB<RET>
   CONFIG>
   13:12:34        CONFIG -- SNAPSHOT --

   CONFIG>



   9.14.7  Suspending a System   9.14.7  Suspending a System

   To suspend a system use  the  CONFIG  SUSPEND  command.   The  SUSPEND
   command temporarily suspends system operation and writes a system dump
   file.  You can reload the dump file and continue the system  with  the
   BOOT  /REBOOT  switch.   You  must  supply  a  single  line reason for
   suspending  the  system.   You  must  perform  all  logical   software
   reconfiguration that is needed before a system is suspended.

   To record system configuration before suspension, you can use the SHOW
   HARDWARE-CONFIGURATION  command.   Then  use SUSPEND to suspend system
   operations.


                            ----- Example -----

   1. Display the current configuration.

          ____ ______________________   CONFIG>SHOW HARDWARE-CONFIGURATION
   CONFIG>
   14:24:24 
        CONFIG -- SHOW HARDWARE-CONFIGURATION --
   CPU Configuration
   CPU0 is running and scheduling jobs
     KL10 model B serial number 1026, microcode version 442
     Hardware options:
       MCA25 cache/pager  Extended addressing  Internal channels
       Cache
     Cache status:  Enabled
     Internal channels:
       0: RH20    1: RH20    2: RH20    3: N/C   
       4: N/C     5: NIA20   6: N/C     7: CI20  
     DTE configuration:
       DTE0:  up  CFE running RSX20F version VA15-50
              Reload enable: ON  Retry enable: ON  Fault-continuation: ON
       DTE1:  up  DN60 running DN60
       DTE2:  up  DN87S running ANF10 node NOVA(31)
       DTE3:  down
     CFE UNIBUS Configuration:
        CSR           Device           CSR     Associated Device


                                    9-52
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


       ------  ---------------------  ------  --------------------
       172100  MF11-UP Mem Parity   
       177340  TC11 DECtape Control 
         .
         .
         .
   Monitor Memory Configuration
     Monitor configured for 4096P (2048K) of physical memory
   Controller Microcodes
     Controller    Version
     ----------  -----------
     DX10/TX01         15(0)
     DX20/TX02        10(74)
     DX20/RP20          3(1)
     CI20            1A(733)
     NIA20            1(172)
   CI Configuration
         Node       S/W type  S/W vers  H/W type
     -------------  --------  --------  --------
     00 (KL-1026)     T-10      0703      KL10
     02 (KL-1322)     T-10      0703      KL10
     06 (HSC006)      HSC       V350      HS50
     09 (HSC009)      HSC       V350      HS50
     11 (KL-1042)     T-10      0703      KL10
     13 (KL-2476)     T-10      0703      KL10
   NI Configuration
     Chan/Kont   State     E-net Address
     ---------  -------  -----------------
     ETH-0      Online   AA-00-04-00-6E-1C
       NI-0     Online   AA-00-03-03-00-13
       NI-1     Online   AA-00-03-03-00-87
       NI-2     Online   08-00-2B-00-13-BC
   Disk Configuration
     Drive   Type  Str   Volume  CPU(s)  Controller
     ------  ----  ----  ------  ------  ----------
     RAJ1    RA81                012     HSC-9
     RAG1    RA81                        HSC-6
     RPE0    RP06  1322  13220   2       RH20-0 (540)
      .
      .
      .
   Tape Configuration
     Drive    Type   Volume  CPU(s)  Controller(s)
     ------  ------  ------  ------  -------------
     MTA260  TU70            0       DX10-0 (220)
     MTA261  TU70            0       DX10-0 (220)
       .
       .
       .
   DECtape configuration
     Device  CPU
     ------  ---


                                    9-53
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


     DTA260   0
     DTA261   0
     DTA262   0
     DTA263   0
   Unit Record Device Configuration
     Card reader configuration:
       Device  CPU
       ------  ---
       CDR260   2 
     Line printer configuration:
       Device  CPU  Type   Status
       ------  ---  -----  ------
       LPT260   1   LP100  Online 


   2. SUSPEND the system.

          _______ ___ ___________   CONFIG>SUSPEND FIX MEMORY<RET>

   ;;SYSTEM:  - Expect an interruption of service

   ;;SYSTEM:  - Suspending system operation
   [Suspending system on DSKF:CRASH.EXE[1,4]]
   [System suspended]                         The  system  is  suspended.
                                              All  other  CPUs  in an SMP
                                              system   should   now    be
                                              HALTed.

                                              Note that SMP systems  must
                                              be REBOOTed on the CPU that
                                              was the policy CPU when the
                                              system was suspended.

   RSX-20F VE##-## 8:57 26-Mar-86             RSX-20F     version     and
                                              creation time and date.

   [SYO:  redirected to DBO:]                 DBO:  is the system device
   [DBO:  mounted]                            for the RSX-20F tasks.
   KLI -- VERSION VA##-## RUNNING             KLINIT   prints  this   and
   KLI -- KL10 S/N:  2996., MODEL B, 60 HERTZ the following lines.
   KLI -- KL10 HARDWARE ENVIRONMENT
           MCA25 CACHE PAGER
           MOS MASTER OSCILLATOR
           EXTENDED ADDRESSING
           INTERNAL CHANNELS
           CACHE

   KLI -- PAGE TABLE SELECTED:  BOTH
   KLI -- MICROCODE VERSION #.#[###] LOADED
   KLI -- ALL CACHES ENABLED
   KLI -- % MOS MEMORY IS ALREADY CONFIGURED



                                    9-54
                         UNSCHEDULED SOFTWARE TASKS                         UNSCHEDULED SOFTWARE TASKS


   LOGICAL MEMORY CONFIGURATION
     ADDRESS SIZE INT TYPE CONTROLLER
    00000000 768K 4 MF20 10
    03000000 768K 4 MF20 11

   KLI -- CONFIGURATION FILE WRITTEN
   KLI -- BOOTSTRAP LOADED AND STARTED        KLINIT   has   loaded   and
                                              started BOOT.
   BOOT V#(##)                                BOOT version number.

   ?No file found on any structure
        ____________   BOOT>/REBOOT<RET>                          Type  /REBOOT   and   press
                                              RETURN    to   reload   the
                                              default  monitor  from  the
                                              file DSKF:CRASH.EXE[1,4].
   [Reloading from DSKF:CRASH.EXE[1,4]]       BOOT is now  reloading  the
                                              monitor.
        ________   Date:3-Sep-88                              Before answering  the  date
                                              prompt,   start  other  SMP
                                              system CPUs using the  JUMP
                                              400 PARSER command.
        ____   Time:1150

   CONFIG>
   ;;SYSTEM:  - System resumed


   CONFIG>


























                                    9-55

























































                                    10-1












                                 CHAPTER 10                                 CHAPTER 10

                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR



   This chapter describes various types of errors that may occur on a  KS
   system.  KL error recovery is described in Chapter 11.

   When the system is running, unexpected errors may occur, resulting  in
   a crash.  A crash can be caused by one or more of the following:

         o  Software problems

         o  Hardware problems

         o  Environmental problems

   The system usually uses BOOT as the bootstrap program.  Use BOOT  when
   you  first  power  up your system.  If the system crashes after it has
   been running for more than five minutes, BOOT automatically dumps  and
   reloads the system.

   Excluding crashes, after the system has been running for five  minutes
   you only have to use BOOT if you power down the system and load from a
   cold start,  or  if  the  system  does  not  recover  from  an  error,
   preventing  BOOT  from  performing  an  automatic reload.  The monitor
   calls BOOT, which can dump any amount of memory, from one page to  all
   of  it.   The  bootstrap  program is highly tolerant of errors such as
   memory parity errors.  When an error  occurs,  BOOT  prints  an  error
   message  before  it takes corrective action.  (For further information
   on BOOT messages, see Appendix A.)

   It is very important to record all  system  problems  accurately.   If
   software  problems  cause  a crash, you must fill out a Software Error
   Report (SER) form and make an entry in  the  logbook.   Similarly,  if
   hardware  problems  cause  a crash, you must fill out a hardware error
   form and make a log entry.  This chapter discusses some of the  errors
   you may encounter and how you can correct them.  To correct errors not
   discussed in this chapter, contact either  the  system  programmer  or
   your software specialist.

   Common problems (and references to the  sections  that  address  them)


                                    10-1
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   are:

         o  Nothing prints on CTY when you type  CTRL/backslash  (Section
            10.1).

         o  System does not respond to you or to  users  (Sections  10.1,
            10.3).

         o  Two crashes occur within 5 minutes (Section 10.2.2).

         o  System does not automatically reload (Sections 10.1, 10.2.2).

         o  System overwrites crash file (Section 10.4).

         o  Stopcode prints on CTY (Section 10.5).

         o  Message   that   begins    "?Non-recoverable    memory"    or
            "?Non-existent memory" prints on CTY (Section 10.6).

         o  "***************" prints on CTY above and below a  series  of
            messages (Section 10.6).

         o  No characters print on CTY        (Section 10.7).

         o  "?J" prints on CTY (Section 10.8).

         o  "%File not found..." prints on CTY (Section 10.8).

         o  "%HLTD" prints on CTY (Section 10.10).

         o  "?" followed by two or more capital  letters  prints  on  CTY
            (Section 10.11).

         o  Power fails or fluctuates (Section 10.12).



   10.1  RECOVERING FROM A MICROPROCESSOR CRASH   10.1  RECOVERING FROM A MICROPROCESSOR CRASH

   If the system does not automatically reload after a crash, it may mean
   that  the  microprocessor has crashed.  If the following are all true,
   the microprocessor has crashed.

         o  The KS10> prompt does not print on the CTY.

         o  The CTY is plugged in and has paper.

         o  The LOC-LINE switch is set so the terminal is on-line.

         o  After you insert the key in the REMOTE DIAGNOSIS  switch  and
            set the switch to ENABLE, the REMOTE indicator light is on.



                                    10-2
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


         o  The STATE indicator light is blinking.

   If the above conditions are not met, refer to Section  10.2.   If  the
   above conditions are met, perform the following steps:

        1.  Go to another terminal.  If the system is still  up,  log  in
            under [1,2].

        2.  Halt timesharing by typing SET  KSYS  +hh:mm  to  OPR.   (See
            Section   4.3.2   for   detailed   information   on   halting
            timesharing.)

   If neither of the above steps is effective, call  your  Field  Service
   representative.



   10.2  RECOVERING FROM A MONITOR CRASH   10.2  RECOVERING FROM A MONITOR CRASH

   To recover from a monitor  crash,  BOOT  must  perform  the  following
   steps:

        1.  Record (dump) the  memory  image  as  it  appeared  when  the
            monitor crashed.

            BOOT  dumps  the   memory   image   to   the   default   file
            DSKB:CRASH.EXE[1,4],  which  is  called the crash file.  BOOT
            always writes the crash file to  the  [1,4]  directory  area.
            However, if the system crashes again, BOOT will not overwrite
            one  crash  file  with  another.   Instead,  it  prints   the
            following dialog on the CTY:

   [Dumping on DSKB:CRASH.EXE[1,4]]             BOOT tries  to  dump  the
                                                memory   image   to   the
                                                default              file
                                                DSKB:CRASH.EXE[1,4],
                                                where   DSKB:    is   the
                                                system dump list.
   %Unprocessed dump on DSKB:CRASH.EXE[1,4]]
                                 _______   Do you want to overwrite it?  No<RET>        Type  no,  which  is  the
                                                default, or yes, and then
                                                press RETURN.

                                __________   Structure on which to dump:  DSKB:<RET>      Type  the  name  of   the
                                                structure  on  which  you
                                                want  BOOT  to  dump  the
                                                crash   file,   and  then
                                                press    RETURN.     BOOT
                                                defaults  to  the  system
                                                dump list.

   [Dumping on DSKB:CRASH.EXE[1,4]]             Approximately 20  seconds


                                    10-3
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


                                                elapse  while  BOOT dumps
                                                the memory image  to  the
                                                file DSKB:CRASH.EXE[1,4].

        2.  Reload the last monitor that was loaded.

            When the monitor has been loaded  into  memory,  the  monitor
            startup  questions  begin.   (See  Section  4.5.)  There is a
            60-second time-out after the first monitor startup  question.
            If  you do not answer the first question during the 60-second
            time-out, the system assumes (and  prints  on  the  CTY)  the
                                                                  _______            default  answers  to  the ONCE dialog.  (Refer to the TOPS-10
            ________ ____________ _____            Software Installation Guide for complete information  on  the
            ONCE dialog.)


   Normally, if the monitor  crashes,  BOOT  automatically  performs  the
   above  steps  for you.  However, if the monitor crashes twice within 5
   minutes, you must direct BOOT to manually perform them.  (See  Section
   10.2.2.)

   When your system administrator or Field Service representative reports
   a  crash  to  DIGITAL,  you must provide the logbook information and a
   magnetic tape containing both the crash file and a copy of the monitor
   as  it  appeared  before  it  was  run.  (Be sure to include operating
   system and software version numbers.)

   After you answer the monitor startup questions, INITIA may print a few
   lines  on  the  CTY.  Whether or not your system runs INITIA at system
   startup is determined when the monitor is generated.   (Refer  to  the
   _______ ________ ____________ _____   TOPS-10 Software Installation Guide for more information on INITIA.)



   10.2.1  Automatically Dumping and Reloading the Monitor   10.2.1  Automatically Dumping and Reloading the Monitor

   Usually, if the system has not crashed in the  last  5  minutes,  BOOT
   automatically  dumps  and  reloads  the  system.   In  this  case, the
   following message prints on the CTY:

   ?CPU0 monitor error.  Stopcode name is UIL
   File TTY6:
   Job 2 on TTY6 running FD User [1,2]

   CPU Status Block on dd-mmm-yy hh:mm:ss

   CONI APR, = 001060,,004072
   CONI PI, = 000000,,000377
   CONI PAG, = 000000,,020000
   DATAI PAG, = 500100,,000117

   Reload monitor


                                    10-4
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   [Dumping on DSKB:CRASH.EXE[1,4]]             Approximately 20  seconds
                                                elapse  while  BOOT dumps
                                                the memory image  to  the
                                                file DSKB:CRASH.EXE[1,4].

   [Loading from DSKB:SYSTEM.EXE[1,4]]          BOOT is now reloading the
                                                monitor.

   When the first monitor startup question prints on your CTY, the system
   has already used the /D switch to BOOT to dump the memory image to the
   crash file DSKB:CRASH.EXE[1,4] and has loaded the default monitor from
   the file DSKB:SYSTEM.EXE[1,4].

   There  is  a  60-second  time-out  after  the  first  monitor  startup
   question.   If  you  do  not  answer  the  first  question  during the
   60-second time-out, the system assumes (and prints  on  the  CTY)  the
                                                         _______ ________   default  answers  to  the ONCE dialog.  (Refer to the TOPS-10 Software
   ____________ _____   Installation Guide for complete information on the ONCE dialog.)

   After you answer the monitor startup questions, INITIA may print a few
   lines  on  the  CTY.  Whether or not your system runs INITIA at system
   startup is determined when the monitor is generated.   (Refer  to  the
   _______ ________ ____________ _____   TOPS-10 Software Installation Guide for more information on INITIA.)



   10.2.2  Manually Dumping and Reloading the Monitor   10.2.2  Manually Dumping and Reloading the Monitor

   To manually dump and reload the monitor, perform the following steps:

                                    ___________        1.  Type everything that is underscored in the  following  sample
            dialog:

   __   ^\ENABLED                                 Type  CTRL/backslash,  which
                                             does    not    echo.     The
                                             microprocessor  then  prints
                                             the word ENABLED.

        _________   KS10>SHUT<RET>                            Type  SHUT  at   the   KS10>
                                             prompt, then press RETURN to
                                             shut down the system.

   KS10>USR MOD                              Enter user mode.

        _______   BOOT>/D<RET>                              Type /D and press RETURN  to
                                             dump the memory image to the
                                             default file  specification,
                                             DSKB:CRASH.EXE[1,4].    (The
                                             prompt prints here  only  if
                                             the  system  has not been up
                                             for 5 minutes.)



                                    10-5
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   [Dumping on DSKB:CRASH.EXE[1,4]]          Approximately   20   seconds
                                             elapse  while BOOT dumps the
                                             memory  image  to  the  file
                                             DSKB:CRASH.EXE[1,4].

        _____   BOOT><RET>                                Press  RETURN  to  load  the
                                             default   monitor  from  the
                                             file DSKB:SYSTEM.EXE[1,4].

   [Loading from DSKB:SYSTEM.EXE[1,4]]       BOOT is  now  reloading  the
                                             monitor.

            When the monitor has been loaded  into  memory,  the  monitor
            startup questions begin.

        2.  Answer the monitor startup  questions  discussed  in  Section
            5.6.

   After you answer the monitor startup questions, INITIA may print a few
   lines  on  the  CTY.  Whether or not your system runs INITIA at system
   startup is determined when the monitor is generated.   (Refer  to  the
   _______ _______ ____________ _____   TOPS-10 Monitor Installation Guide for more information on INITIA.)



   10.3  RECOVERING FROM A HUNG OR LOOPING SYSTEM   10.3  RECOVERING FROM A HUNG OR LOOPING SYSTEM

   Sometimes the central processor does not respond to you or  to  users.
   In  this case, if the scheduler cannot run any job other than the null
   job, then the central processor is probably hung or looping.

   To recover from a hung or looping system, make certain  the  processor
   LOCK  switch  is  off.  Then follow the procedure discussed in Section
   10.2.2.

   If this procedure does not solve the  problem,  you  can  perform  the
   following steps:

                                    NOTE

           The   following   procedure   will   destroy    useful
           information  in  the dump.  Use this procedure only if
           the procedure described in  Section  10.2.2  does  not
           work.


        1.  Make sure the processor LOCK switch is off.

                                    ___________        2.  Type everything that is underscored in the  following  sample
            dialog:

   __   ^\ENABLED                                  Type CTRL/backslash,  which


                                    10-6
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


                                              does    not    echo.    The
                                              microprocessor then  prints
                                              ENABLED.

        _______   KS10>MR<RET>                               Type MR and press RETURN to
                                              reset memory.

        _______   KS10>SM<RET>                               Type SM and press RETURN.

   %HLTD/000000   PC/000000,,000000

        __ ________   KS10>ST 407<RET>                           Type  ST  407   and   press
                                              RETURN.

   KS10>USR MOD                               Enter user mode.

        _______   BOOT>/D<RET>                               Type /D and press RETURN to
                                              dump  the  memory  image to
                                              the      default       file
                                              DSKB:CRASH.EXE[1,4].    (If
                                              the system has been up  for
                                              five  minutes,  the  prompt
                                              does not print.)

   [Dumping on DSKB:CRASH.EXE[1,4]]           Approximately  20   seconds
                                              elapse while BOOT dumps the
                                              memory image  to  the  file
                                              DSKB:CRASH.EXE[1,4].

        _____   BOOT><RET>                                 Press RETURN  to  load  the
                                              default  monitor  from  the
                                              file DSKB:SYSTEM.EXE[1,4].

   [Loading from DSKB:SYSTEM.EXE[1,4]]        BOOT is now  reloading  the
                                              monitor.

            When the monitor has been loaded  into  memory,  the  monitor
            startup questions begin.

        3.  Answer the monitor startup  questions  discussed  in  Section
            5.6.



   10.4  COPYING CRASH DATA   10.4  COPYING CRASH DATA

   CRSCPY is the default program that automatically copies  system  dumps
   and  then  clears  the  unprocessed-dump  bit.   CRSCPY runs at system
   startup and when a continuable stopcode occurs.  (Refer to Appendix  A
   and  the  files  CRSCPY.DOC and CRSCPY.HLP for complete information on
   CRSCPY.)



                                    10-7
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   If you want to use your installation's  own  program  to  copy  system
   dumps,  you  must  redefine  the  symbol CPYNAM in the SIXBIT hardware
   definitions  in  MONGEN  to  be  equivalent  to  the  name   of   your
                                            _______ ________ ____________   installation's  program.   (Refer to the TOPS-10 Software Installation
   _____   Guide for complete information on MONGEN.)



   10.5  RECOVERING FROM STOPCODES (MONITOR ERROR STOPS)   10.5  RECOVERING FROM STOPCODES (MONITOR ERROR STOPS)

   When the monitor detects an internal error, it executes  its  stopcode
   macro.  This macro prints the following message on the CTY:

   ?CPU0 monitor error.  Stopcode name is xxx

   where:

        xxx  is a  mnemonic  identifying  the  error.   (See  the  STOPCD
             specification  in the Software Notebooks for a complete list
             of stopcodes.)

   The following types of stopcodes, may occur:

         o  DEBUG (See Section 10.5.1)

         o  JOB (See Section 10.5.2)

         o  STOP (See Section 10.5.3)

         o  CPU (See Section 10.5.4)

         o  HALT (See Section 10.5.5)

         o  INFO (See Section 10.5.6)

         o  EVENT (See Section 10.5.6)

   In general, there are two types of stopcodes:   continuable  stopcodes
   that  allow  most  user  jobs  to  continue  without interruption, and
   noncontinuable stopcodes that cause the system  to  halt  and  reload.
   HALT  stopcodes  do not initiate automatic recovery procedures.  Also,
   HALT stopcodes do not cause the '?CPUn monitor error.   Stopcode  name
   is  xxx'  error message to print.  The following is an example of what
   you will see on  the  CTY  when  the  monitor  detects  a  continuable
   stopcode.

   ?CPU0 monitor error.  Stopcode name is ICN


   CPU Status Block on dd-mmm-yy hh:mm:ss

   CONI APR, = 001060,,004102


                                    10-8
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   CONI PI, = 000000,,000777
   CONI PAG, = 000000,,020000
   DATAI PAG, = 500100,,000002
   [Dumping on DSK:CRASH.EXE[1,4]]
   [Continuing system]


   In this case, the monitor executed  its  stopcode  macro,  dumped  the
   memory image, and continued the system.

                                                       _______  _________   For more information on stopcodes,  refer  to  the  TOPS-10  Stopcodes
   _____________   Specification.



   10.5.1  Identifying DEBUG Stopcodes   10.5.1  Identifying DEBUG Stopcodes

   A DEBUG stopcode is not immediately harmful  to  any  job  or  to  the
   system.  The monitor prints the following message on the CTY:

   ?CPU0 monitor error.  Stopcode name xxx
   [Continuing system]                    

   Processing then continues.  Fill out a Software Error Report form.



   10.5.2  Identifying JOB Stopcodes   10.5.2  Identifying JOB Stopcodes

   A  JOB  stopcode  indicates  an  internal  error  that  endangers  the
   integrity  of  the  job that is currently running.  The monitor prints
   the following message on the CTY:

   ?CPU0 monitor error.  Stopcode name xxx
   [Aborting job]                         

   Also, the following message prints on the user's terminal:

   ?Monitor error; UUO at address

   where address is one of the following virtual memory locations:

         o  User loc n

         o  Exec loc n; Exec called from exec location m

         o  Exec loc n; Exec called from user location m

   where m and n are memory addresses.

   The  monitor  then  aborts  the  current  job  and  continues   normal
   operation.  Fill out a Software Error Report form.


                                    10-9
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   10.5.3  Identifying STOP Stopcodes   10.5.3  Identifying STOP Stopcodes

   A STOP  stopcode  indicates  an  internal  error  that  endangers  the
   integrity  of  the  entire  system.   The monitor prints the following
   message on the CTY:

   ?CPU0 monitor error.  Stopcode name xxx
   Reload monitor                         

   This means that  all  jobs  are  aborted  and  the  system  begins  to
   automatically dump and reload the monitor.

   If the monitor can obtain  the  necessary  information,  it  prints  a
   supplementary message on the CTY of the form:

   JOB jobno on TTYnnn running xxxxxx            
   UUO is octal at user PC address
   File filespec                                 

   where:

        jobno            is the number of the job causing the error.

        nnn              is the number of the controlling TTY.

        xxxxxx           is the name of the program running for that job.

        octal            is the octal representation of the  monitor call
                         that failed for that job.

        address          is the value of the  program  counter  for  that
                         job.

        filespec         is the file specification  for  the  file  being
                         accessed.



   10.5.4  Identifying CPU Stopcodes   10.5.4  Identifying CPU Stopcodes

   A CPU stopcode has the same effect  as  a  STOP  stopcode.   In  other
   words,  a CPU stopcode indicates an error that endangers the integrity
   of the entire system.  The monitor prints the following message on the
   CTY:

   ?CPU0 monitor error.  Stopcode name xxx
   Reload monitor                         

   This means that  all  jobs  are  aborted  and  the  system  begins  to
   automatically dump and reload the monitor.

   If the monitor can obtain  the  necessary  information,  it  prints  a


                                   10-10
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   supplementary message on the CTY of the form:

   Job jobno on TTYnnn Running xxxxxx            
   UUO is octal at user PC address
   File filespec                                 

   where:

        jobno            is the number of the job causing the error.

        nnn              is the number of the controlling TTY.

        xxxxxx           is the name of the program running for that job.

        octal            is the octal representation of the  monitor call
                         that failed for that job.

        address          is the value of the  program  counter  for  that
                         job.

        filespec         is the file specification  for  the  file  being
                         accessed.



   10.5.5  Identifying HALT Stopcodes   10.5.5  Identifying HALT Stopcodes

   A HALT stopcode affects the entire system.  Also, the  monitor  cannot
   automatically  reload.   In  this case, the system halts, and you must
   manually dump and reload the monitor.  (See Section 10.2.2.)



   10.5.6  Identifying INFO and EVENT Stopcodes   10.5.6  Identifying INFO and EVENT Stopcodes

   INFO and EVENT stopcodes report  on  system  events  that  may  be  of
   interest  in debugging crashes.  These stopcodes are for informational
   purposes only, and do not interrupt system or  job  execution.   EVENT
   stopcodes are the same as INFO, but do not ring the terminal bell, and
   the CTY message is in a different format.



   10.6  RECOVERING FROM PARITY AND NXM ERRORS   10.6  RECOVERING FROM PARITY AND NXM ERRORS

   Memory-system errors are hardware errors.  The types of  memory-system
   errors are:

        1.  Parity errors

        2.  NXM (nonexistent memory) errors



                                   10-11
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   When the system detects  a  parity  or  NXM  error,  it  performs  the
   following steps:

        1.  Prints a series of informational messages that  describe  the
            error.

            Include these informational messages in the  system  logbook.
            They   are   important   because   they  provide  the  system
            programmers  and  your  Field  Service  representative   with
            information that will help them troubleshoot the problem.  To
            make  the  informational  messages  easy  to   identify,   15
            asterisks  (that  is, ***************) print on the CTY above
            and below each message series.  (See Examples 1 and 2.)

        2.  Tries to automatically recover in the  way  that  causes  the
            least amount of damage.

        3.  Prints one of the  following  error  messages  if  it  cannot
            recover:

            ?Non-recoverable memory parity error in monitor.
            [CPU Halt]

            ?Non-existent memory detected in monitor.
            [CPU Halt]

            If either of the above error  messages  prints  on  the  CTY,
            perform the following steps:

            a.  Include the error messages that are printed on the CTY in
                the system logbook.

            b.  Manually dump  and  reload  the  monitor.   (See  Section
                10.2.2.)

            c.  If you cannot dump and  reload  the  monitor,  call  your
                Field Service representative.


   Examples 1 and 2 are similar to what you  see  on  the  CTY  when  the
   monitor detects a memory error.


   Example 1:  (CPU Parity Trap)


   ***************
   CPU0 parity trap at user PC 007017 on dd-mmm-yy hh:mm:ss
   Job 42[WRTBAD] was running
   Page fail word = 760000,013271
   Mapped page fail address = 543001,,306271
   Incorrect contents = 000000,,000000


                                   10-12
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   CONI PI, = 000000,,000377
   Retry unsuccessful. Offending location zeroed.
   ****************


   Example 2: (Memory Parity Scan)


   ***************
   Memory parity scan initiated by channel 0 on CPU0 on dd-mmm-yy
   hh:mm:ss
   Parity errors detected:
     at 253271 (phys.), Contents = 000000,,000000
   ***************



   10.7  RESTARTING A HUNG CONSOLE TERMINAL (LA36)   10.7  RESTARTING A HUNG CONSOLE TERMINAL (LA36)

   If you try to type commands on a CTY and no  characters  are  printed,
   check to see if the following conditions are met:

         o  The CTY should be plugged in.

         o  There should be paper in the  CTY.   (If  you  replenish  the
            supply,  and characters still do not print, switch the CTY to
            LOCAL and then back to ON-LINE.)

         o  The fuse on the vertical panel  under  the  keyboard  is  not
            burned out.

         o  The CTY should work when it is set to LOCAL.

         o  The CTY should be on-line.

         o  The CTY should be set to the correct speed.

         o  No other terminals should work.

   If the above conditions are  met,  reload  the  system  from  disk  or
   magnetic  tape.   If  these  conditions are not met, or if the problem
   persists, call your Field Service representative.



   10.8  FINDING A MISSING MONITOR FILE   10.8  FINDING A MISSING MONITOR FILE

   Sometimes, when you load the system from a cold start  with  BOOT,  ?J
   prints  on  the  CTY.   This  means  that  when BOOT tried to read the
   monitor from disk, it could not find the file that you specified.   If
   you  pressed  RETURN  after  the  BOOT> prompt, then the file that you
   specified was DSKB:SYSTEM.EXE[1,4].  The following message  prints  on


                                   10-13
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   the CTY:

   %File not found dev:file.ext[ppn]

   This means that when BOOT tried to reload the monitor  from  disk,  it
   could not find the file that you specified.

   To solve either of these  problems,  check  that  you  have  done  the
   following:

         o  Correctly  specified  a  nondefault  monitor  name  if   your
            installation uses a nondefault monitor.

         o  Mounted the correct disk packs.

         o  Set the mounted disk packs on-line.



   10.9  ALLOWING SYSTEM DIAGNOSIS WITH KLINIK   10.9  ALLOWING SYSTEM DIAGNOSIS WITH KLINIK

   The KLINIK link allows  a  DIGITAL  Field  Service  representative  or
   software specialist to diagnose a problem in your system from a remote
   location.  By using the KLINIK link, DIGITAL's Field  Service  product
   support  group  and  software  specialists  can  collect  and  analyze
   performance data without traveling to your installation.

   The KLINIK link can be  in  one  of  four  states,  depending  on  the
   position  of  the  REMOTE  DIAGNOSIS  switch  on  the front panel, the
   commands you type, and the commands the KLINIK user types.   The  four
   states are:

        1.  State 1 - Unavailable

        2.  State 2 - Awaiting Password

        3.  State 3 - Timesharing User

        4.  State 4 - Remote CTY

   The link must be in State 4 to use the KLINIK facility.

   In State 1, the REMOTE DIAGNOSIS switch is in  the  DISABLE  position.
   The  KLINIK  link is also in State 1 if the REMOTE DIAGNOSIS switch is
   in the PROTECT position, and you  (the  operator)  have  not  typed  a
   password  into  memory  using the PW command.  In State 1, the user at
   the remote site receives the message ?NA, which means not available.

   In State 2, the REMOTE DIAGNOSIS switch is in  the  PROTECT  position,
   and  you  have  typed  a  password  using the PW command.  The console
   program waits for the KLINIK user to type a password for verification.
   In  this  state, the KLINIK user receives the message PW:  in response


                                   10-14
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   to the first character typed on the remote terminal.

   The message ?IL followed by PW:  prints on the remote terminal if  the
   KLINIK  user  types  an incorrect password.  The KLINIK user has three
   chances to type the  correct  password.   After  three  failures,  the
   console  program  hangs  up the line.  However, if the user enters the
   correct password, the message OK prints on the  remote  terminal,  and
   the KLINIK link enters State 3.

   In State 3, each character that the KLINIK user types is sent directly
   to  the  running monitor, which causes the KLINIK link to behave as if
   it were a normal  timesharing  line.   State  3  helps  Field  Service
   personnel examine system error files and crash dumps.

   In State 4, the KLINIK link is considered a remote  CTY.   The  KLINIK
   user can type any command that you (the operator) can type on the CTY.
   Input is taken from both the CTY and the remote  CTY  as  if  it  were
   typed  from one terminal.  For example, a SYSTAT can be done by typing
   S at the CTY and Y followed by a carriage return at  the  remote  CTY.
   Therefore,  be  careful  not  to type on the CTY while the KLINIK user
   types on the remote CTY.

   To enter State 4, the KLINIK link must first be in State 3, and the KL
   command  must  be on (you must have typed the KL 1 command).  Then the
   KLINIK  user  must  type  the  correct   password,   followed   by   a
   CTRL/backslash.  The KLINIK link is now in State 4.

   Another way to enter State 4 is to turn the REMOTE DIAGNOSIS switch to
   the  ENABLE  position  and  turn the KL command on by typing KL 1.  To
   enter State 4, the KLINIK user types CTRL/backslash.  No  password  is
   necessary.   This  method  gives less security to the KLINIK link than
   the first method.  However, it is a useful option  when  there  is  no
   operator coverage.

   The various states of the KLINIK link are:

                                              KLINIK User   
     Switch Position   Operator Commands      Response      State

         DISABLE            none                 none         1

         PROTECT            none                 none         1

         PROTECT         PW password             none         2

         ENABLE             none                 none         3

         PROTECT         PW password           password       4
                            KL 1            CTRL/backslash

         ENABLE             KL 1            CTRL/backslash    4



                                   10-15
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   If you turn the REMOTE DIAGNOSIS switch to DISABLE while in any state,
   you switch the KLINIK link to State 1, unavailable.

   You need not enter a password into memory with the PW command nor type
   the  KL 1 command every time you need to enable the KLINIK link.  They
   are retained in memory until one of the following occurs:

         o  The power is turned off and then turned on again.

         o  The RESET switch is pressed.

         o  PW followed by a carriage return is typed.  This removes  the
            password  from memory.  If this happens during States 2 or 4,
            the KLINIK link returns to State 1.  Type KL 0.   Typing  the
            KL 0 command changes the KLINIK link from State 4 to State 2.

   The following commands to the console program allow you to  enable  or
   disable the KLINIK facility:

      Command                           Function

     KL 1           Turns on the KL  command  so  that  State  3  can  be
                    entered.

     KL 0           Turns off the KL command so that State 3 is disabled.

     KL             Gives the status of the KL command.

     PW password    Allows you to enter a one- to six-character  password
                    into  memory.   The  password  remains  in the memory
                    until you type PW and press RETURN, or until you turn
                    the  power  off  and  back on again, or until you you
                    press the RESET switch.



   10.10  RECOVERING FROM KS10 HALT-STATUS CODES   10.10  RECOVERING FROM KS10 HALT-STATUS CODES

   When the KS10 processor halts, the  microprocessor  prints  a  6-digit
   binary  code  on the CTY.  This code, called a halt-status code, tells
   you why the KS10 processor halted.  A halt-status code prints  in  the
   following form:

   %HLTD/nnnnnn  PC/000000,,xxxxxx

   where:

        nnnnnn  is the halt-status code.

        xxxxxx  are the contents of the program counter when the KS10  is
                halted.



                                   10-16
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   The halt status codes are:

         Halt Code                        Explanation

          000001     A halt instruction, such as  a  HALT  stopcode,  has
                     been executed

          000002     The   console   program,   which   runs    in    the
                     microprocessor,  halted  the  CPU.   That  is, an HA
                     command was typed at the CTY.

          000100     An I/O  page  failure  occurred.   Call  your  Field
                     Service representative.

          000101     An illegal  instruction  interrupt  occurred.   Call
                     your Field Service representative.

          000102     The pointer to the UNIBUS vector is zero.  Call your
                     Field Service representative.

          001000     An illegal microcode  dispatch  occurred.  Call
          001004     your Field Service representative.

          001005     The microcode startup check failed.  Call your Field
                     Service representative.



   10.11  MICROPROCESSOR ERROR MESSAGES   10.11  MICROPROCESSOR ERROR MESSAGES

   If the microprocessor detects an error, it prints one of the following
   error  messages.   Unless otherwise noted, these errors occur when the
   monitor is not running.


   ?BFO

      Problem:   Buffer overflow.  You typed more than 80 characters on a
                 single  line while in console mode.  This message prints
                 during timesharing.

      Solution:  Try again with 80 or fewer characters on a single line.


   ?BN

      Problem:   Bad number.  The number you typed was  not  octal.   The
                 console   program  accepts  only  octal  numbers.   This
                 message prints during timesharing.

      Solution:  Retype the number in octal.



                                   10-17
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   ?BT xxxyyy

      Problem:   Boot error where xxxyyy is an octal code that represents
                 the   error.    You  may  have  tried  to  boot  from  a
                 nonexistent device, from a device that  is  not  in  the
                 proper  format,  or from a device that does not have the
                 KS10 microcode on it.  xxxyyy represents  the  following
                 octal  codes when the microprocessor is trying to access
                 either a disk or a magnetic tape:


                    xxx                    Explanation

                    001  Accessing Disk -  The microprocessor encountered
                         an  error  while  it was trying to read the HOME
                         blocks.  This error can be caused  by  selecting
                         the  wrong  unit,  by having no disk pack in the
                         drive,  by  specifying  the  wrong  RHBASE,   by
                         selecting  the wrong UNIBUS adapter, or by using
                         a bad disk drive.  This error can also occur  if
                         the  microprocessor can read both the HOME block
                         and the alternate HOME blocks, but  neither  has
                         the HOME-block identifier (HOM) in SIXBIT.

                         Accessing  Magnetic  Tape -  The  microprocessor
                         encountered an error while it was trying to read
                         the first page of the  microcode  from  magnetic
                         tape.  This error can be caused by selecting the
                         wrong  unit,  by  specifying  the  wrong  RHBASE
                         address,  by selecting the wrong UNIBUS adapter,
                         by selecting the wrong slave, by specifying  the
                         wrong  density,  by  using  a bad tape drive, by
                         using a  bad  magnetic  tape,  or  by  using  an
                         improperly formatted magnetic tape.

                         Any  microprocessor  command  or  process   that
                         accesses  a  disk or magnetic tape can cause you
                         to receive this message.

                    002  The microprocessor encountered an error while it
                         was  trying  to  read  the page of pointers that
                         makes up the microprocessor file  system.   This
                         error  can  be  caused  by  using  an improperly
                         formatted disk pack,  by  trying  to  read  HOME
                         blocks  that contain errors, by using a bad disk
                         drive, or by using a bad disk pack.

                         Any  microprocessor  command  or  process   that
                         accesses  a  disk or magnetic tape can cause you
                         to receive this message.

                    003  The microprocessor encountered an error while it


                                   10-18
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


                         was  trying  to  read a page of microcode.  This
                         error can  be  caused  by  using  an  improperly
                         formatted disk pack or by using a bad disk drive
                         or pack.

                    004  The microcode did not start running successfully
                         after a BT or an MT command.

                         The microprocessor encountered an error while it
                         was  trying  to  read the preboot program.  This
                         error can  be  caused  by  using  an  improperly
                         formatted  disk  pack  or  magnetic  tape, or by
                         using a bad disk drive or pack.


                    yyy  This represents the  lower  eight  bits  of  the
                         microprocessor        address       of       the
                         channel-command-list operation that failed.

      Solution:  Try again with a select command  for  the  desired  boot
                 device  (MS or DS) and then repeat the boot command that
                 failed.


   ?BUS

      Problem:   Bad KS10 bus.  This error may occur on power up.

      Solution:  Call your Field Service representative.


   ?CHK n

      Problem:   Microprocessor checksum error; n is  the  error  number.
                 This error may occur on power up.

      Solution:  Call your Field Service representative.


   ?DNC

      Problem:   Did not complete.  This message usually  occurs  if  you
                 have  bad KS10 microcode, no KS10 microcode, or the KS10
                 microcode has not been loaded.  If the message occurs in
                 response to an HA command, the KS10 microcode may not be
                 running (for example, when you have pressed RESET).

      Solution:  Try reloading the microcode.   If  the  error  persists,
                 call your software specialist.


   ?DNF


                                   10-19
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


      Problem:   Did not finish.  This message may occur during a CO, ST,
                 or  EX  command.  Usually, this error occurs if you have
                 bad KS10 microcode,  no  KS10  microcode,  or  the  KS10
                 microcode has not been started.

      Solution:  Call your software specialist.


   ?FRC

      Problem:   Forced reload.  This message  means  that  an  automatic
                 reload  is  in progress.  When it is complete, the first
                 monitor startup  question  prints  on  the  CTY  (occurs
                 during timesharing).

      Solution:  Answer the monitor startup questions.


   ?IA

      Problem:   Illegal address.  The  address  you  typed  was  out  of
                 range.

      Solution:  Repeat the command with a legal address.

   ?IL

      Problem:   Illegal command.  The console program did not  recognize
                 the sequence of characters you typed as a legal command.

      Solution:  Try again.


   ?KA

      Problem:   Keep-alive  error.   This  error  occurs   only   during
                 timesharing.  The monitor has not updated the keep-alive
                 count for 15 seconds.  The monitor will resume operation
                 and print a Keep-Alive Fail (KAF) stopcode.

      Solution:  Wait.  If no  KAF  stopcode  occurs,  follow  the  steps
                 listed  in  Section  10.2.2.   If the KAF occurs, follow
                 instructions for recovery in Section 10.1.


   ?MRE

      Problem:   Memory refresh error (occurs during timesharing).

      Solution:  Follow the steps in Section 10.6.




                                   10-20
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   ?NDA

      Problem:   No data acknowledged.

      Solution:  Call your software specialist.


   ?NR-SCE

      Problem:   Nonrecoverable soft CRAM error.

      Solution:  Call your Field Service representative.


   ?NXM

      Problem:   Nonexistent memory.  This message can occur during an EM
                 or  DM  command.   The  command referenced a nonexistent
                 memory location.

      Solution:  This can mean that you examined a memory  location  that
                 exceeds  the  memory  capacity  of your system.  In this
                 case, ?NXM  does  not  mean  that  there  is  an  error.
                 Sometimes,  when you load the system, ?NXM prints on the
                 CTY.  In this case, ignore it.  If you use the EM or  DM
                 command  to  specify  a  memory location that is clearly
                 within the capacity of your system, but ?NXM  prints  on
                 the CTY, call your software specialist.


   ?PAR ERR xxx yyy zzz

      Problem:   Memory parity  error.   The  KS10  CPU  clock  has  been
                 frozen.    xxx   yyy  zzz  represents  the  contents  of
                 microprocessor  registers  100,  103,  and  303  (occurs
                 during  timesharing).   (For  more  information  on  the
                 contents of microprocessor registers, refer to the KSCOM
                 specification in the Software Notebooks.)

      Solution:  Follow the steps in Section 10.6.


   ?RA

      Problem:   The command requires an argument.  The command that  you
                 typed must be followed by an argument.

      Solution:  Repeat the command and provide an argument.


   ?RUNNING



                                   10-21
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


      Problem:   Clock running.  The CPU clock must be stopped to execute
                 the command that you typed.

      Solution:  Stop the CPU clock and then retype the command.


   %SCE xxxxxx

      Problem:   Soft CRAM error.  xxxxxx represents the address at which
                 the microprocessor encountered the error.

      Solution:  Call your Field Service representative.


   ?UI

      Problem:   Unknown interrupt.   The  console  program  received  an
                 internal  interrupt and found no character on either the
                 CTY input line or the KLINIK input line  (occurs  during
                 timesharing).

      Solution:  Call your Field Service representative.



   10.12  RECOVERING FROM ENVIRONMENTAL ERRORS   10.12  RECOVERING FROM ENVIRONMENTAL ERRORS

   The causes of environmental crashes are varied.   They  include  power
   fluctuations,   power  outages,  temperature  extremes,  water  leaks,
   accidental spills, mechanical shocks, and so  forth.   Some  of  these
   environmental problems are easy to detect before they cause the system
   to crash.  For example, if the air-conditioning system fails, the rise
   in  temperature  could  cause  a  system  crash.   Other environmental
   problems, however, will occur without warning.

   Whenever possible, you should perform an orderly shutdown  if  any  of
   these  conditions  are  imminent.  When the problem is solved, you can
   power up and reload the system.

   When either a power fluctuation  or  outage  occurs,  a  power-failure
   detection  circuit senses it, and initiates a power-failure interrupt.
   This interrupt triggers the operation of a program that saves the  PC,
   flags,  mode information, and fast memory registers; then it halts the
   processor.  The system will try to recover automatically when power is
   restored.

   If the temperature rises above an acceptable level, it  is  sensed  by
   temperature  sensors,  which cause the power to shut down and initiate
   the power-failure interrupt sequence.

   A power fluctuation is a variation in line voltage that occurs over  a
   short  time.   Although  the  power is not lost completely, the system


                                   10-22
                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KS10 CENTRAL PROCESSOR


   will probably go through an automatic restart procedure.

   A power outage is a complete loss of power.  If the power goes off and
   then  comes  back  on  suddenly,  the  surge  of  power can damage the
   equipment.  Therefore, when the power goes off,  turn  the  START/STOP
   switch  on all disk drives to STOP.  When the power has been restored,
   the system will go through an automatic restart procedure.

   If the automatic restart procedure after a power outage or fluctuation
   is unsuccessful, perform the following steps:

        1.  Check all equipment to make sure that  there  is  power.   If
            there is power, try to power up.  (See Sections 4.2 and 4.3.)
            If this fails, call your Field Service representative.

        2.  If necessary, reload the monitor.  If the  monitor  will  not
            load, check the various controllers; clear them if necessary,
            and try to reload the monitor.  If  this  still  fails,  call
            your Field Service representative.



































                                   10-23

























































                                    11-1












                                 CHAPTER 11                                 CHAPTER 11

                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR



   This  chapter  describes  errors  and  recovery  procedures   for   KL
   processors.  For KS error recovery, refer to Chapter 10.

   When the system is running, unexpected errors may occur, resulting  in
   a crash.  A crash can be caused by one or more of the following:

         o  Software problems

         o  Hardware problems

         o  Environmental problems

   The system usually uses BOOT as the bootstrap program.  Use BOOT  when
   you  first  power  up your system.  If the system crashes after it has
   been running for more than five minutes, BOOT automatically dumps  and
   reloads the system.

   Excluding crashes, after the system has been running for five  minutes
   you only have to use BOOT if you power down the system and load from a
   cold start, or if the system does not recover from  an  error.   These
   situations prevent BOOT from performing an automatic reload.

   The monitor calls BOOT, which can dump any amount of memory, from  one
   page to all of it.  The bootstrap program is highly tolerant of errors
   such as memory parity errors.  When an error occurs,  BOOT  prints  an
   error  message  before  it  takes  corrective  action.   (For  further
   information on BOOT messages, see Appendix A.

   It is very important to record all  system  problems  accurately.   If
   software  problems  cause  a crash, you must fill out a Software Error
   Report (SER) form and make an entry in  the  logbook.   Similarly,  if
   hardware  problems  cause  a crash, you must fill out a hardware error
   form and make a log entry.  This chapter discusses some of the  errors
   you may encounter and how you can correct them.  To correct errors not
   discussed in this chapter, contact either the  system  programmers  or
   your software specialist.



                                    11-1
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   Sections  11.1  through  11.16  apply  to  both  single-processor  and
   Symmetric  Multiprocessing  (SMP)  systems.   Section  11.17, however,
   applies only to SMP systems.  If you have  an  SMP  system,  you  must
   perform  the  CPU-specific  procedures  on the CTY for the appropriate
   CPU.

   Common problems and references to the sections that address them are:

         o  Nothing prints on CTY when you type  CTRL/backslash  (Section
            11.2).

         o  System does not respond to you or to  users  (Sections  11.1,
            11.2, 11.3).

         o  Two crashes occur within 5 minutes (Section 11.2.2).

         o  System does not automatically reload (Section 11.2.2).

         o  System overwrites crash file (Section 11.4).

         o  Stopcode prints on CTY (Section 11.5).

         o  "KLI --" followed by a message prints on CTY (Section 11.7).

         o  Message   that   begins    "?Non-recoverable    memory"    or
            "?Non-existent memory" prints on CTY (Section 11.8).

         o  "***************" prints on CTY above and below a  series  of
            messages (Section 11.8).

         o  Memory module is unusable (Section 11.9).

         o  No characters print on CTY (Section 11.10).

         o  "?J" prints on CTY (Section 11.11).

         o  "%File not found..." prints on CTY (Section 11.11).

         o  "%%PDP-11"   followed   by   a   message   prints   on    CTY
            (Section 11.12).

         o  "%%Tape"   followed   by   a   message    prints    on    CTY
            (Section 11.13).

         o  Power fails or fluctuates (Section 11.16).



   11.1  RECOVERING FROM A KL10 CRASH   11.1  RECOVERING FROM A KL10 CRASH

   On an SMP system, each KL has a console front end that  runs  RSX-20F.
   If  the  KL10  crashes,  RSX-20F  detects  the  error and performs the


                                    11-2
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   following steps for the CPU to which it is attached:

        1.  Prints an error message

        2.  Dumps the system

        3.  Reloads the system

   RSX-20F performs these steps by  calling  KLERR,  which  analyzes  the
   error  and  prints  system  information  that  will  help  the  system
   programmers debug the software.  (For more information on KLERR, and a
                                                          _______________   complete  list of RSX-20F error messages, refer to the TOPS-10/TOPS-20
   _______ ______ _________ ______   RSX-20F System Reference Manual.  Then, RSX-20F  calls  KLINIT,  which
   passes  control  to  the  crash  restart  routine.  In turn, the crash
   restart routine automatically dumps and reloads the system.

   If the crash restart routine fails, you must manually dump and  reload
   the system.  (See Section 11.2.2.)


                      ----- KLERR Error Messages -----


   Argument Out of Range

        The number to be loaded into the burst-count register is  greater
        than the maximum number allowed.


   Can't Clear KL Clock

        An attempt to clear the KL clock failed.


   Can't Clear KL Run Flop

        An attempt to clear the Run Flop failed.


   Can't Find KL Halt Loop

        The microcode did not go into its halt loop even when told to  do
        so.


   Can't Sync KL Clock

        A function executed to synchronize the KL clock failed.


   Can't Set KL Run Flop



                                    11-3
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


        KLERR cannot set the Run Flop.


   Directory File Not Found

        KLERR cannot find the directory file into which the error file is
        to be placed.


   DTE-20 Not Privileged, No KL Operations are Legal

        This DTE is not the privileged DTE,  which  is  allowed  complete
        access to the KL.


   DTE-20 Status Failure

        An attempt to read or write the DTE status register failed.


   EBOX Clock Timeout

        The EBOX clock timed out during an attempt to simulate  the  EBOX
        clock from MBOX clocks.


   EBUS Parity Error

        There are parity errors on the EBUS.


   Examine Deposit Mode Illegal

        The arguments for  a  KL  Deposit  or  Examine  are  not  set  up
        correctly.


   Function Execute Failed

        A Function Execute failed.


   Function Read Failed

        A Function Read failed.


   Function Write Failed

        A Function Write failed.




                                    11-4
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   Illegal Function Code

        The code in the argument of the Function Read, Function Write, or
        Function Execute command does not match existing values.


   Internal Programming Error

        There is a problem in the system software.


   KL Clock Error Stop

        A check of diagnostic register 1 reveals that there is  an  error
        in the KL clock.


   KL CRAM Address Error

        The CRAM address to be read is not a valid CRAM address.


   KL in Halt Loop

        The PDP-11 put the KL into the halt loop.


   KL not in Halt Loop

        The PDP-11 could not put the KL into the halt loop.


   KLERRO.SNP File Creation Failed

        Creation of the error file failed.


   Odd Function Code

        The number of the Function  Read,  Function  Write,  or  Function
        Execute does not match existing values.


   Run and Halt Loop Both On

        The KL thinks that the microcode is at the same time in the  halt
        loop and running normally.


   Unable to Enter KLERRO.SNP into Directory

        There was an error when the  file  name  was  inserted  into  the


                                    11-5
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


        directory file.


   Unable to Extend KLERRO.SNP File

        KLERR was denied access when it tried to append to KLERRO.SNP.


   Unable to write KLERRO.SNP file

        An error occurred when KLERR was writing the KLERRO.SNP file.


   Unmatched Error Code

        The error code reported does not match any on the list  of  known
        errors.



   11.2  RECOVERING FROM A MONITOR CRASH   11.2  RECOVERING FROM A MONITOR CRASH

   To recover from a monitor crash, BOOT runs automatically and  performs
   the following steps:

        1.  Records (dumps) the memory image  as  it  appeared  when  the
            monitor crashed.

            BOOT  dumps  the   memory   image   to   the   default   file
            DSKB:CRASH.EXE[1,4],  which  is  called the crash file.  This
            crash file is always written  to  the  same  directory  area,
            [1,4].   However,  if  the  system crashes again, it will not
            overwrite  one  crash  file  with  another.    Instead,   the
            following  dialog  prints on the affected CTY to allow you to
            process the previous crash file with CRSCPY:

   [Dumping on DSKB:CRASH.EXE[1,4]]             BOOT tries  to  dump  the
                                                memory   image   to   the
                                                default              file
                                                specification
                                                DSKB:CRASH.EXE[1,4],
                                                where   DSKB:    is   the
                                                system dump list.

   %Unprocessed dump on DSKB:CRASH.EXE[1,4]]

                               _______   Do you want to overwrite it?No<RET>          Type  No,  which  is  the
                                                default,  or Yes and then
                                                press RETURN.

                              __________   Structure on which to dump:DSKB:<RET>        Type  the  name  of   the
                                                structure  on  which  you


                                    11-6
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


                                                want the monitor to  dump
                                                the  crash  file and then
                                                press    RETURN.     BOOT
                                                defaults  to  the  system
                                                dump list.

   [Dumping on DSKB:CRASH.EXE[1,4]]             Approximately 20  seconds
                                                elapse  while  BOOT dumps
                                                the memory image  to  the
                                                file DSKB:CRASH.EXE[1,4].

        2.  Reloads the last monitor that was loaded.

            When the monitor has been loaded  into  memory,  the  monitor
            startup questions begin.  There is a 60-second time-out after
            the first monitor startup question.  If you do not answer the
            first  question  during  the  60-second  time-out, the system
            assumes (and prints on the CTY) the default  answers  to  the
                                            _______ ________ ____________            ONCE  dialog.   (Refer  to  the TOPS-10 Software Installation
            _____            Guide for complete information on the ONCE dialog.)

   Normally, if the monitor crashes, BOOT automatically performs Steps  1
   and  2 for you.  (See Section 11.2.1.) However, if the monitor crashes
   twice within 5 minutes, you must direct BOOT to manually perform them.
   (See Section 11.2.2.) BOOT error messages are described in Appendix A.

   When your system administrator or Field Service representative reports
   a  crash  to  DIGITAL,  you must provide the logbook information and a
   magnetic tape containing both the crash file and a copy of the monitor
   as  it  appeared  before  it  was  run.  (Be sure to include operating
   system and software version numbers.)

   After you answer the monitor startup questions  described  in  Section
   5.6,  INITIA  may  print  a few lines on the CTY.  Whether or not your
   system runs INITIA at system startup is determined when the monitor is
                             _______ ________ ____________ _____   generated.  (Refer to the TOPS-10 Software Installation Guide for more
   information on INITIA.)



   11.2.1  Automatically Dumping and Reloading the Monitor   11.2.1  Automatically Dumping and Reloading the Monitor

   Usually, if the system has not crashed in the  last  5  minutes,  BOOT
   automatically  dumps  and  reloads  the  monitor.   In  this case, the
   following prints on the CTY:

   %DECSYSTEM-10 NOT RUNNING                    The monitor has  stopped.

   ?CPU0 monitor error. Stopcode name is UIL
   File TTY6:
   Job 2 on TTY6 running FD User [1,2]



                                    11-7
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   CPU Status Block on dd-mmm-yy hh:mm:ss

   APRID = 000231,,364130
   ERA = 602000,131427
   CONI APR, = 007760,,000003
   CONI PI, = 000000,,000777
   CONI PAG, = 000000,620001
   DATAI PAG, = 700100,,000131
   AR ARX Data Word = 000000,,000000
   IO Page Fail Word = 000000,,000000

   SBUS Diags:

   CNTRLR FNC 0          FNC 1
   000000 006000,,000000 036100,,016012
   000001 006000,,000000 036100,,016005
   000011 007743,,166340 000500,,001000

   Reload monitor

   [Dumping on DSKB:CRASH.EXE[1,4]]             Approximately 20  seconds
                                                elapse  while  BOOT dumps
                                                the memory image  to  the
                                                file DSKB:CRASH.EXE[1,4].

   [Loading from DSKB:SYSTEM.EXE[1,4]]          BOOT is now reloading the
                                                monitor.


   When the monitor has been loaded  into  memory,  the  monitor  startup
   questions begin.  (See Section 5.6.)

   There  is  a  60-second  time-out  after  the  first  monitor  startup
   question.   If  you  do  not  answer  the  first  question  during the
   60-second time-out, the system assumes (and prints  on  the  CTY)  the
   default  answers  to  the ONCE dialog.  (Refer to the TOPS-10 Software
   Installation Guide for complete information on the ONCE dialog.)

   After you answer the monitor startup questions  described  in  Section
   5.6  INITIA  may  print  a  few lines on the CTY.  Whether or not your
   system runs INITIA at system startup is determined when the monitor is
                             _______ ________ ____________ _____   generated.  (Refer to the TOPS-10 Software Installation Guide for more
   information on INITIA.)



   11.2.2  Manually Dumping and Reloading the Monitor   11.2.2  Manually Dumping and Reloading the Monitor

   To manually dump and reload the monitor, perform the following steps:

                                    __________        1.  Type everything that is underlined in  the  following  sample
            dialog:


                                    11-8
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   __   ^\                                          Type CTRL/backslash, which
                                               does    not    print,   to
                                               communicate    with    the
                                               PARSER.

       _________   PAR>SHUT<RET>                               Type SHUT and press RETURN
                                               to shut down the system.

   DECSYSTEM-10 NOT RUNNING                    The monitor has stopped.

        _______   BOOT>/D<RET>                                Type /D and  press  RETURN
                                               to  dump  the memory image
                                               to   the   default   file,
                                               DSKB:CRASH.EXE[1,4].  (The
                                               prompt prints here only if
                                               the system has not been up
                                               for 5 minutes.)

   [Dumping on DSKB:CRASH.EXE[1,4]]            Approximately  20  seconds
                                               elapse  while  BOOT  dumps
                                               the memory  image  to  the
                                               file DSKB:CRASH.EXE[1,4].

        _____   BOOT><RET>                                  Press RETURN to  load  the
                                               default  monitor  from the
                                               file DSKB:SYSTEM.EXE[1,4].

   [Loading from DSKB:SYSTEM.EXE[1,4]]         BOOT is now reloading  the
                                               monitor.

            When the monitor has been loaded  into  memory,  the  monitor
            startup questions begin.

        2.  Answer the monitor startup  questions  described  in  Section
            5.6.

   After you answer the monitor startup questions, INITIA may print a few
   lines  on  the  CTY.  Whether or not your system runs INITIA at system
   startup is determined when the monitor is generated.   (Refer  to  the
   _______ ________ ____________ _____   TOPS-10 Software Installation Guide for more information on INITIA.)



   11.3  SYSTEM ERROR RECOVERY   11.3  SYSTEM ERROR RECOVERY

   If one of the CPUs does not respond to you or  other  users,  and  the
   scheduler  cannot run any job other than the null job, then the CPU is
   either hung or looping.

   To decide which of these problems is affecting  your  system,  and  to
   dump and reload, perform the following steps:



                                    11-9
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


                                    ___________        1.  Type everything that is underscored in the  following  sample
            dialog:


   __   ^\                                           Type      CTRL/backslash,
                                                which  does  not echo, to
                                                communicate   with    the
                                                PARSER.

       ____ ____ _____   PAR>TAKE LOOP <RET>                          The   output   from   the
                                                LOOP.CMD file will appear
                                                on the CTY.

                                                At the end  of  execution
                                                of  the  LOOP.CMD file, a
                                                message will request  the
                                                operator    to   manually
                                                start BOOT.
    OUTPUT DEVICES:  TTY                        
        ___   PAR> EOF                                     End      of      LOOP.CMD
                                                execution.
       _ ___   PAR>J 407

   [Dumping on DSKB:CRASH.EXE[1,4]]             Start BOOT.

   [Loading from DSKB:RL156A.EXE[1,4]]          You need to manually dump
                                                and  reload the system if
                                                you do not see the prompt
                                                or   the  reload  message
                                                within 10 seconds.
   RL156A DEC10 Development mm-dd-yy
                ____   Why reload:  HUNG
          _________   Date:  dd-mmm-yy
        _____   Time:<RET>

                    _ _____   Startup option:  Q <RET>



   11.4  COPYING CRASH DATA   11.4  COPYING CRASH DATA

   CRSCPY is the default program that automatically copies  system  dumps
   and  then  clears  the  unprocessed-dump  bit.   CRSCPY runs at system
   startup and when a continuable stopcode occurs.

   If you want to use your installation's  own  program  to  copy  system
   dumps,  you  must  redefine  the  symbol CPYNAM in the SIXBIT hardware
   definitions  in  MONGEN  to  be  equivalent  to  the  name   of   your
                                            _______ ________ ____________   installation's  program.   (Refer to the TOPS-10 Software Installation
   _____   Guide for complete information on MONGEN.




                                   11-10
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   11.5  RECOVERING FROM STOPCODES (MONITOR ERROR STOPS)   11.5  RECOVERING FROM STOPCODES (MONITOR ERROR STOPS)

   When the monitor detects an internal error, it executes  its  stopcode
   macro.   This  macro  prints  the  following message on the CTY of the
   affected CPU:

   ?CPU0 monitor error.  Stopcode name is xxx

   where:

        xxx  is a  mnemonic  identifying  the  error.   (See  the  STOPCD
             specification  in the Software Notebooks for a complete list
             of the stopcodes.)

   The following types of stopcodes, may occur:

         o  DEBUG (See Section 11.5.1.)

         o  JOB (See Section 11.5.2.)

         o  STOP (See Section 11.5.3.)

         o  CPU (See Section 11.5.4.)

         o  HALT (See Section 11.5.5.)

         o  INFO (See Section 11.5.6)

         o  EVENT (See Section 11.5.6)

   HALT stopcodes do not initiate automatic recovery procedures.

   The following is an example of what you will see on  the  CTY  of  the
   affected CPU when the monitor detects a continuable stopcode.


   %DECSYSTEM-10 NOT RUNNING

   ?CPU1 monitor error. Stopcode name is EUE
   Job 5 on TTY1 running DDT User [1,2]
   UUO is 0 at user PC 002472


   CPU Status Block at dd-mmm-yy hh:mm:ss

   APRID = 000231,,342002
   ERA = 600000,,040513
   CONI APR, = 007760,,000003
   CONI PI, = 000000,,000377
   CONI PAG, = 000000,,620001
   DATAI PAG, = 700100,,002255
   AR ARX Data Word = 000000,,057000


                                   11-11
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   IO Page Fail Word = 000000,,000000

   SBUS Diags:

   CNTRLR FNC 0          FNC 1
   000004 007040,,040610 000200,,000000

   [Dumping on DSKB:CRASH.EXE[1,4]]
   [Continuing system]

   [DECsystem-10 Continued]

   In this case, the monitor executed  its  stopcode  macro,  dumped  the
   memory image, and continued the system.



   11.5.1  Identifying DEBUG Stopcodes   11.5.1  Identifying DEBUG Stopcodes

   A DEBUG stopcode is not immediately harmful  to  any  job  or  to  the
   system.  The monitor prints a message on the affected CTY of the form:

   ?CPUn monitor error.  Stopcode name xxx
   [Continuing system]                    

   Processing then continues.  Fill out an SER form.  Sometimes  a  DEBUG
   stopcode acts like a JOB stopcode.  (See Section 11.5.2.)



   11.5.2  Identifying JOB Stopcodes   11.5.2  Identifying JOB Stopcodes

   A JOB stopcode indicates an error that endangers the integrity of  the
   job  that  is  currently running.  The monitor prints a message on the
   CTY of the affected CPU, in the form:

   ?CPUn monitor error.  Stopcode name xxx
   [Aborting job]                         

   Also, the following message prints on the user's terminal:

   ?Monitor error at address; UUO at address

   where address is one of the following:

        User loc n
        Exec loc n; Exec called from exec loc m
        Exec loc n; Exec called from user loc m

   and where m and n are memory addresses.

   Then the monitor aborts the current job and continues.   Fill  out  an


                                   11-12
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   SER form.



   11.5.3  Identifying STOP Stopcodes   11.5.3  Identifying STOP Stopcodes

   A STOP stopcode endangers the integrity of  the  entire  system.   The
   monitor prints the following message on the affected CTY:

   ?CPUn monitor error.  Stopcode name xxx
   Reload monitor                         

   This means that  all  jobs  are  aborted  and  the  system  begins  to
   automatically  dump  and reload itself, provided the monitor uptime is
   greater than 5 minutes.  If the monitor uptime is less than 5 minutes,
   then  the  operator  will  have to manually dump and reload.  For more
   information on a manual dump and reload, refer to Section 11.2.2.  The
   following  example  is  that of a stopcode with less than 5 minutes of
   monitor uptime:


   %DECsystem-10 not running

   ?CPU0 monitor error. Stopcode name is KAF
   File CTY:
   Job 4 on CTY running FIT19 User [1,2]


   CPU Status Block on dd-mmm-yy hh:mm:ss

   APRID = 640324,,364113
   ERA = 224000,,011451
   CONI APR, = 007760,,000003
   CONI PI, = 000000,,010377
   CONI PAG, = 000000,,660001
   DATAI  PAG, = 700100,,006745
   AR ARX Data Word = 000000,,000000
   IO Page Fail Word = 000000,,000000

   SBUS Diags:

   CNTRLR FNC 0          FNC 1
   000004 001740,,045157 000200,,000000
   000010 006160,,011603 000500,,001000
   000011 006165,,777003 000500,,001000
   000012 006126,,745507 000500,,001000
   000013 007747,,470524 000500,,001000

   Reload monitor
        __   BOOT>/D
   [Dumping on DSKB:CRASH.EXE[1,4]]        Operator types /D to  manually
                                           dump and reload the system.


                                   11-13
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


        _____   BOOT><RET>                              (or filespec).
   [Loading from DSKB:SYSTEM.EXE[1,4]]

   CSSE 2123 7.02 SYSTEM      mm-dd-yy
         _________   Date: dd-mmm-yy
        _____   Time:hh:mm

                   _   Startup option: Q

   If the monitor can obtain  the  necessary  information,  it  prints  a
   supplementary message on the affected CTY of the form:

   JOB jobno on TTYnnn running xxxxxx            
   UUO is octal at user PC address
   File filespec                                 

   where:

        jobno            is the number of the job causing the error.

        nnn              is the number of the controlling TTY.

        xxxxxx           is the name of the program running for that job.

        octal            is the octal representation of the  monitor call
                         that failed for that job.

        address          is the value of the  program  counter  for  that
                         job.

        filespec         is the file specification  for  the  file  being
                         accessed.



   11.5.4  Identifying CPU Stopcodes   11.5.4  Identifying CPU Stopcodes

   If a CPU stopcode is detected on a single-processor system or  on  the
   last  processor  that  is still running in a multiprocessor system, it
   has the same effect as a STOP stopcode.

   In all other cases, a CPU stopcode prints a message  on  the  affected
   CTY of the form:

   ?CPUn monitor error.  Stopcode name xxx
   [Stopping CPU]                         

   If the monitor can obtain  the  necessary  information,  it  prints  a
   supplementary message on the CTY of the form:

   Job jobno on TTYnnn running xxxxxx            
   UUO is octal at user PC address


                                   11-14
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   File filespec                                 

   where:

        jobno            is the number of the job causing the error.

        nnn              is the number of the controlling TTY.

        xxxxxx           is the name of the program running for that job.

        octal            is the octal representation of  the monitor call
                         that failed for that job.

        address          is the value of the  program  counter  for  that
                         job.

        filespec         is the file specification  for  the  file  being
                         accessed.

   The CPU will then run in its accumulators and will not  restart  until
   you  manually  restart  it.  On an SMP system, a CPU stopcode causes a
   role switch if the error occurred on the Policy CPU.



   11.5.5  Identifying HALT Stopcodes   11.5.5  Identifying HALT Stopcodes

   A HALT stopcode affects the entire system.  Also, the  monitor  cannot
   automatically  be  reloaded.   In this case, the system halts, and you
   must manually dump and reload the monitor.  (See Section 11.2.2.)

   ENABLE ON is the default condition set by the software.  It is not  to
   be changed unless specified by Field Service.

   For single CPU systems:

   RELOAD ENABLE ON

        The RSX-20F front end will  automatically  respond  by  taking  a
        snapshot  of  the  system,  and  then  dumping  and reloading the
        system.

   RELOAD ENABLE OFF

        A manual snapshot must be taken, followed by  a  dump/reload,  or
        valuable  data  will  be lost.  In most cases, the ENABLE will be
        ON, and the operator will not be required to take any action.

   For SMP systems:

   RELOAD ENABLE ON



                                   11-15
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


        BOOT/POLICY CPU HALTS

        Another CPU will take  over  as  Policy  CPU,  as  messages  will
        indicate.   The  console front end of the HALTed CPU at this time
        will snapshot and restart the CPU.

        NON BOOT CPU HALTS

        The console front end of the HALTed CPU will snapshot and restart
        the CPU.

   RELOAD ENABLE OFF

        Same as above with the exception that no automatic  snapshots  or
        CPU restart will occur.



   11.5.6  Identifying INFO and EVENT Stopcodes   11.5.6  Identifying INFO and EVENT Stopcodes

   INFO and EVENT stopcodes report  on  system  events  that  may  be  of
   interest  in debugging crashes.  These stopcodes are for informational
   purposes only, and do not interrupt system or job execution.



   11.6  RECOVERING FROM ERRORS DETECTED BY THE PARSER   11.6  RECOVERING FROM ERRORS DETECTED BY THE PARSER

   When the front-end command language parser detects an error, it prints
   one of the error messages listed in this section.  The format of these
   messages is:

   PAR -- [command]message

   where:

        command  is the name of the command that  caused  the  error  (or
                 PARSER if the error is in the command parser rather than
                 a command routine).

        message  is the error message.


                     ----- PARSER Error Messages -----


   AMB - AMBIGUOUS KEYWORD xxx

        where xxx is the ambiguous keyword.

      Problem:   The PARSER found more than one keyword that matches  the
                 abbreviation you typed.


                                   11-16
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Solution:  Type enough of the keyword to make it unique.


   APE - KL APR ERROR

      Problem:   There is a CPU error.

      Solution:  Call your Field Service representative.


   BAE - BURST ARGUMENT ERROR

      Problem:   There is an internal programming error.

      Solution:  Call your software specialist.


   CAE - KL CRAM ADDRESS ERROR

      Problem:   There is an internal programming error.

      Solution:  Call your software specialist.


   CBO - COMMAND BUFFER OVERFLOW

      Problem:   You typed more than 280 characters on one line.

      Solution:  Retype the command on two lines.


   CDI - CLEAR DATE ILLEGAL

      Problem:   You tried to clear the interval date while the KL was in
                 primary protocol.

      Solution:  Clear the internal date when the  KL  is  no  longer  in
                 primary protocol.


   CES - CLOCK ERROR STOP - code ERROR STOP

        where code is CRAM, DRAM, FM, or FS-STOP.

      Problem:   There is a fatal internal hardware error.

      Solution:  Write down the code and try to reload  the  system.   If
                 this  fails,  call your Field Service representative and
                 tell him the code.


   CFH - CAN'T FIND KL HALT LOOP


                                   11-17
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Problem:   The PARSER cannot halt the KL.

      Solution:  Call your Field Service representative.


   CLE - CONSOLE LIMIT EXCEEDED

      Problem:   You tried to set a console mode that is higher than  the
                 console mode specified in the SET KLINIK dialog.

      Solution:  None.  While the KLINIK line is active in  remote  mode,
                 you  cannot  set  a console mode higher than the console
                 mode specified in the SET KLINIK dialog.


   CNR - COMMAND IS NOT REPEATABLE

      Problem:   You tried to repeat a command that cannot be repeated.

      Solution:  None.


   DAV - DATE ALREADY VALID

      Problem:   You tried to set a  new  internal  date  when  the  date
                 validity flag was on.

      Solution:  Turn off the validity flag.  You  can  only  set  a  new
                 internal date when the date validity flag is off.


   DBT - DATE BEFORE TODAY

      Problem:   You tried to set a KLINIK open or  close  date  that  is
                 prior to the current date.

      Solution:  Set a KLINIK open or close date that is on or after  the
                 current date.


   DCK - DIVIDE CHECK

      Problem:   There is an internal programming error.

      Solution:  Call your software specialist.


   DMF - DEPOSIT KL MEMORY FAILED

      Problem:   There is an internal programming error.  RSX-20F did not
                 accept a deposit directive.



                                   11-18
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Solution:  Call your software specialist.


   DNP - DTE-20 IS NOT PRIVILEGED

      Problem:   There is a fatal error.  The DTE-20 mode  switch  is  in
                 the wrong position.

      Solution:  Call either  your  software  specialist  or  your  Field
                 Service representative.


   DOR - DAY OUT OF RANGE

      Problem:   You specified a nonexistent date.

      Solution:  Correct the date you specified.


   DSF - DTE-20 STATUS FAILURE

      Problem:   A read or write to  one  of  the  DTE  status  registers
                 failed.

      Solution:  Call your software specialist.


   DTC - DTE-20 CONFUSED - RUN AND HALT LOOP

      Problem:   There is a fatal error.  The run  and  halt  loop  flags
                 were set at the same time.

      Solution:  Call your Field Service representative.


   ECT - EBOX CLOCK TIMEOUT

      Problem:   While the PARSER was doing an execute function,  the  KL
                 did not reenter the halt loop within the allotted time.

      Solution:  Call your software specialist.


   EMF - EXAMINE KL MEMORY FAILED

      Problem:   There is an internal programming error.  RSX-20F did not
                 accept an examine directive.

      Solution:  Call your software specialist.


   EOC - END OF COMMAND REQUIRED


                                   11-19
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Problem:   You typed ?  at the end of a command  that  requires  no
                 additional arguments.

      Solution:  Retype the command and press RETURN.


   EPE - EBUS PARITY ERROR

      Problem:   There is a fatal error.  The PARSER encountered a parity
                 error on the EBUS.

      Solution:  Call your Field Service representative.


   ESD - EBOX STOPPED - DEPOSIT

      Problem:   The PARSER executed a deposit directive and  found  that
                 the KL clock is stopped.

      Solution:  Reload the system.  If the problem persists,  call  your
                 Field Service representative.


   ESE - EBOX STOPPED - EXAMINE

      Problem:   The PARSER executed an examine directive and found  that
                 the KL clock is stopped.

      Solution:  Reload the system.  If the problem persists,  call  your
                 Field Service representative.


   FRF - FUNCTION READ nnn FAILED

      Problem:   There is a fatal error.  A diagnostic Function Read with
                 function code nnn failed.  If the system crashed, try to
                 reload it.

      Solution:  Call your software specialist  and  your  Field  Service
                 representative.


   FWF - FUNCTION WRITE nn FAILED

      Problem:   There is a fatal error.   A  diagnostic  Function  Write
                 with  function  code  nn failed.  If the system crashed,
                 try to reload it.

      Solution:  Call your software specialist  and  your  Field  Service
                 representative.




                                   11-20
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   FXF - FUNCTION XCT nn FAILED

      Problem:   There is a fatal error.  A diagnostic  Function  Execute
                 with  function  code  nn failed.  If the system crashed,
                 try to reload it.

      Solution:  Call your software specialist  and  your  Field  Service
                 representative.


   IDF - ILLEGAL DATE FORMAT

      Problem:   You typed the date in the wrong format.

      Solution:  Retype the date as dd-mmm-yy or dd mmm yy.  Day and year
                 must be numeric and month must be alphabetic.


   IFC - ILLEGAL FUNCTION CODE

      Problem:   There is either an internal  programming  error  or  you
                 typed  a  diagnostic  command  with  an invalid function
                 code.  The valid function codes are:

                      o   FREAD command - codes 100 through 177

                      o   FWRITE command - codes 40 through 77

                      o   FXCT command - codes 0 through 37

      Solution:  If  this  message  did  not  result  from   entering   a
                 diagnostic command, call your software specialist.


   ILC - ILLEGAL CHARACTER c

        where c is the illegal character.  Characters that do  not  print
        are converted to their printable equivalent and preceded by ^.

      Problem:   There is an illegal character is a command line.

      Solution:  Retype the command without the illegal character.


   ILS - ILLEGAL SEPARATOR CHARACTER s

        where s is the illegal separator character.  Characters  that  do
        not  print  are  converted  to  their  printable  equivalent  and
        preceded by ^.  A tab is converted to one space.

      Problem:   There is an illegal separator  character  in  a  command
                 line.


                                   11-21
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Solution:  Retype the command line without  the  illegal  separator
                 character.


   IOC - ILLEGAL KL OPCODE

      Problem:   Either  you  or  the  PARSER  tried  to  execute  a   KL
                 instruction with an illegal opcode.

      Solution:  If this message did not result from an XCT command, call
                 your software specialist.


   IPC - ILLEGAL PASSWORD CHARACTER c

        where c is an illegal character.

      Problem:   You typed an illegal character in a password during  the
                 SET KLINIK dialog.

      Solution:  Retype the password  using  only  numeric  or  uppercase
                 alphabetic characters.


   IRC - ILLEGAL REPEAT COUNT

      Problem:   You typed a zero or a negative argument to a REPEAT or a
                 SET REPEAT command.

      Solution:  Retype the command with an argument that is greater than
                 zero.


   ITF - ILLEGAL TIME FORMAT

      Problem:   You typed a time in a format other than hh:mm or hhmm.

      Solution:  Retype the time in an acceptable format.


   ITN - ILLEGAL TASK NAME

      Problem:   You typed the RUN or the MCR command with no task name.

      Solution:  Retype the command with the task name.


   KCN - KL CLOCK IS OFF

      Problem:   You typed a command that requires that the KL  clock  be
                 on; however, the KL clock is off.



                                   11-22
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Solution:  Reload the system.  If the problem persists,  call  your
                 Field Service representative.


   KLA - KL ADDRESS ERROR

      Problem:   The KL address that you specified is over  22  bits,  is
                 negative, or is not in octal radix.

      Solution:  Specify a KL address that is  a  positive  octal  number
                 made up of 22 or fewer bits.


   KLR - ILLEGAL WHILE KL RUNNING

      Problem:   You tried to execute a command that is illegal while the
                 KL is running.

      Solution:  Execute the command when the KL is not running.


   KNC - KL IS NOT CONTINUABLE

      Problem:   You  tried  to  resume  processing  with  the   CONTINUE
                 command,  but the KL is not in a continuable state.  For
                 example, you cannot CONTINUE after a RESET command.

      Solution:  Give  the  CONTINUE  command  when  the  KL  is   in   a
                 continuable state.


   KWE - KLINIK WINDOW ERROR

      Problem:   During the SET KLINIK dialog,  you  specified  a  window
                 close  date  and  time  that is prior to the window open
                 date and time.

      Solution:  Specify a window close date and time that is  after  the
                 window open date and time.


   MRA - MISSING REQUIRED ARGUMENT

      Problem:   You did not specify all of the arguments required by the
                 command.

      Solution:  Specify all of the arguments required by the command.


   NDI - NULL DATE ILLEGAL

      Problem:   You pressed RETURN after the Date: prompt during the SET


                                   11-23
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


                 DATE dialog.

      Solution:  Type a date  and  then  press  RETURN  after  the  Date:
                 prompt.


   NER - NUMERIC EXPRESSION REQUIRED

      Problem:   You typed a non-numeric expression as an argument  to  a
                 command  that  must  have  a  numeric  expression  as an
                 argument.

      Solution:  Type a numeric expression as an argument to the  command
                 that you typed.


   NOR - INPUT NUMBER OUT OF RANGE

      Problem:   You typed a number that is either out of range or in the
                 wrong radix.

      Solution:  Type the correct number.


   NPI - NULL PASSWORD ILLEGAL

      Problem:   You pressed RETURN after the PASSWORD: prompt during the
                 SET KLINIK dialog.

      Solution:  Type a password after the PASSWORD: prompt.


   NSK - NO SUCH KEYWORD xxx

      Problem:   You typed a command that contained the  invalid  keyword
                 xxx.

      Solution:  Retype the command with a valid keyword.


   NST - NO SUCH TASK

      Problem:   You specified a nonexistent task in  an  MCR  or  a  RUN
                 command.

      Solution:  Specify a valid task.


   NTI - NULL TIME ILLEGAL

      Problem:   You pressed RETURN after the Time: prompt during the SET
                 DATE dialog.


                                   11-24
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Solution:  Type a time  and  then  press  RETURN  after  the  Time:
                 prompt.


   OAI - ODD ADDRESS ILLEGAL

      Problem:   You tried to examine  an  odd-numbered  PDP-11  address.
                 This is illegal.

      Solution:  You can examine only even-numbered PDP-11 addresses.


   OFC - ODD FUNCTION CODE

      Problem:   There is an internal programming error.

      Solution:  Call your software specialist.


   PTL - PASSWORD TOO LONG

      Problem:   You typed a password that  is  longer  than  thirty-nine
                 characters.

      Solution:  Type a password that is thirty-nine characters or less.


   RPM - RIGHT PARENTHESIS MISSING

      Problem:   You omitted a right parenthesis in a numeric expression.

      Solution:  Type  the  command  again,  and   put   in   the   right
                 parenthesis.


   SCF - SET CLOCK FAILED

      Problem:   There is a hardware error.  The PARSER  cannot  validate
                 the clock enable parameters it has just set.

      Solution:  Call your Field Service representative.


   SKI - SET KLINIK ILLEGAL WHILE KLINIK ACTIVE

      Problem:   You tried to set new KLINIK parameters while the  KLINIK
                 link is active.

      Solution:  To change the parameters, you must first disconnect  the
                 KLINIK link by typing DISCONNECT or CLEAR KLINIK.




                                   11-25
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   SPF - SET PARITY FAILED

      Problem:   There is a hardware error.  The PARSER  cannot  validate
                 the parity stop parameters it has just set.

      Solution:  Call your Field Service representative.


   SZI - START AT ZERO ILLEGAL

      Problem:   You tried to start  the  KL  at  location  0.   This  is
                 illegal.

      Solution:  Start the KL at a different location.


   TAA - TASK ALREADY ACTIVE

      Problem:   You issued an MCR or a RUN command for a  task  that  is
                 already active.

      Solution:  Stop the task before restarting it.


   TOR - TIME OUT OR RANGE

      Problem:   You typed a time with more than 23 hours or more than 59
                 minutes.

      Solution:  Retype the time.


   UNL - KL MICROCODE NOT LOADED

      Problem:   The system tried to start the  KL  microcode  and  found
                 that it has not been loaded or it is not functioning.

      Solution:  Reload the microcode and the system by using  the  DISK,
                 DECtape, or FLOPPY switch or the switch register.


   VFY - VERIFY FAILED

      Problem:   There is an  internal  programming  error.   The  PARSER
                 cannot   verify  the  correct  execution  of  a  DEPOSIT
                 command.

      Solution:  Call your software specialist.


   WRM - COMMAND NOT AVAILABLE IN THIS CONSOLE MODE



                                   11-26
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Problem:   You typed a command that is not available in the current
                 console mode.

      Solution:  Change  the  console  mode  by  using  the  SET  CONSOLE
                 command.


   XTO - KL EXECUTE TIMED OUT

      Problem:   The KL failed  to  reenter  the  halt  loop  within  the
                 allotted  time  while performing a fast internal Execute
                 Function.

      Solution:  Retype the command.  If the problem persists, call  your
                 Field Service representative.


   YOR - YEAR OUT OF RANGE

      Problem:   You typed the wrong year.

      Solution:  Retype the year correctly.



   11.7  RECOVERING FROM ERRORS DETECTED BY KLINIT   11.7  RECOVERING FROM ERRORS DETECTED BY KLINIT

   When the KL initialization  program  (KLINIT)  detects  an  error,  it
   prints one of the following types of error messages.

        1.  KLINIT operator-dialog error message, which prints when  your
            answer  to  a  KLINIT question is unacceptable.  (See Section
            11.7.1.)

        2.  KLINIT warning messages, which print when an unusual (but not
            fatal) condition exists.  (See Section 11.7.2.)

        3.  System error messages, which print  when  KLINIT  detects  an
            error from which it cannot recover.  (See Section 11.7.3.)



   11.7.1  KLINIT Operator-Dialog Error Message   11.7.1  KLINIT Operator-Dialog Error Message

   The KLINIT operator-dialog error message indicates that your answer to
   a  KLINIT  question is unacceptable.  KLINIT prints the error message,
   reprints the question, and then reprints the KLI> prompt.

   Currently, the following is the only operator-dialog error message:


   KLI -- COMMAND SYNTAX ERROR


                                   11-27
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Problem:   You did not type one of the possible  answers  specified
                 in the question.

      Solution:  Type one of  the  acceptable  answers  or  press  RETURN
                 answer.



   11.7.2  KLINIT Warning Messages   11.7.2  KLINIT Warning Messages

   KLINIT prints one of the following warning messages  when  an  unusual
   condition  exists.   After KLINIT prints a warning message, the KLINIT
   operator dialog continues.


   KLI -- % EXTERNAL CORE MEMORY IS OFFLINE

      Problem:   A DMA20 external memory controller is off-line.

      Solution:  KLINIT tries  to  reconfigure  the  system  without  the
                 controller in question.


   KLI -- % NO FILE - ALL CACHE BEING CONFIGURED

      Problem:   The default to the RECONFIGURE CACHE question was  taken
                 and  KLINIT  could  not  find  the  KL.CFG  file  in the
                 directory.

      Solution:  KLINIT enables all caches.


   KLI -- % NO FILE - ALL MEMORY BEING CONFIGURED

      Problem:   The default to the  CONFIGURE  KL  MEMORY  question  was
                 taken  and  KLINIT could not find the KL.CFG file in the
                 directory.

      Solution:  KLINIT configures all  available  memory  and  sets  the
                 interleaving  at  the  highest level consistent with the
                 setting of the interleave switches on the memory units.



   11.7.3  KLINIT System Error Messages   11.7.3  KLINIT System Error Messages

   System error messages  indicate  conditions  in  which  KLINIT  cannot
   continue.   These  conditions  can be caused by software, hardware, or
   environmental failures.  Sometimes you  can  try  again  successfully;
   other times, you may have to call your Field Service representative or
   your software specialist.  Save all of the console log data and  every
   memory-dump  listing  to  help  your  Field  Service representative or


                                   11-28
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   software specialists solve the problem.

   Unless otherwise noted, after KLINIT prints a  system  error  message,
   the  system  restarts  the  KLINIT operator dialog and prints the KLI>
   prompt again.   Files  are  specified  in  the  message  text  in  the
   following form:

   dev:filename.ext;version

   The following are the system error messages:


   KLI -- ?  BOOTSTRAP LOAD FAILED

      Problem:   A software or  hardware  error  occurred  while  the  KL
                 bootstrap program was being loaded.

      Solution:  Reload the bootstrap program.  To do this, type BOOT and
                 press  RETURN to answer the KLI> prompt.  If the problem
                 persists, call your Field Service representative.


   KLI -- ?  C-RAM DIFFERS AT xxxxxx
   KLI -- BAD  xxxxxx xxxxxx xxxxxx xxxxxx xxxxxx xx
   KLI -- GOOD xxxxxx xxxxxx xxxxxx xxxxxx xxxxxx xx
   KLI -- XOR  xxxxxx xxxxxx xxxxxx xxxxxx xxxxxx xx

      Problem:   While KLINIT was trying to  verify  the  microcode,  the
                 contents  of  octal  location xxxxxx in the KL10 control
                 RAM  did  not  match  the  corresponding  code  in   the
                 appropriate  microcode file.  The actual contents of the
                 location are printed, followed by the expected contents.
                 The last line is the result of a bit-by-bit exclusive-OR
                 (XOR) of the actual and expected values.

      Solution:  Reload the KL microcode and verify it  with  the  KLINIT
                 operator  dialog.   If  the  problem persists, call your
                 Field Service representative.


   KLI -- ?  CACHE ENABLE FAILED

      Problem:   A hardware error may  have  occurred  while  KLINIT  was
                 trying to configure the cache memory.

      Solution:  Try the operation again.  If the problem persists,  call
                 your   Field  Service  representative.   Also,  you  can
                 temporarily reconfigure with no cache memory.


   KLI -- ?  CANNOT FIND [5,5] DIRECTORY



                                   11-29
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Problem:   KLINIT cannot locate the RSX-20F system file  directory;
                 a software error may have overlaid it.  The system exits
                 from KLINIT.

      Solution:  Reload the system.  If the problem persists,  call  your
                 software specialist.


   KLI -- ?  CANNOT FIND HALT LOOP

      Problem:   KLINIT tried to start  the  microcode,  but  it  is  not
                 running properly.

      Solution:  Reload the microcode.  If  the  problem  persists,  call
                 your Field Service representative.


   KLI -- ?  CANNOT GET DEVICES

      Problem:   KLINIT cannot open a system device  for  communications.
                 This  is  probably  a  software  error  in RSX-20F.  The
                 system exits from KLINIT.

      Solution:  Reload the system.  If the problem persists,  call  your
                 software specialist.


   KLI -- ?  CANNOT RUN KLINIT WHILE KL IS IN PRIMARY PROTOCOL

      Problem:   You tried to run KLINIT  while  the  KL10  was  running.
                 This  can  occur  only  if you load KLINIT by typing RUN
                 KLINIT to the PARSER and then press RETURN.  The  system
                 exits to the monitor.

      Solution:  If you want to run KLINIT again,  follow  the  steps  to
                 shut down the monitor.  Then reload the system and enter
                 KLINIT  again.   If  the  monitor  does  not  shut  down
                 properly,  set the console to PROGRAMMER mode and reload
                 KLINIT.


   KLI -- ?  CANNOT START KL

      Problem:   A hardware or software failure occurred while KLINIT was
                 trying  to restart after a power failure or system crash
                 during memory determination.

      Solution:  Reload the microcode and try the  operation  again.   If
                 the   problem   persists,   call   your   Field  Service
                 representative.




                                   11-30
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   KLI -- ?  CLOCK ERROR STOP DURING KL RESTART

      Problem:   The  KL  processor  clock  stopped  while   KLINIT   was
                 monitoring a restart.

      Solution:  Try to load the KL bootstrap and monitor again.  If  the
                 problem persists, call your software specialist.


   KLI -- ?  CONFIGURATION FILE NOT CHANGED

      Problem:   The KL.CFG  configuration  file  could  not  be  updated
                 because  KLINIT  could  not read the old file, could not
                 write the new file, or some other error occurred.

      Solution:  Delete the old configuration file and try the  operation
                 again.   If  the  problem  persists,  call your software
                 specialist.


   KLI -- ?  D-RAM DIFFERS AT xxxxxx
   KLI -- BAD  A:x B:x P:x J:xxxx A:x B:x P:x J:xxxx
   KLI -- GOOD A:x B:x P:x J:xxxx A:x B:x P:x J:xxxx
   KLI -- XOR  A:x B:x P:x J:xxxx A:x B:x P:x J:xxxx

      Problem:   While KLINIT was trying to  verify  the  microcode,  the
                 contents  of  octal location xxxxxx in the KL10 dispatch
                 RAM  did  not  match  the  corresponding  code  in   the
                 appropriate  microcode file.  The actual contents of the
                 location are printed, the even location first,  and  the
                 odd  location  next.   The  next  line  is  the expected
                 contents of the two locations.  The  last  line  is  the
                 result  of a bit-by-bit exclusive-OR (XOR) of the actual
                 and the expected values.

      Solution:  Reload the KL microcode and verify it  with  the  KLINIT
                 operator  dialog.   If  the  problem persists, call your
                 Field Service representative.


   KLI -- ?  DEPOSIT FAILED

      Problem:   KLINIT could not store information in KL10 memory.

      Solution:  Reload the system and try  to  deposit  again.   If  the
                 problem    persists,    call    your    Field    Service
                 representative.


   KLI -- ?  DEVICE 'device' FULL

      Problem:   KLINIT could not find room on  the  specified  front-end


                                   11-31
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


                 load  device  for  an  updated copy of the configuration
                 file KL.CFG.

      Solution:  Exit from KLINIT and use an RSX-20F system program  such
                 as  PIP  to  delete  files and make room for the updated
                 KL.CFG file.  Then, reenter KLINIT and try the operation
                 again.


   KLI -- ?  DF EXECUTE FAILED

      Problem:   A diagnostic Function Execute failed  while  KLINIT  was
                 initializing the KL10 processor.

      Solution:  Reload the system and try the operation again.   If  the
                 problem    persists,    call    your    Field    Service
                 representative.


   KLI -- ?  DF READ FAILED

      Problem:   A diagnostic  Function  Read  failed  while  KLINIT  was
                 initializing the KL10 processor.

      Solution:  Reload the system and try the operation again.   If  the
                 problem    persists,    call    your    Field    Service
                 representative.


   KLI -- ?  DF WRITE FAILED

      Problem:   A diagnostic Function  Write  failed  while  KLINIT  was
                 initializing the KL10 processor.

      Solution:  Reload the system and try the operation again.   If  the
                 problem    persists,    call    your    Field    Service
                 representative.


   KLI -- ?  DIRECTIVE ERROR -n ON FILE 'filename'

        where n is an octal error code used by Software Support.

      Problem:   A system error  occurred  while  KLINIT  was  trying  to
                 access the file 'filename.'

      Solution:  Reload the system and try the operation again.   If  the
                 problem persists, call your software specialist.


   KLI -- ?  EXAMINE FAILED



                                   11-32
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Problem:   KLINIT cannot examine the contents of KL10 memory.

      Solution:  Reload the system and try the operation again.   If  the
                 problem    persists,    call    your    Field    Service
                 representative.


   KLI -- ?  FATAL MEMORY CONFIGURATION ERROR - CODE xxx

        where xxx is an error code that  specifies  the  type  of  error.
        (See below for definitions of the error codes.)

      Problem:   KLINIT encountered an  error  while  it  was  trying  to
                 configure  memory.   Usually,  this  message prints when
                 there is a hardware problem or a software bug.

      Solution:  Code                        Action

                 3BB   None.  This error code is  a  debugging  aid  that
                       should  not  occur in normal operation.  There may
                       be  a  CPU  fault.   Call   your   Field   Service
                       representative.

                 ABS   None.  There is a  CPU  error.   Call  your  Field
                       Service representative.

                 APL   Make sure that the microcode has been  loaded  and
                       try  again.   If the problem persists, the CPU may
                       have  failed.   In  this  case,  call  your  Field
                       Service representative.

                 B4M   None.   If  the  hardware  environment   has   not
                       changed,  and  you  have  been able to boot memory
                       successfully in the past, the problem  may  be  in
                       the  hardware.   However,  if  you have an unusual
                       hardware configuration, you may have encountered a
                       software    bug.     Call   your   Field   Service
                       representative.     If    your    Field    Service
                       representative  cannot  fix the problem, call your
                       software specialist.

                 BCM   None.   If  the  hardware  environment   has   not
                       changed,  and  you  have  been able to boot memory
                       successfully in the past, the problem  may  be  in
                       the  hardware.   However,  if  you have an unusual
                       hardware configuration, you may have encountered a
                       software    bug.     Call   your   Field   Service
                       representative.     If    your    Field    Service
                       representative  cannot  fix the problem, call your
                       software specialist.

                 BTL   None.   There  is  a  software  bug.   Call   your


                                   11-33
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


                       software specialist.

                 CES   None.  There is a  hardware  problem.   Call  your
                       Field Service representative.

                 CFT   None.   If  the  hardware  environment   has   not
                       changed,  and  you  have  been able to boot memory
                       successfully in the past, the problem  may  be  in
                       the  hardware.   However,  if  you have an unusual
                       hardware configuration, you may have encountered a
                       software    bug.     Call   your   Field   Service
                       representative.     If    your    Field    Service
                       representative  cannot  fix the problem, call your
                       software specialist.

                 CTF   Set all MF20 controllers to software state  0  and
                       try  again.   If  the  problem persists, call your
                       Field Service representative.

                 DCB   None.  There is a  software  problem.   Call  your
                       software specialist.

                 EDE   Make sure that the microcode has been  loaded  and
                       try  again.   If  the  problem persists, call your
                       Field Service representative.

                 FOE   None.  Call your software specialist.

                 GOO   None.   If  the  hardware  environment   has   not
                       changed,  and  you  have  been able to boot memory
                       successfully in the past, the problem  may  be  in
                       the  hardware.   However,  if  you have an unusual
                       hardware configuration, you may have encountered a
                       software    bug.     Call   your   Field   Service
                       representative.     If    your    Field    Service
                       representative  cannot  fix the problem, call your
                       software specialist.

                 HOV   None.  There is a  software  problem.   Call  your
                       software specialist.

                 IEE   Make sure that the microcode has been  loaded  and
                       try  again.   If  the  problem persists, call your
                       Field Service representative.

                 LDE   None.  There is a  software  problem.   Call  your
                       software specialist.

                 MAB   None.  There is a  software  problem.   Call  your
                       software specialist.

                 MFE   None.   This  halt  often   indicates   a   memory


                                   11-34
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


                       controller  failure,  especially  if  the hardware
                       environment has not changed and you have been able
                       to  boot  memory  in the past.  Also, you may have
                       encountered  a  software  bug.   Call  your  Field
                       Service  representative.   If  your  Field Service
                       representative cannot fix the problem,  call  your
                       software specialist.

                 MMR   None.  There is a  software  problem.   Call  your
                       software specialist.

                 MNA   None.  If the hardware environment has not changed
                       and you have been able to boot memory successfully
                       in the past, there is probably a hardware problem.
                       However,   if   you   have   an  unusual  hardware
                       configuration, you may have encountered a software
                       bug.   Call your Field Service representative.  If
                       your Field Service representative cannot  fix  the
                       problem, call your software specialist.

                 NBS   None.  There is a  software  problem.   Call  your
                       software specialist.

                 NHA   None.  If the hardware environment has not changed
                       and you have been able to boot memory successfully
                       in the past, there  may  be  a  hardware  problem.
                       However,   if   you   have   an  unusual  hardware
                       configuration, you may have encountered a software
                       bug.   Call your Field Service representative.  If
                       your Field Service representative cannot  fix  the
                       problem, call your software specialist.

                 NMS   None.  There is a  software  problem.   Call  your
                       software specialist.

                 ODL   None.  There is a  software  problem.   Call  your
                       software specialist.

                 OO2   None.  There is a  software  problem.   Call  your
                       software specialist.

                 PDH   Make sure that the microcode has been  loaded  and
                       try  again.   If  the  problem persists, call your
                       Field Service representative.

                 SB4   None.  There is a  software  problem.   Call  your
                       software specialist.

                 SIH   None.  There is a  software  problem.   Call  your
                       software specialist.

                 SNR   None.  There is a  software  problem.   Call  your


                                   11-35
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


                       software specialist.

                 SS0   None.  There is a  software  problem.   Call  your
                       software specialist.

                 TMD   None.  There is a  software  problem.   Call  your
                       software specialist.

                 UMB   None.  If the hardware environment has not changed
                       and you have been able to boot memory successfully
                       in the past, there  may  be  a  hardware  problem.
                       However,   if   you   have   an  unusual  hardware
                       configuration, you may have encountered a software
                       bug.   Call your Field Service representative.  If
                       your Field Service representative cannot  fix  the
                       problem, call your software specialist.

                 XOO   None.  If the hardware environment has not changed
                       and you have been able to boot memory successfully
                       in the past, there  may  be  a  hardware  problem.
                       However,   if   you   have   an  unusual  hardware
                       configuration, you may have encountered a software
                       bug.   Call your Field Service representative.  If
                       your Field Service representative cannot  fix  the
                       problem, call your software specialist.


   KLI -- ?  FILE 'filename' NOT FOUND

      Problem:   KLINIT cannot find BOOT.EXB, the  appropriate  microcode
                 file,  or the alternate KL bootstrap file in the RSX-20F
                 file directory [5,5] on SY0:.

      Solution:  Make sure that the file you  requested  resides  on  the
                 front-end load device and try the operation again.


   KLI -- ?  I/O ERROR -n ON FILE 'filename'

        where n is an RSX-11 octal error code used by Software Support.

      Problem:   An I/O error occurred while KLINIT was trying to  access
                 the file 'filename.'

      Solution:  Reload the system and try the operation again.   If  the
                 problem persists, call your software specialist.


   KLI -- ?  ILLEGAL BUS-MODE

      Problem:   You specified a bus-mode under which the  current  DMA20
                 configuration cannot operate.


                                   11-36
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Solution:  Try the operation again  without  the  illegal  bus-mode
                 setting.   If  the  problem persists, call your software
                 specialist.


   KLI -- ?  ILLEGAL MF20 TIMING FILE FORMAT

      Problem:   The MF20 timing file is in the wrong format.

      Solution:  Try the operation again with a new copy  of  the  timing
                 file.  The current MF20 timing file name is BF16N1.A11.


   KLI -- ?  INPUT RECORD LENGTH ERROR

      Problem:   An error  occurred  while  KLINIT  was  trying  to  read
                 KL.CFG,  the  appropriate  microcode  file,  or  the  KL
                 bootstrap file.  This error could have  been  caused  by
                 software or hardware failure.

      Solution:  If possible, try other copies  of  the  files.   If  the
                 problem persists, call your software specialist.  If the
                 file in question is KL.CFG, you can solve the  error  by
                 renaming or deleting the file.  KLINIT will then write a
                 new KL.CFG file.


   KLI -- ?  INSUFFICIENT MEMORY FOR BOOTSTRAP

      Problem:   KLINIT tried to load the bootstrap program  where  there
                 is  not  enough  or  no  memory  available.  The memory-
                 selection switches  on  the  memory  units  may  be  set
                 incorrectly.

      Solution:  Check the memory-selection switches on the memory  units
                 and  try  the operation again.  If the problem persists,
                 call your Field Service representative.


   KLI -- ?  KL HALT DURING RESTART

      Problem:   The KL processor stopped on  a  HALT  instruction  while
                 KLINIT was monitoring a restart operation.

      Solution:  Boot and load the KL  monitor  again.   If  the  problem
                 persists, call your software specialist.


   KLI -- ?  MASTER RESET FAILED

      Problem:   There is a hardware error.  A master reset  function  to
                 the KL failed.


                                   11-37
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Solution:  Reload the system and try the operation again.   If  the
                 problem    persists,    call    your    Field    Service
                 representative.


   KLI -- ?  MEMORY CONFIGURATION FAILED

      Problem:   A hardware or software error occurred while  KLINIT  was
                 configuring memory.

      Solution:  Reload the system and try the operation again.   If  the
                 problem    persists,    call    your    Field    Service
                 representative.


   KLI -- ?  MF20 TIMING FILE CHECKSUM ERROR

      Problem:   A checksum error occurred while KLINIT was accessing the
                 MF20   timing   file.    This   occurs   during   memory
                 configuration.

      Solution:  Try the operation again.  If the problem  persists,  try
                 once  more  with  a  new  copy  of the timing file.  The
                 current MF20 timing file name is BF16N1.A11.


   KLI -- ?  MF20 TIMING FILE READ ERROR

      Problem:   A read error occurred while  KLINIT  was  accessing  the
                 MF20 timing file.

      Solution:  Try the operation again.  If the problem  persists,  try
                 once  more  with  a  new  copy  of the timing file.  The
                 current MF20 timing file name is BF16N1.A11.


   KLI -- ?  MICROCODE FIX FAILED

      Problem:   While  KLINIT  was  trying  to  fix  the  microcode,  it
                 encountered more than five hard (irreparable) errors.

      Solution:  Reload the microcode.  If  the  problem  persists,  call
                 your Field Service representative.


   KLI -- ?  MICROCODE LOAD FAILED

      Problem:   A hardware or software error occurred while  KLINIT  was
                 loading the KL microcode.

      Solution:  Reload the microcode.  If  the  problem  persists,  call
                 your Field Service representative.


                                   11-38
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   KLI -- ?  MICROCODE VERIFY FAILED

      Problem:   While  KLINIT  was  verifying  the  KL   microcode,   it
                 discovered   errors.    These  errors  are  itemized  in
                 preceding error messages.

      Solution:  Reload the microcode and  verify  it.   If  the  problem
                 persists, call your Field Service representative.


   KLI -- ?  NO MEMORY AT LOCATION ZERO

      Problem:   When KLINIT was configuring memory, it could not  locate
                 any memory unit whose address switches were set to zero.

      Solution:  Check the memory units and make  sure  that  one  memory
                 unit  has  its  address  switches set to zero; then, try
                 loading again.


   KLI -- ?  NO MF20 TIMING FILE

      Problem:   KLINIT cannot find an MF20 timing file.

      Solution:  Try the operation again with a new copy  of  the  timing
                 file.  The current MF20 timing file name is BF16N1.A11.


   KLI -- ?  NONEXISTENT CONTROLLER

      Problem:   KLINIT tried to configure a controller and found that it
                 was not there.

      Solution:  Try the operation again.  If the problem persists,  call
                 your Field Service representative.


   KLI -- ?  NONEXISTENT MODULE/BLOCK

      Problem:   KLINIT tried to configure a module or  block  that  does
                 not exist in the controller.

      Solution:  Try the operation again.  If the problem persists,  call
                 your Field Service representative.


   KLI -- ?  OUTPUT RECORD LENGTH ERROR

      Problem:   An error occurred while KLINIT was trying  to  write  an
                 updated configuration file, KL.CFG.

      Solution:  Try the operation again.  If the problem persists,  call


                                   11-39
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


                 your software specialist.


   KLI -- ?  POWER-FAIL RESTART FAILED

      Problem:   KLINIT could not  restart  the  KL  processor  during  a
                 power-fail recovery.

      Solution:  Reload  the  system  using  one   of   the   load-switch
                 procedures.   If  the system does not come up, call your
                 Field Service representative.


   KLI -- ?  READ ERROR

      Problem:   A hardware or software error occurred while  KLINIT  was
                 accessing KL.CFG, the appropriate microcode file, or the
                 KL bootstrap file.

      Solution:  Try the operation again.  If the problem persists,  call
                 your  software  specialist.   If the file in question is
                 KL.CFG,  you  can  get  around  the  read  operation  by
                 renaming  or  deleting  the  file.   A  new file will be
                 written.


   KLI -- ?  READ PC FAILED

      Problem:   KLINIT   cannot   read   the   KL   PC   during   memory
                 configuration.

      Solution:  Try the operation again.  If the problem persists,  call
                 your software specialist.


   KLI -- ?  SYSTEM ERROR DURING KL RESTART

      Problem:   A KLINIT software error occurred  during  a  KL  restart
                 operation.

      Solution:  Reload  the  system  using  one   of   the   load-switch
                 procedures.  If the problem persists, call your software
                 specialist.


   KLI -- ?  TIMEOUT DURING KL RESTART

      Problem:   While KLINIT was monitoring a KL restart, the  30-second
                 time limit was exceeded.

      Solution:  Try reloading the KL processor with the  default  KLINIT
                 operator-dialog  answers.  If the problem persists, call


                                   11-40
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


                 your software specialist.


   KLI -- ?  WRITE ERROR

      Problem:   A hardware or software error occurred while  KLINIT  was
                 writing  an  updated  copy  of  the  configuration  file
                 KL.CFG.

      Solution:  Try the write operation again.  If the problem persists,
                 call your software specialist.



   11.8  RECOVERING FROM PARITY AND NXM ERRORS   11.8  RECOVERING FROM PARITY AND NXM ERRORS

   Memory-system errors are hardware errors.  The types of  memory-system
   errors are:

        1.  Parity errors

        2.  NXM (nonexistent memory) errors

   When the system detects  a  parity  or  NXM  error,  it  performs  the
   following steps:

        1.  Prints a series of informational messages that  describe  the
            error.

            You should record these informational messages in the  system
            logbook.   They  are  very important because they provide the
            system programmers and your Field Service representative with
            information that will help them troubleshoot the problem.  To
            make  the  informational  messages  easy  to   identify,   15
            asterisks  (that  is, ***************) print on the CTY above
            and below each message series.  (See Examples 1 through 3.)

        2.  Tries to automatically recover in the  way  that  causes  the
            least amount of damage.

        3.  Prints one of the  following  error  messages  if  it  cannot
            recover:


            ?Non-recoverable memory parity error in monitor.

            [CPU Halt]


            ?Non-existent memory detected in monitor.

            [CPU Halt]


                                   11-41
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


            If either of these error messages prints on the CTY,  perform
            the following steps:

            a.  Record the error messages that print on the  CTY  in  the
                system logbook.

            b.  Try to  manually  dump  and  reload  the  monitor.   (See
                Section 11.2.2.)

            c.  If you cannot dump and reload, reconfigure  memory  using
                the  information  supplied in the series of informational
                messages.  To reconfigure memory, see Section 11.9.2.

            d.  If you cannot reconfigure memory, call your Field Service
                representative.


   Examples 1 through 3 are examples of what you will see on the  CTY  of
   the affected CPU when the monitor detects a memory error.


   Example 1:  (CPU Parity Error Interrupt)


   ***************
   CPU0 parity error interrupt at exec PC 562343 on dd-mmm-yy hh:mm:ss
   CONI APR, = 007760,,204413
   CONI PI, = 000000,010377
   ERA = 334000,,560271
   Error invoked by a cache write-back forced by a sweep instruction.
   SBUS DIAGS:
   CNTRLR FNC 0          FNC 1
   000004 006420,,560271 000200,,000000
   ***************


   Example 2: (CPU Parity Trap)


   ***************
   CPU0 AR/ARX parity trap at user PC 011260 on dd-mmm-yy hh:mm:ss
   Job 42[WRTBAD] was running
   Page fail word = 767000,011271
   Mapped page fail address = 547000,,560271
   Incorrect contents = 000000,,000000
   CONI PI, = 000000,,000377
   Recovery unsuccessful. Offending location zeroed.
   ***************


   Example 3: (Memory Parity Scan)



                                   11-42
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   ***************
   Memory parity scan initiated by channel 0 on CPU0 on dd-mmm-yy 
   hh:mm:ss
   Parity errors detected:
     at 253271 (phys.), Contents = 000000,,000000
   ***************



   11.9  RECOVERING FROM BAD MEMORY   11.9  RECOVERING FROM BAD MEMORY

   There may be times when an error message indicates that a portion of a
   memory   module   or  a  whole  module  is  unusable.   Under  certain
   conditions, you can set a portion  of  memory  off-line  and  let  the
   system continue processing.  If this is not possible, you will have to
   stop the system, reconfigure memory without the affected  module,  and
   reload the system.



   11.9.1  Setting Memory Off-Line   11.9.1  Setting Memory Off-Line

   To set memory off-line, first make sure that the following  conditions
   are met:

        1.  There will still be a reasonable amount of  memory  left  for
            user   programs   after  memory  is  off-line.   Your  system
            administrator will determine what is a "reasonable amount."

        2.  The memory to  be  set  off-line  is  not  interleaved.   (If
            interleaved  memory  is set off-line, memory that is good and
            usable will also be placed off-line.)

   Then, give the following monitor command:

        .SET MEMORY OFF-LINE FROM N TO M <RET>

   When the  SET  MEMORY  OFF-LINE  command  is  successful,  the  system
   continues.  Memory that was set off-line is not referenced.

   If the conditions above cannot be met, you must reconfigure  memories.
   In this case, see Section 11.9.2.



   11.9.2  Reconfiguring Memories   11.9.2  Reconfiguring Memories

   To reconfigure memories, perform the following steps:

        1.  Skip Steps 2 and 3 if the bad memory is in the lower 112K.




                                   11-43
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


        2.  Set the bad memory off-line.  (See Section 11.9.1.)  However,
            if no job can run without that memory, do not try to make the
            command succeed; skip Step 3.

        3.  Stop timesharing.  See Section 4.3.2 to stop timesharing at a
            specified  time.   Allow  enough time for those jobs that can
            run to complete their processing.

                                    ___________        4.  Type everything that is underscored in the  following  sample
            dialog:

            __            ^\                                  Type      CTRL/backslash,
                                                which  does not print, to
                                                communicate   with    the
                                                PARSER.

                ___ _______ ________________            PAR>SET CONSOLE MAINTENANCE<RET>    This changes the  console
                                                mode.

                __________            PAR>RESET<RET>                      This  causes   a   master
                                                reset    of    the   KL10
                                                processor.

        5.  Deselect the bad  memory,  check  the  lower-bound  addresses
            (memory-address  switches)  to  get  contiguous  memory,  and
            correctly set the interleave switches.

        6.  Reload the monitor as usual.  (See Chapter 5.)



   11.10  RESTARTING A HUNG CONSOLE TERMINAL (LA36)   11.10  RESTARTING A HUNG CONSOLE TERMINAL (LA36)

   If you try to type commands at a CTY and  no  characters  print,  make
   certain the following conditions are met:

         o  The CTY should be plugged in.

         o  There should be paper in the  CTY.   (If  you  replenish  the
            supply,  and characters still do not print, switch the CTY to
            LOCAL and then back to ON-LINE.)

         o  The fuse on the vertical panel under the keyboard should  not
            appear burned out.

         o  The CTY should work when it is set to LOCAL.

         o  The CTY should be on-line.

         o  The CTY should be set to the correct speed.




                                   11-44
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


         o  You should not be able to  communicate  with  the  PARSER  by
            typing  CTRL/backslash.   If  you can, type QUIT or CTRL/Z to
            return to the monitor.

         o  No other terminals should work.

   If the above conditions are  met,  reload  the  system  from  disk  or
   magnetic  tape.   If  not, or if the problem persists, call your Field
   Service representative.



   11.11  FINDING A MISSING MONITOR FILE   11.11  FINDING A MISSING MONITOR FILE

   If the bootstrap program BOOT is unsuccessful in  loading  the  system
   from  a  cold  start,  or if BOOT cannot reload the monitor from disk,
   this message will appear on the CTY that is attached to the Boot CPU.

   %File not found dev:file.ext[ppn]

   In either case, the message indicates  that  the  file  you  specified
   could not be located.

   To solve either of these problems, check that you have:

         o  Correctly  specified  a  nondefault  monitor  name  if   your
            installation uses a nondefault monitor.

         o  Mounted the correct disk packs.

         o  Set the mounted disk packs on-line.

   If these conditions are met, but you still cannot load from disk,  try
   loading  from magnetic tape.  (See Section 5.5.2.) If the system comes
   up for timesharing, the copy of the  monitor  file  on  the  disk  was
   probably  a bad one.  In this case, restore a good copy of the monitor
   from a BACKUP tape onto DSKB:.

   However, if the system does not come up for timesharing, there may  be
   problems with the file system.  In this case, your software specialist
   may want to investigate the problem before you attempt to  reconstruct
   the entire disk or recreate the file system.



   11.12  RECOVERING FROM FRONT-END PROCESSOR ERRORS   11.12  RECOVERING FROM FRONT-END PROCESSOR ERRORS

   The front-end processors fall into two categories:

        1.  The  console/diagnostic  front  end,  which  allows  you   to
            communicate  with  the  system  and  also  acts as a tool for
            system diagnosis.


                                   11-45
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


        2.  The communications front ends, which control local  terminals
            and remote stations.

   Front-end error recovery is based not only on processor use, but  also
   on  the  type  of  interface  to  the  CPUs.   The  console/diagnostic
   processor, DN20, and DN87S communications front  ends  use  the  DTE20
   interface  to  access  memory.  The DN85 and DN87 communications front
   ends use the DL10 interface to access memory.



   11.12.1  Recovering from DTE20-Interfaced Error   11.12.1  Recovering from DTE20-Interfaced Error

   When a CPU senses that a communications front end is not  running,  it
   checks  to  see  if  DTELDR  is  running  and  if the /AUTO switch for
   automatic reloading of front ends is in effect.  (/AUTO  is  a  DTELDR
   switch; DTELDR is the program that dumps and loads front ends that are
   connected to a CPU by a DTE20 interface.)

   If /AUTO is in effect, DTELDR automatically reloads the front end from
   a  default  load  file.  The default load file is named SYS:DTELxy.BIN
   where x is the number of the affected CPU and y is the DTE  number  0,
   1,  2,  or  3.   Unless  you  include the /NODUMP switch in the DTELDR
   command, DTELDR then dumps the front-end  memory  to  a  default  dump
   file.   Default  dump  files  are named XPN:DTEDxy.BIN, where x is the
   number of the affected CPU and y is the DTE number  0,  1,  2,  or  3.
   Successive  dumps  of  the  same  front  end  are  given  unique  file
   extensions of .B00, .B01, .B02, and so forth, up to .B99.

   Enabling automatic reloading from communications  front  ends  is  the
   same  as  enabling  it  for  the console front end.  To define the DTE
   subjob for the front end  attached  to  DTE1,  include  the  following
   entries in your OPR.ATO file:

        __________        :SLOG<RET>                              Log in a subjob.

        ____ _________        :DEF DTE=<RET>                          Call the subjob DTE.

        _____ ___________        DTE-R DTELDR<RET>                       Run DTELDR.

        ________________        DTE-/INIT:1<RET>                        Initialize the front  end
                                                attached to DTE1.

        ______________        DTE-/AUTO<RET>                          Automatically reload  the
                                                front end after a crash.

   If your OPR.ATO file does not include /AUTO, you can run  DTELDR  from
   any  terminal  logged in under [1,2].  In this case, you have a choice
   of restart procedures.  You can either use the default file  name,  or
   specify one as shown below after the DTELDR star (*) prompt.

         _ ___________        .R DTELDR<RET>                          Run DTELDR.


                                   11-46
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


          _____________        */RELOAD:2<RET>                         Get the program  in  file
                                                SYS:DTEL02.BIN      <RET>
                                                (default name).
   or

         ____________________________________        *DTA3:COMSYS.BIN/RELOAD:1/NODUMP<RET>   Reload the front  end  on
                                                DTE1    with   the   file
                                                COMSYS.BIN   on   DECtape
                                                drive  3.   Do not take a
                                                front-end memory dump.

   To print a description of the DTELDR program  switches  on  your  CTY,
   type /HELP after the * prompt prints.



   11.12.2  Recovering from DL10-Interfaced Errors   11.12.2  Recovering from DL10-Interfaced Errors

   When a DL10-interfaced front end (DN85, or DN87) crashes, one  of  the
   following error messages prints on the OPR terminal:

   %%PDP-11 number n is not running
   %%PDP-11 number n is halted at pc

   where:

         n  is port number 0 though 3 for the first DL10, and 4 through 7
            for the second, if any.

        pc  is the address of the halt in the front end.

   BOOT11 is the program that dumps and loads over a DL10.  BOOT11 should
   be  available on SYS:.  To dump and reload DL10-interfaced front ends,
                           ___________   type everything that is underscored in the following sample dialog:

    _ ___________   .R BOOT11<RET>                               Load BOOT11.
        ___________________   File:/DUMP/PORTNO:p<RET>                     Dump the entire front-end
                                                memory attached to port p
                                                into  the  default   file
                                                DSKB:PDPIp.LSD,  where  p
                                                is the port number.
        __________________________________   File:DN87.BIN/CLEAR/START/PORTNO:p<RET>      Clear    the    front-end
                                                memory attached to port p
                                                and load  and  start  the
                                                program   from  the  file
                                                DSKB:DN87.BIN[1,2],    or
                                                press  RETURN to load the
                                                default    file     spec.
                                                DSKB:PDPXIp.BIN[1,2],
                                                where  p  is   the   port
                                                number.
   "PDP-11 dumping                              Front-end memory is being


                                   11-47
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


                                                dumped   into  a  TOPS-10
                                                file.
   "PDP-11 dumped
   "Clearing PDP-11                             Front-end memory is being
                                                zeroed (cleared).
   "PDP-11 loading                              The front  end  is  being
                                                loaded   with   formatted
                                                binary input file data.
   "PDP-11 loaded                               Loading is complete.
   "PDP-11 started                              The  front  end  is   now
                                                executing   in   its  own
                                                memory.

   For  additional  information  on  BOOT11  switches,  see  the   BOOT11
   specification in the Software Notebooks and the SYS:BOOT11.HLP file.



   11.13  RECOVERING FROM DATA CHANNEL ERRORS   11.13  RECOVERING FROM DATA CHANNEL ERRORS

   The DX10 data channel provides direct  access  to  memory  and  is  an
   integrated  part  of  the TU70-series magnetic-tape systems.  The DX10
   contains a PDP-8A processor.

   The DX20 data channel provides direct  access  to  memory  and  is  an
   integrated  part of the TU70-series magnetic-tape systems and the RP20
   disk systems.  The DX20 contains a microprocessor.

   You must load or reload this microprocessor whenever you  first  power
   up  the  DX10 or DX20 data channel, or after Field Service maintenance
   has been performed.  Usually, the KL10 automatically reloads the  DX10
   or  DX20 after a crash.  If a power fail occurs, the data channel must
   be loaded manually.  The procedure for manually reloading the DX10  or
   DX20 are described below.

   If the PDP-8A in the DX10 halts, the following message prints  on  the
   OPR terminal:

   %%Tape controller MTx is off line

   where x specifies the controller that is attached to the data channel,
   for example, MTA, MTB.

   If the microprocessor in the DX20 halts, the following message  prints
   on the OPR terminal:

   %%Tape controller MTx if off line

   where x specifies the controller that is attached  to  the  DX20,  for
   example, MTA, MTB.

   To manually reload the DX10 or DX20 data channel, issue the  following


                                   11-48
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   commands to the CONFIG program:

    _ ________   .R OPR<RET>
       _____ ___________   OPR>ENTER CONFIG<RET>
          ____ ________   CONFIG>LOAD MTx<RET>
          ____   CONFIG>EXIT

   where x is the tape controller identification.



   11.14  ALLOWING SYSTEM DIAGNOSIS WITH KLINIK   11.14  ALLOWING SYSTEM DIAGNOSIS WITH KLINIK

   The KLINIK link allows  a  DIGITAL  Field  Service  representative  or
   software specialist to diagnose a problem in your system from a remote
   location.  This means that  DIGITAL's  Field  Service  product-support
   group  and  software  specialists  can collect and analyze performance
   data without traveling to your installation.

   To allow access from the KLINIK link, you must first  ask  the  person
   who is doing the diagnosis the following questions:

         o  What is the link to be used for?  Is  it  to  be  used  as  a
            timesharing terminal or as a remote CTY?

         o  What is the password (only if it is to be used  as  a  remote
            CTY)?

         o  What is the time period in which access to  the  KLINIK  link
            will be required?

         o  What is the highest console mode?

   To use the KLINIK link as a remote CTY, establish  the  password  FGH,
   allow  access  between  the current time and 24 hours later, and allow
   MAINTENANCE as the highest  console  mode,  type  everything  that  is
   ___________   underscored in the following sample dialog:

            ___ ___________        PAR>SET KLINIK<RET>

                     ___________        KLINIK mode: REMOTE<RET>
                  ________        Password: FGH<RET>
                                _____        Access window open date:<RET>
                                _____        Access window open time:<RET>
                                 _____        Access window close date:<RET>
                                 _____        Access window close time:<RET>
                              ________________        Highest console mode: MAINTENANCE<RET>
         KLINIK inactive
                             _________ __________         Access window open: dd-mmm-yy hh:mm<RET>
                               _________ __________         Access window closed: dd-mmm-yy hh:mm<RET>
                      ___________         KLINIK mode: REMOTE<RET>
                               ________________         Highest console mode: MAINTENANCE<RET>


                                   11-49
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


            _________        PAR>QUIT<RET>

   To  terminate  an  active  KLINIK  link,  type  everything   that   is
   ___________   underscored in the following sample dialog:

            _____ ___________        PAR>CLEAR KLINIK<RET>
         KLINIK DISABLED
        KLD -- KLINIK ACCESS TERMINATED BY OPERATOR
            _______________        PAR>DISCONNECT<RET>
        KLD -- KLINIK LINK DISCONNECTED
        __        ^\
        PAR>

   To find out what KLINIK parameters have been set, type WHAT KLINIK  to
   the PARSER.

   For more information on CLEAR KLINIK, DISCONNECT, SET KLINIK, and WHAT
                        _______________ _______ ______ _________ ______   KLINIK, refer to the TOPS-10/TOPS-20 RSX-20F System Reference Manual.



   11.14.1  KLINIK Informational Messages   11.14.1  KLINIK Informational Messages

   While you are using KLINIK,  you  may  receive  one  or  more  of  the
   messages  listed  in  this  section.   These  messages  are  for  your
   information only; they do not indicate errors.


   KLD -- KLINIK access terminated by operator

          If the KLINIK link is active and  you  give  the  CLEAR  KLINIK
          command,  this  message  prints  on both the CTY and the remote
          KLINIK CTY.  This means that the KLINIK access window has  been
          closed,  the  KLINIK  link  has been terminated, and the KLINIK
          parameters have been cleared.


   KLD -- KLINIK disconnect

          This message prints on the CTY and the remote KLINIK CTY  after
          you  give  the  DISCONNECT  command  to the PARSER to terminate
          KLINIK access by hanging up the modem.


   KLR -- KLINIK line connected to RSX-20F mode limit c

          This message prints on the CTY and the remote KLINIK  CTY  when
          the  remote KLINIK user specifies REMOTE KLINIK mode during the
          KLINIK link access procedure.  The mode limit c is MAINTENANCE,
          PROGRAMMER,  or OPERATOR--whatever you specified as the highest
          console mode with the SET KLINIK command.



                                   11-50
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   KLR -- KLINIK line connected to TOPS-10

          This message prints on the CTY and the remote KLINIK CTY when a
          remote  KLINIK user is trying to gain access to the KLINIK link
          in USER KLINIK mode.  The remote KLINIK CTY can  then  be  used
          for timesharing.


   KLR -- KLINIK ring -- validating access

          If you specified REMOTE KLINIK mode  in  the  last  SET  KLINIK
          command  and  a user at a remote location has just dialed in to
          try to gain access to the KLINIK link, this message  prints  on
          the CTY.


   SAV -- *DIAG* -- KLINIK line active in USER mode

          This message prints on the CTY and the  remote  KLINIK  CTY  if
          RSX-20F is reloaded and the KLINIK link is active in USER mode.


   SAV -- *DIAG* -- KLINIK line active in REMOTE mode
   SAV -- *DIAG* -- KLINIK line connected to system console

          These messages print on the CTY and the remote  KLINIK  CTY  if
          RSX-20F  is  reloaded  and  the KLINIK link is active in REMOTE
          mode.



   11.14.2  KLINIK Error Messages   11.14.2  KLINIK Error Messages

   While you are using KLINIK, you may receive an error message.  Some of
   these  error  messages  are  printed  by PARSER, others are printed by
   KLINIK.  This section lists the error messages  that  are  printed  by
   KLINIK.  For information on PARSER error messages, see Section 11.6.


   KLR -- KLINIK LOGON timeout -- LOGON aborted
   KLD -- KLINIK line disconnected

      Problem:   You specified REMOTE KLINIK mode in the last SET  KLINIK
                 command  and  the  KLINIK user at a remote location gave
                 the wrong password five times within 2 minutes.   (These
                 messages print on the CTY and the remote KLINIK CTY.)

      Solution:  The KLINIK user at a remote location must redial and  go
                 through the validation sequence again.


   KLR -- KLINIK ring -- KLINIK window closed


                                   11-51
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


      Problem:   A user at a remote location tried to gain access to  the
                 KLINIK  link  but  the  access  window  is closed or not
                 defined.  (This message prints on the CTY and the remote
                 KLINIK CTY.)

      Solution:  The KLINIK user at a remote location must go through the
                 validation sequence.


   SAV -- *FATAL* -- Protocols not running

      Problem:   There may be a serious software or hardware problem.

      Solution:  Try to reload the system.   If  you  cannot  reload  the
                 system, call your Field Service representative.



   11.15  RECOVERING FROM ENVIRONMENTAL ERRORS   11.15  RECOVERING FROM ENVIRONMENTAL ERRORS

   The causes of environmental crashes are varied.   They  include  power
   fluctuations,   power  outages,  temperature  extremes,  water  leaks,
   accidental spills, mechanical shocks, and so  forth.   Some  of  these
   environmental problems are easy to detect before they cause the system
   to crash.  For example, if the air-conditioning system fails, the rise
   in  temperature  could  cause  a  system  crash.   Other environmental
   problems, however, will occur without warning.

   Whenever possible, you should perform an orderly shutdown  if  any  of
   these  conditions  are  imminent.  When the problem is solved, you can
   power up and reload the system.

   When either a power fluctuation  or  outage  occurs,  a  power-failure
   detection  circuit senses it, and initiates a power-failure interrupt.
   This interrupt triggers the operation of a program that saves the  PC,
   flags,  mode information, and fast memory registers; then it halts the
   processors.  The system will try to recover automatically  when  power
   is restored.

   If the temperature rises above an acceptable level, it  is  sensed  by
   temperature  sensors,  which  causes  the  power  to  be shut down and
   initiates the power-failure interrupt sequence.

   A power fluctuation is a variation in line voltage that occurs over  a
   short  time.   Although  the  power is not lost completely, the system
   will probably go through an automatic restart procedure.

   A power outage is a complete loss of power.  If the power goes off and
   then  comes  back  on  suddenly,  the  surge  of  power can damage the
   equipment.  Therefore, when the power goes off,  turn  the  START/STOP
   switch  on all disk drives to STOP.  When the power has been restored,
   the system will go through an automatic restart procedure.


                                   11-52
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   If the automatic restart procedure after a power outage or fluctuation
   is unsuccessful, perform the following steps:

        1.  Check all equipment to make sure that  there  is  power.   If
            there is power, try to power up.  (See Sections 4.2 and 4.3.)
            If this fails, call your Field Service representative.

        2.  If necessary, reload the monitor.  If the  monitor  will  not
            reload,   check   the  various  controllers;  clear  them  if
            necessary, and try to  reload  the  monitor.   If  this  also
            fails, call your Field Service representative.



           +---------------+-----------+        
           |               |           |
        _______          _____       _____          _______
       | CPU1  |        | MEM |     | MEM |        | CPU0  |
       |       |        |_____|     |_____|        |       |
       |_______|           ^           ^           |_______|
           |               |           |              |  |
           |               |           |              |  |
           |               +-----------+--------------+  |
           |                                             |
           |               +-----------+-----------------+
           |               |           |
           |               |           |
           |               v           v
           |             ______      ______   Disks are 
           |             DISK 1      DISK 0   dual-ported
           |             ______      ______
           |               ^           ^                      
           |               |           |
           ----------------+-----------+
                   SMP system before splitting

   Continued on next page.

















                                   11-53
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR



           +---------------+- - / / - -+        
   SYSTEM  |               |                   SYSTEM 
     A     |               v           |         B
        _______          _____       _____          _______
       | CPU1  |        | MEM |     | MEM |        | CPU0  |
       |       |        |_____|     |_____|        |       |
       |_______|           |           ^           |_______|
           |                           |              |  |
           |               |           |              |  |
           |               +- - / /- - +--------------+  |
           |                                             |
           |               +- -/ /- - -+-----------------+
           |               |           |
           |                           |
           |               |           v      CPU0 is allotted a
           |             ______      ______   portion of memory
           |             DISK 1      DISK 0   and single-port access
           |             ______      ______   to one or more drives;
           |               ^           |      then can be reconfigured
           |               |                  as System B.
           ----------------+- -/ /- - -+      
                   SMP system split for temporary use


   Figure 11-1:  Conceptual Diagram of Splitting the System   Figure 11-1:  Conceptual Diagram of Splitting the System


   11.16  SPLITTING AN SMP SYSTEM   11.16  SPLITTING AN SMP SYSTEM

   It is possible to split  an  SMP  system  into  two  or  more  smaller
   systems.   For  instance,  Field  Service  could  use  one  system  to
   troubleshoot a problem without disrupting  timesharing  in  the  other
   parts of your SMP system.  However, splitting the system is a delicate
   procedure.  Therefore, do not attempt to split the system unless  your
   system administrator requests you to do so.

   Essentially, you turn off parts of the system (a processor, a  portion
   of  memory,  and one or more disk units), and then allow Field Service
   to reconfigure those parts into a  separate  system  for  diagnostics.
   (In  this  explanation, we refer to the smaller system as System B and
   its processor as CPU0.) The remaining system (which  we  refer  to  as
   System  A,  with  processor CPU1) can continue to provide timesharing.
   For this discussion, we assume a dual-processor system.  On  a  system
   with more processors, all non-Policy CPU's are treated identically.

   To split your SMP system, you must logically remove the one processor,
   the  amount  of memory your system administrator decides to allot, and
   one or more disk units from the  system;  you  must  also  remove  the
   components  physically.   Following  is  a  description  of  the steps
   required to set aside one section of the system for diagnostics, while
   maintaining timesharing on the other sections, and then rejoin the two


                                   11-54
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   sections after Field Service has finished doing diagnostics.

                                    NOTE

           The following process allows removal of  CPU0  from  a
           multiprocessor   system.   The  multiprocessor  system
           dedicated to timesharing is  called  System  A.   CPU0
           will  be  removed  for Field Service use, reconfigured
           and called System B.  In an actual situation  you  may
           remove any CPU in a multiprocessor system.

   Step 1

   Before you split the system and turn over the  one  portion  to  Field
   Service,  you  need  to  remove  all system disk packs from the drives
   Field Service will require.  (This ensures the safety  of  system  and
   user  data.)  While  the  drives  are  off-line,  set  the port select
   switches so that only the Field Service system (System B)  can  access
   them.   Be  sure  that  you  do  not  leave any switches in the middle
   position.  You should also inform your users that these structures are
   being  removed.   You  may want to remount them on drives that will be
   available to the timesharing section.

   Step 2

   To prepare your system for the removal of  CPU0  and  the  portion  of
   memory  reserved for it, run OPR, and then enter CONFIG at the CTY for
                                                      _______  __________   CPU1.  (For more information on CONFIG,  see  the  TOPS-10  Operator's
   _______ ________ _________ ______   Command Language Reference Manual.)

         _ ________        .R OPR<RET>
            _____ ___________        OPR>ENTER CONFIG<RET>
               ______ _________        CONFIG>REMOVE CPU0<RET>
               ______ ______ ____ __ __________        CONFIG>REMOVE MEMORY nnnK to nnnnK<RET>
               ____        CONFIG>EXIT

   If you have left any system disks on-line to CPU0, CONFIG  will  print
                                                                  a   t   an  error  message,  and  will  not  be able to complete until all the
   drives have been removed; note the example:

         _ ________        .R OPR<RET>
            _____ ___________        OPR>ENTER CONFIG<RET>
               ______ _________        CONFIG>REMOVE CPU0<RET>
        ? Following packs MUST be dismounted:
                BLKY0 on RPF0
                DSKG0 on RPG5
        CONFIG>


   Step 3

   On the CTY that is connected to CPU0, type:


                                   11-55
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


        __        ^\
            _________        PAR>HALT<RET>
            __________        PAR%RESET<RET>

        PAR#

                                    NOTE

           Optionally, you can halt the front  end  of  CPU0  and
           power down and remove the front-end disk to ensure the
           safety of the front-end files.


   Step 4

   You will need to make changes at the memory cabinets for both systems.
   In  the  memory  cabinets  for System A, turn off the port switches to
   CPU0, according to Field Service instructions.

   In the memory cabinets assigned for the B System, first deselect  each
   cabinet  with  the  Memory SELECT/DESELECT SWITCH.  Then, turn off all
   System A active ports to  include  any  externally  connected  devices
   (such as DX10, DL10, etc.), as Field Service instructs.


   Step 5

   You may have disk drives dual-ported between the  timesharing  section
   of your system and the CPU being turned over to Field Service.

                                    NOTE

           The HSC50 disk controller  cannot  be  dual-ported  as
           other  disk  drives  can.  Assign it to one CPU in the
                                        _____  ______  _____           split system.  Refer to the  HSC50  User's  Guide  for
           information on this procedure.

   To adjust the port switches of the  drives  that  remain  on-line  for
   System  A  (the timesharing system), follow the procedures appropriate
   for the type(s) of drives you have.

   For RP04, RP06, and RPO7 disk drives, perform these steps:

        1.  On the CPU1 terminal for System A,  type  .XCHANGE  drivename
            drivename.  (Be sure to type drivename twice.)

        2.  Power  down  each  dual-ported  drive  by  turning  off   its
            START/STOP switch.

        3.  Change the port switch for the drive to only the port that is
            connected to the timesharing system.



                                   11-56
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


        4.  Power up the drive.

   For RP20 drives, simply reset each drive's port  switch  to  only  the
   port that is connected to the timesharing system.

   The system is now split; Field Service can reconfigure  System  B  for
   diagnostics use, and timesharing can continue on System A.



   11.17  ADDING PROCESSORS AND MEMORY TO SMP SYSTEMS   11.17  ADDING PROCESSORS AND MEMORY TO SMP SYSTEMS

   To configure the SMP system and to  include  more  CPUs,  perform  the
   following procedure:


   Step 1

   Begin the process of rejoining the parts of the  system  by  resetting
   the CPU.  At the CTY of System B (the removed system), type:

        __        ^\

             _____        PAR# RESET

   To physically reset memory, make sure that:

         o  The memories assigned to System B are all  deselected,  using
            the MEMORY SELECT/DESELECT switch.

         o  The lower bound address switches are set  the  same  as  they
            were before you relinquished System B.

         o  All port switches for  all  CPUs  and  external  devices  are
            returned to their original (before system split) positions.

         o  The memories assigned to System B are all selected, using the
            MEMORY SELECT/DESELECT switch.

         o  In the System A cabinets, all port switches for the CPU0  are
            set to the KI/KL position.

   Both portions of the system now have access to all of memory.


   Step 2

   To return to dual-ported capability, both the drive(s) used  by  Field
   Service and those that remained on-line for timesharing, perform these
   steps:

   For RP04, RP06, and RP07 drives:


                                   11-57
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


        1.  Type .XCHANGE drivename drivename.

        2.  Turn off the drive.

        3.  Set each drive's port switch to A/B.

        4.  Start the drive.

   For RP20 drives, simply reset each drive's port switch to A/B.


   Step 3

   This step is done at the CTY of the removed CPU  (System  B).   First,
   you type RESET to the PARSER; then you carry out the KLINIT dialog, as
   shown below, to reload the  correct  microcode  for  your  system  and
   ensure that all Field Service work is cleared.

   __   ^\
        __________   PAR# RESET<RET>
        ___ ________   PAR# MCR KLI<RET>

   KLI -- VERSION YA12-27 RUNNING
   KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
       ________   KLI>YES<RET>
   KLI -- KL10 S/N: 1042., MODEL B, 60 HERTZ
   KLI -- KL10 HARDWARE ENVIRONMENT:
           EXTENDED ADDRESSING
           INTERNAL CHANNELS
           CACHE

   KLI -- RELOAD MICROCODE [YES,VERIFY,FIX,NO]?
       ________   KLI>YES<RET>
   KLI -- MICROCODE VERSION 231 LOADED
   KLI -- RECONFIGURE CACHE [FILE,ALL,YES,NO]?
       ________   KLI>ALL<RET>
   KLI -- ALL CACHES ENABLED
   KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,YES,NO]?
       ________   KLI>ALL<RET>

   LOGICAL MEMORY CONFIGURATION.
     ADDRESS  SIZE  INT  TYPE CONTROLLER
    00000000 1024K   4   DMA20     4

   KLI -- LOAD KL BOOTSTRAP [FILE,YES,NO,FILENAME]?
       _______   KLI>NO<RET>
   KLI -- WRITE CONFIGURATION FILE [YES,NO]?
       _______   KLI>NO<RET>
   KLI -- EXIT [YES,RESTART]?
       ________   KLI>YES<RET>




                                   11-58
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


                                  CAUTION

           In the KLINIT dialog, you  should  answer  NO  to  the
           bootstrapping question.  Reloading the front-end would
           crash your system.

   As a safety precaution, after  exiting  from  KLINIT,  type  RESET  to
   PARSER, then type J 400, and press RETURN to start CPU0:

            __________        PAR%RESET<RET>
            _ ________        PAR#J 400<RET>


   Step 4

   To complete the rejoining of System B to System A, run OPR  and  enter
   CONFIG on the operator's terminal for System A.  Type:

         _ ________        .R OPR<RET>
            _____ ___________        OPR>ENTER CONFIG<RET>
               ___ _________        CONFIG>ADD CPU0<RET>
               ___ ______ ____ __ __________        CONFIG>ADD MEMORY nnnK to nnnnK<RET>
               ______        CONFIG>RETURN
        OPR>

   Finally, go to the CTY that is connected to CPU0.  This message should
   appear on the CTY:

        [CPU0]
        .

   It indicates that the system is  now  rejoined  and  capable  of  full
   performance.

                                    NOTE

           You may run SYSDPY and use the "F" display  to  verify
           whether the expected disks are dual-ported again.



   11.18  FAULT CONTINUATION (WARM RESTART)   11.18  FAULT CONTINUATION (WARM RESTART)

   Warm restart allows the console  front  end  to  restart  the  TOPS-10
   monitor in an attempt to recover from front end-detected KL10 hardware
   errors.  For example, if a CRAM or DRAM parity error occurs, the front
   end  places  an  error  code  and  the  current program counter into a
   location available to the monitor.  The front end also logs the  error
   in  the  PARSER.LOG  file  by  reading  a command file for the type of
   error.  The monitor  receives  control,  reads  the  error  code,  and
   handles  the  error  appropriately.   If  the error occurred while the
   processor was in user mode, the job  is  terminated,  but  the  system


                                   11-59
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   continues  to  run.  If the error occurred in exec mode, the system is
   reloaded.  Note that if the front end detects a field  service  probe,
   then it does not store the error code and PC, but halts.

   The following is a list of errors that will cause a  warm  restart  by
   the front end:

         o  EBUS parity error

         o  Deposit examine failure (PI Level 0 interrupt failure)

         o  Protocol timeout

         o  Clock error stop - fast memory parity error

         o  Clock error stop - CRAM parity error

         o  Clock error stop - DRAM parity error

   There are two kinds of stopcodes associated with  warm  restart:   WRJ
   and  WRF.   WRJ  is generated when the error occurred in user mode, in
   which case, the system is continued.  WRF is generated when the  error
   occurred  in  exec  mode,  in  which  case,  the  system is dumped and
   reloaded, depending on monitor uptime (see Section 11.5.3).

   The  following  examples  show  recovery  from  errors  in  user  mode
   (Example 1) and exec mode (Example 2).


   Example 1:

   User Mode - WRJ Stopcode


   %DECsystem-10 not running                    After the  "%DECsystem-10
                                                not  running"  message, a
                                                warm  restart  will  take
                                                from   1  to  2  minutes,
                                                depending on  the  error,
                                                until  the "[DECsystem-10
                                                Continued]"  message   is
                                                printed.

   CLOCK ERROR STOP

       ____ _____   KLE>TAKE FMPAR
       ___ ___ ___   KLE>SET CON MAI
    CONSOLE MODE: MAINTENANCE
       ___ ___ ___   KLE>SET OUT LOG

   ******* LOGGING STARTED  19-AUGUST-1988 09:57 ,RSX-20F YE15-05



                                   11-60
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


    OUTPUT DEVICES: TTY,LOG
   KLE>! FAST MEMORY PARITY ERROR
   KLE>CLEAR OUT TTY                            In this example, it takes
                                                approximately  18 seconds
                                                from the "CLEAR OUT  TTY"
                                                command  to  <EOF>.  This
                                                will  vary  depending  on
                                                the length of the command
                                                file.   In  the  case  of
                                                HALT,  or DEX, it will be
                                                longer,    perhaps     20
                                                seconds     to     verify
                                                microcode;  at  least  15
                                                seconds  until  system is
                                                continued.
    OUTPUT DEVICES: TTY
   KLE> <EOF>
   KLE> <END OF SNAPSHOT>
   KLI -- VERSION YA13-05 RUNNING               

   KLI -- MICROCODE VERSION 324 VERIFIED
   KLI -- ALL CACHES ENABLED
   KLI -- % MOS MEMORY IS ALREADY CONFIGURED

   LOGICAL MEMORY CONFIGURATION.
     ADDRESS  SIZE  INT  TYPE CONTROLLER
    00000000  768K   4   MF20  10
    03000000  768K   4   MF20  11
    06000000  256K   4   MF20  12
    07000000  256K   4   MF20  13

   KLI -- FAULT CONTINUATION SUCCEEDED

   ?CPU0 monitor error. Stopcode name is WRJ
   Job 3 on CTY running KLPAR7 User [1,2]
   UUO is 47000000025 at user PC 400447
   code = 6


   CPU Status Block on dd-mmm-yy hh:mm:ss

   APRID = 640324,,364113
   ERA = 224000,,011451
   CONI APR, = 007760,,000003
   CONI PI, = 000000,,000377
   CONI PAG, = 000000,,660001
   DATAI PAG, = 700100,,006023
   AR ARX Data Word = 000000,,000000
   IO Page Fail Word = 000000,,000000

   SBUS Diags:



                                   11-61
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


   CNTRLR FNC 0          FNC 1
   000004 001740,,045157 000200,,000000
   000010 006160,,011603 000500,,001000
   000011 007745,,750444 000500,,001000
   000012 006126,,023507 000500,,001000
   000013 007227,,430074 000500,,001000

   [Dumping on DSKB:CRASH.EXE[1,4]]
   [Aborting job]
   ?
   ?Monitor error at user PC 400446

   .
   [DECsystem-10 Continued]


   Example 2:

   Exec Mode - WRF Stopcode

   This is an example  of  exec  mode  failure.   The  monitor  will  not
   continue the system automatically.

   %DECsystem-10 not running          Allow  1  to  2  minutes  for  warm
                                      restart to continue.

   CLOCK ERROR STOP

       ____ ____   KLE>TAKE CRAM
       ___ ___ ___   KLE>SET CON MAI
    CONSOLE MODE: MAINTENANCE
       ___ ___ ___   KLE>SET OUT LOG

   ******* LOGGING STARTED  19-AUGUST-88 10:18 ,RSX-20F YE15-05

    OUTPUT DEVICES: TTY,LOG
   KLE>! CRAM PARITY ERROR
   KLE>CLEAR OUT TTY
    OUTPUT DEVICES: TTY
   KLE> <EOF>
   KLE> <END OF SNAPSHOT>
   KLI -- VERSION YA13-05 RUNNING
   KLI -- ? C-RAM DIFFERS AT 1414
   KLI -- BAD  000000 000000 000000 000000 000000 00
   KLI -- GOOD 004736 030003 100201 132402 000040 62
   KLI -- XOR  004736 030003 100201 132402 000040 62
   KLI -- MICROCODE VERSION 324 VERIFIED
   KLI -- ALL CACHES ENABLED
   KLI -- % MOS MEMORY IS ALREADY CONFIGURED

   LOGICAL MEMORY CONFIGURATION.
     ADDRESS  SIZE  INT  TYPE CONTROLLER


                                   11-62
                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR                ERROR RECOVERY ON THE KL10 CENTRAL PROCESSOR


    00000000  768K   4   MF20  10
    03000000  768K   4   MF20  11
    06000000  256K   4   MF20  12
    07000000  256K   4   MF20  13

   KLI -- FAULT CONTINUATION SUCCEEDED

   ?CPU0 monitor error. Stopcode name is WRF
   code = 7

   CPU Status Block on dd-mmm-yy hh:mm:ss

   APRID = 640324,,364113
   ERA = 224000,,011451
   CONI APR, = 000000,,000000
   CONI PI, = 000000,,000000
   CONI PAG, = 000000,,660001
   DATAI PAG, = 700100,,000005
   AR ARX Data Word = 000000,,000000
   IO Page Fail Word = 000000,,000000

   SBUS Diags:

   CNTRLR FNC 0          FNC 1
   000004 001740,,045157 000200,,000000
   000010 006160,,011603 000500,,001000
   000011 006165,,777003 000500,,001000
   000012 006446,,647251 000500,,001000
   000013 007747,,470524 000500,,001000

   Reload monitor
   [Dumping on DSKB:CRASH.EXE[1,4]]
   [Loading from DSKB:RL156A.EXE[1,4]]

   RL156A DEC10 Development mm-dd-yy
         _________   Date: dd-mmm-yy
         _____   Time: hh:mm

                   _   Startup option: Q















                                   11-63

























































                                    A-1












                                 APPENDIX A                                 APPENDIX A

                  SYSTEM DUMPING AND RELOADING PROCEDURES                  SYSTEM DUMPING AND RELOADING PROCEDURES



   A.1  BOOT ERROR MESSAGES   A.1  BOOT ERROR MESSAGES

   %Bad directory format for dev:file.ext[path]

      While reading the file given in the command string, BOOT discovered
      an  inconsistency  in  the  directory  format  of  the  file.  This
      generally means that the file has been corrupted.


   %File not found dev:file.ext[path]

      BOOT could not find the file given in the error message.


   %I/O error on dev:file.ext[path]

      While attempting to read or write  the  file  given  in  the  error
      message, BOOT detected a disk device or data error.  If retries are
      successful, the error is usually a recoverable ECC error.   If  all
      retries  fail,  the  file was probably written on a bad spot on the
      disk.


   %Memory configuration too complicated for dev:file.ext[path]

      The memory configuration of the system has so many fragmented  NXMs
      that  BOOT  is  unable  to  write  the directory of the file in one
      block.


   ?No file found on any structure

      The user didn't specify an explicit structure in the command string
      so  BOOT  attempted  to  load  from structures starting at DSKA and
      continuing through DSKO.  All attempts were unsuccessful.




                                    A-1
                  SYSTEM DUMPING AND RELOADING PROCEDURES                  SYSTEM DUMPING AND RELOADING PROCEDURES


   ?No file found on system dump list

      The user didn't  specify  an  explicit  structure  in  the  command
      string, so BOOT attempted to load from each structure in the system
      dump list.  All attempts were unsuccessful.


   %Not a REBOOTable dump dev:file.ext[path]

      The file given in the error message does not contain a system sleep
      snapshot and may not be rebooted with the /REBOOT switch.


   ?NXM or memory parity error detected
   CONI APR, = nnnnnn,,nnnnnn
   RDERA = nnnnnn,,nnnnnn

      While reading or writing memory, BOOT detected an NXM or memory
      parity error.  The CONI APR status and the RDERA (KL10 only) are
      given to aid in error analysis.


   ?Only device may be specified for dump

      The user typed more than just a structure name in the /DUMP command
      string to BOOT.  BOOT does not allow the user to specify a filename
      extension or path with the /DUMP switch.


   ?Page fail trap
   PFW = nnnnnn,,nnnnnn
   PF PC = nnnnnn,,nnnnnn
   CONI APR, = nnnnnn,,nnnnnn
   RDERA = nnnnnn,,nnnnnn

      BOOT got an unexpected page fail trap.  The page  fail  word,  page
      fail  old  PC,  CONI APR, and RDERA (KL10 only) are included in the
      error message.  The cause of the page fail trap may  be  determined
      by  looking at the page fail word.  This error is usually caused by
      a hardware error, the most common of which are AR  and  ARX  parity
      errors.   These  two  errors  are  indicated  by an octal 36 or 37,
      respectively, in bits 0-5 of the page fail word.


   %Structure not found for dev:file.ext[path]

      BOOT could not find the structure given in the error message.


   %Syntax error

      BOOT detected a syntax error in the command string the user typed.


                                    A-2
                  SYSTEM DUMPING AND RELOADING PROCEDURES                  SYSTEM DUMPING AND RELOADING PROCEDURES


   ?Trap other than page fail
   MUUO = nnnnnn,,nnnnnn
   MUUO PC = nnnnnn,,nnnnnn
   CONI APR, = nnnnnn,,nnnnnn
   RDERA = nnnnnn,,nnnnnn

      BOOT got an unexpected push down list overflow,  trap  3,  or  MUUO
      trap.   The  MUUO  and MUUO PC are given in the error message.  The
      CONI APR and RDERA (KL10 only)  are  also  included  to  assist  in
      debugging  the  problem.   This error may be the result of a bug in
      BOOT or of a hardware problem.  It may  be  possible  to  determine
      which  by  looking  at  the CONI APR and RDERA to see if any errors
      were detected by the processor.


   ?Unable to dump on any structure in the system dump list
   Do you want to keep this dump?

      The user didn't specify an explicit structure in the command string
      so  BOOT  attempted  to  dump  on each structure in the system dump
      list.  All attempts were unsuccessful.  If you answer NO, BOOT will
      not  take this dump.  If you answer YES, BOOT will prompt you for a
      new filespec.


   ?Unable to find a file on which to dump
   Do you want to keep this dump?

      The user didn't specify an explicit structure in the command string
      so  BOOT  attempted  to  dump  on  structures  starting at DSKA and
      continuing through DSKO.  All attempts were unsuccessful.   If  you
      answer  NO,  BOOT will not take this dump.  If you answer YES, BOOT
      will prompt you for a new filespec.


   %Unexpected end-of-file on dev:file.ext[path]

      While writing a dump or reading  in  a  monitor,  BOOT  detected  a
      premature  end-of-file.   For  crash  files, this usually indicates
      that the file is too small for the amount of memory on the  system.
      For   monitor   loads,  it  usually  indicates  that  the  file  is
      inconsistent.


   %Unprocessed dump on dev:file.ext[path]

      While attempting to dump on the file given in  the  error  message,
      BOOT  discovered  that the crash file had not yet been processed by
      the CRSCPY program.  If  the  user  did  not  specify  an  explicit
      structure  in  the  command  string,  BOOT  will  go on to the next
      structure in the default structure list.  If the user specified  an
      explicit  structure, BOOT will ask if the unprocessed dump is to be


                                    A-3
                  SYSTEM DUMPING AND RELOADING PROCEDURES                  SYSTEM DUMPING AND RELOADING PROCEDURES


      overwritten.



   A.2  BOOT ERROR CODES   A.2  BOOT ERROR CODES

   BOOT error codes can occur when you are loading the system or when you
   are taking a dump of the monitor.

       Error Code                      Explanation

         ?B         No comma inside a pair of brackets ([]).

         ?C         Illegal switch or no start address before a /G.

         ?D         Input error.

         ?E         Input error when trying to read the EXE directory.

         ?F         First page of the file is not an EXE directory or  it
                    is an EXE directory that is too long.

         ?G         EXE directory describes pages that  do  not  increase
                    monotonically.

         ?H         Premature end-of-file.

         ?I         Output error.

         ?J         Cannot find the file specified.

         ?K         Bad RIB.

         ?L         Premature end-of-file when reading the UFD.

         ?M         Tried to read or write block 0.

         ?N         Logical block number exceeds disk size.

         ?O         End-of-file when trying to output.



   A.3  SYSTEM DUMP LIST   A.3  SYSTEM DUMP LIST

   The system dump list (SDL) is an ordered list of  file  structures  on
   which  dumps  are written and from which monitors are loaded.  The SDL
   is built at ONCE-only time.

   The SDL allows BOOT to find the monitor in as few as  six  disk  reads
   and  to  prepare  to  dump in as few as two disk reads.  However, BOOT
   will only allow a dump to  be  written  on  CRASH.EXE[1,4].   You  can


                                    A-4
                  SYSTEM DUMPING AND RELOADING PROCEDURES                  SYSTEM DUMPING AND RELOADING PROCEDURES


   perform operations to structures that are not in the SDL, but doing so
   results in performance degradation.

   The position of a file structure in the SDL is  defined  in  a  manner
   similar to the system search list.

   Normally, BOOT reads all its commands from BOOTXT.  However, there are
   two  cases  (a  shutdown  using  the SET KSYS command to OPR, and when
   there have been several quick crashes) when you may  type  a  command.
   When  the  BOOT  prompt  (BOOT>)  prints  on  the CTY, you must type a
   command of the form:

   dev:file.EXE[path]/switches

   where switches can be:

        /LOAD     Load but do not start the monitor.

        /GO:n     Load and start the monitor at location  n  (default  is
                  .JBSA in the file being loaded).

        /DUMP     Dump the monitor  on  the  specified  file.   You  must
                  include /D to dump memory.

        /FORCE    Ignore the in-core SDL  data  base  and  do  exhaustive
                  searches  for  units and file.  This switch should only
                  be necessary if the data base has been clobbered.  BOOT
                  defaults to this mode if dev:  is not in the SDL.

   The default  for  dumping  is  DSK:CRASH.EXE[1,4].   The  default  for
   reloading is DSK:SYSTEM.EXE[1,4].  In either case, DSK:  refers to all
   structures in the SDL.  If no operator is on duty or  if  you  do  not
   respond  to  the  BOOT>  prompt  within  30  seconds, BOOT assumes its
   defaults.



   A.4  THE CRSCPY PROGRAM   A.4  THE CRSCPY PROGRAM

   When a continuable stopcode dump is  taken  or  when  the  monitor  is
   reloaded,  the  monitor automatically runs a program that copies dumps
   from device SYS:  to structures in the system dump list.  The  default
   name  of  this program is CRSCPY.  To change this default name, define
   the symbol CPYNAM to be the SIXBIT name of the program  that  runs  in
   the SIXBIT symbol definitions in the MONGEN dialog.

   CRSCPY may also be run manually to copy crashes or to perform  one  of
   its  other  functions.   To perform most functions, CRSCPY must be run
   while logged in to [1,2].  The  CRSCPY  sample  program  performs  the
   following functions:




                                    A-5
                  SYSTEM DUMPING AND RELOADING PROCEDURES                  SYSTEM DUMPING AND RELOADING PROCEDURES


         o  Automatically copies dumps taken by BOOT when invoked by  the
            monitor.

         o  Manually copies dumps, when run by the operator.

         o  Logs the copied dumps and reports them.

   CRSCPY is a sample program.  Therefore, if your  installation  already
   has   some   semi-automatic   mechanism  to  copy  dumps,  the  system
   programmers at your installation can:

         o  Use the CRSCPY concepts to  modify  your  installation's  own
            program to work with BOOT.

         o  Tailor CRSCPY to fit your installation's needs.

         o  Use CRSCPY without modification.


   The general form for a CRSCPY command is:

   COMMAND argument

   There are three types of commands:

        1.  Action

            Action commands cause something to happen immediately  rather
            than  storing a value or setting a flag for later processing.
            (See Section A.4.1.)

        2.  Status-setting

            Status-setting commands set flags or store  values  directing
            the  action of one of the Action commands.  These commands do
            not initiate actions.  (See Section A.4.2.)

        3.  Report-selection

            Report-selection commands restrict the scope  of  the  report
            generated  by the REPORT command to the subset of the crashes
            that  meet  all  criteria  and  restrictions.   (See  Section
            A.4.3.)



   A.4.1  Action Commands   A.4.1  Action Commands

   The following lists the action commands and gives a brief  explanation
   of each command.

         Command                          Explanation


                                    A-6
                  SYSTEM DUMPING AND RELOADING PROCEDURES                  SYSTEM DUMPING AND RELOADING PROCEDURES


   CLEAR filespec         Marks  the  specified  file  as   having   been
                          processed  so  that BOOT can dump to it without
                          operator intervention.   This  command  is  not
                          usually required because the COPY command marks
                          the crash file as having been  copied  when  it
                          finishes  the  copy.  However, it may be useful
                          after standalone  time  or  after  preventative
                          maintenance  to  ensure  that  no old dumps are
                          present.

   COPY filespec=filespec Copies  the  input  filespec  to   the   output
                          filespec,  makes  a log entry in SYS:CRASH.SYS,
                          and clears the unprocessed dump bit in the file
                          being  copied  so  that  BOOT  can  dump  to it
                          without operator  intervention.   If  you  type
                          only  one filespec identifier, CRSCPY uses that
                          filespec identifier as the filespec of the file
                          to copy.

   DISPOSITION seqnum     Gives a disposition for the crash with sequence
                          number  seqnum.   The disposition is a one-line
                          description of what caused  the  crash  and  is
                          given  after  the  crash is analyzed.  To print
                          the disposition, use the  REPORT  command  with
                          the DETAIL:DISPOSITION switch or command.

   PURGE FILE             Deletes  the  contents  of  SYS:CRASH.SYS,  but
                          retains  the  header so that the crash sequence
                          numbers do not  start  at  1.   Therefore,  you
                          should  use  this  command  rather  than simply
                          deleting the file.  You must type the  argument
                          FILE.

   REPORT filespec        Generates a report on the specified file of the
                          contents  of  SYS:CRASH.SYS.   You can restrict
                          the contents of this report  by  using  one  or
                          more of the Report-selection commands described
                          in Section A.4.3.



   A.4.2  Status-Setting Commands   A.4.2  Status-Setting Commands

   The following lists the status-setting  commands  and  gives  a  brief
   explanation of each command.

       Command                           Explanation

   DELETE                 Automatically deletes the crash file  when  the
                          crash  is  disposed.   NODELETE  disables  this
                          action and is the default.



                                    A-7
                  SYSTEM DUMPING AND RELOADING PROCEDURES                  SYSTEM DUMPING AND RELOADING PROCEDURES


   INFORM name            Selects the destination of all  output.   Legal
                          values  of  name are USER and OPR.  USER is the
                          default if CRSCPY is run  manually  and  causes
                          output  to  go  to the user's terminal.  OPR is
                          the default if CRSCPY is run by the system  and
                          causes output to go to device OPR:.  You should
                          not use this command in normal operation.

   STRUCTURE <str:blk,str:blk,...>,<str:blk,str:blk,...>,...

                          Selects the structure to which CRSCPY will copy
                          crashes  if no output structure is specified in
                          the COPY command or if it is run by the system.
                          str:  is the name of a structure and blk is the
                          number of  blocks  that  must  remain  on  that
                          structure  after the copy is completed.  CRSCPY
                          will not copy a crash to a structure unless  it
                          meets  this  minimum  block  restriction.   The
                          angle  brackets  group  structures  into  sets.
                          CRSCPY  scans  the  sets from left to right and
                          selects a structure from  the  first  set  that
                          meets   all  restrictions.   Within  each  set,
                          CRSCPY selects the  structure  that  meets  the
                          minimum   block   restrictions  and  that  also
                          contains the most space after the  copy.   This
                          command  usually  appears  in SWITCH.INI with a
                          line of the form:

   CRSCPY/STRUCTURE;(<str:blk,str:blk,...>,<str:blk,...>,...)

                          This line allows the  system  administrator  to
                          specify  to  which  structures  crashes  may be
                          copied if  not  explicitly  overridden  by  the
                          operator.   Note  that since CRSCPY runs logged
                          out ([2,5]) when run by the  system,  you  must
                          place  the  SWITCH.INI  file  that contains the
                          STRUCTURE command in [2,5].



   A.4.3  Report-Selection Commands   A.4.3  Report-Selection Commands

   The following lists the report-selection commands and  gives  a  brief
   explanation of each command.

       Command                             Explanation

   BEGIN date:time        Reports only on crashes that were dumped  after
                          the specified date and time.

   CBEGIN date:time       Reports only on crashes that were copied  after
                          the specified date and time.


                                    A-8
                  SYSTEM DUMPING AND RELOADING PROCEDURES                  SYSTEM DUMPING AND RELOADING PROCEDURES


   CEND date:time         Reports only on crashes that were copied before
                          the specified date and time.

   DETAIL value           Gives more detail than that given by the normal
                          report.  Legal arguments are ALL, which gives a
                          full report, and DISPOSITION, which gives  only
                          the disposition, if any.

   END date:time          Reports only on crashes that were dumped before
                          the specified date and time.

   MONVER n               Reports only on those crashes that were running
                          the specified monitor version.  The argument to
                          this command is the  version  number  from  the
                          monitor location MONVER.

   PRIMETIME              Reports only on  those  crashes  that  occurred
                          during prime time (0800 through 1700).

   SEQUENCE n             Reports only on  those  crashes  that  occurred
                          because of the specified stopcode.

   UNDISPOSED             Reports only on those crashes that have not yet
                          been disposed.


   The report-selection commands may  also  appear  as  switches  on  the
   REPORT command line, for example:

               __________________        CRSCPY>REPORT/BEGIN:TODAY

   If used in this manner,  the  value  applies  only  to  this  command.
   Subsequent  commands  will  continue  to use any defaults specified by
   report-selection  commands.   Local  switches  override  any  previous
   defaults.



















                                    A-9

























































                                    B-1












                                 APPENDIX B                                 APPENDIX B

            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   



   B.1  MICROPROCESSOR CONSOLE PROGRAM   B.1  MICROPROCESSOR CONSOLE PROGRAM

   The   DECSYSTEM-2020   consists   of   two   major   components,   the
   microprocessor  and  the  KS10 central processor.  You can control the
   KS10 by typing certain commands on the console terminal (CTY) that  is
   connected directly to the microprocessor.  The console program running
   in the microprocessor processes the commands you type on the  CTY  (or
   enter  through  a  KLINIK  link).  This console program resides in the
   microprocessor and runs automatically at power up.

   The CTY operates in either console mode or  user  mode.   Use  console
   mode   for  the  boot  procedure,  diagnostics,  error  recovery,  and
   maintenance.  You run TOPS-10 operator programs and  communicate  with
   timesharing users in user mode.  The console program starts the CTY in
   console mode at power up.

   In console mode, all characters you type on the CTY  are  directed  to
   (and  executed  by)  the  console program.  In this mode, you can type
   only  microprocessor  commands;  that  is,  commands  to  the  console
   program.  In console mode, you can switch the CTY to user mode by:

         o  Booting the system with the BT or MT command

         o  Continuing execution with the CO and ST commands

         o  Typing a CTRL/Z

   In user mode, the console program controls passing all characters that
   you  type  at  the  CTY  to  and from the KS10.  TOPS-10 processes all
   commands, except CTRL/backslash.  Therefore, in  user  mode,  you  can
   access  all  TOPS-10 features.  When you type a CTRL/backslash in user
   mode, the CTY switches back to console mode, provided  that  the  LOCK
   switch on the front panel is in the unlock position.

   The message ENABLED prints on the CTY to indicate the transition  from
   user  mode  to console mode.  The message USR MOD prints on the CTY to
   indicate the transition from console mode to user mode.  When the  CTY


                                    B-1
            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   


   is  in console mode, you can type up to 80 characters on a single line
   without causing an error (?BFO).  You can type more than  one  command
   on a single line by separating each command with a comma.  All numbers
   that you type must be octal.

                                    NOTE

           Not all of the commands described in Sections B.2  and
           B.3  should  be used by the operator.  Commands marked
           by an asterisk (*) are for use by system  programmers.
           Commands  marked  by  a number sign (#) are for use by
           DIGITAL Field Service.  The asterisk and  number  sign
           are not part of the command.



   B.2  COMMON CONSOLE COMMANDS   B.2  COMMON CONSOLE COMMANDS

   The following commands and special characters  are  a  subset  of  the
   microprocessor  commands.  Note that these commands, except BT and ST,
   are executed only in console mode.

        Command                                Function

   BT (Boot)                   Boots the system using the last disk drive
                               selected.   The  microcode and the monitor
                               bootstrap are loaded and started from unit
                               0  on  UBA1  (default address) or from the
                               drive selected with the last  DS  command.
                               The  KS10  starts  at memory address 1000.
                               The bootstrap program prompts with  BOOT>.
                               This command switches the CTY from console
                               mode to user mode.

   CO (Continue)               Continues execution.  Also,  this  command
                               switches the CTY from console mode to user
                               mode.

   DS (Disk Select)            Allows you to select a  disk  drive  other
                               than unit 0.  Use this command with the BT
                               command.

   DM xx (Deposit Memory)*     Deposits xx (36 bits)  into  KS10  memory.
                               The  address  was previously loaded by the
                               LA command.

   EM (Examine Memory)*        Examines the contents of KS10 memory.  The
                               address  was  previously  loaded by the LA
                               command.

   EM xx*                      Examines  the  contents  of  KS10   memory
                               address xx.


                                    B-2
            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   


   HA (Halt)                   Halts the KS10.

   LA xx*                      Sets KS10 memory address to xx, where xx =
                               0000000 to 1777777.

   MS (Magnetic Tape Select)   Allows you to select a magnetic tape drive
                               other  than unit 0.  Use this command with
                               the MT command.


   MT (Magnetic Tape)          Boots the system from magnetic tape  using
                               either  the last drive selected or unit 0,
                               the default.

   RP (Repeat)*                Repeats  last  command  (or  last  command
                               string) until you press any CTY key.

   SH (Shutdown)               Allows you to do an  orderly  shutdown  of
                               the  monitor after the last instruction is
                               completed.  When you  give  this  command,
                               the  microprocessor  also stops monitoring
                               the keep-alive count.

   ST xx (Start)*              Starts the KS10 program at memory  address
                               xx.  This command allows you to enter user
                               mode.

   CTRL/backslash              Switches the CTY from user mode to console
                               mode.

   CTRL/O                      Suppresses printing at the terminal.

   CTRL/Q                      Resumes printing at the terminal  after  a
                               CTRL/S has stopped it.

   CTRL/S                      Stops printing at the terminal  and  hangs
                               the microprocessor.

   CTRL/U                      Deletes the current line.

   CTRL/Z                      Switches the CTY from console mode to user
                               mode.

   DELETE Key (or RUBOUT)      Deletes the last character.



   B.3  MICROPROCESSOR COMMANDS   B.3  MICROPROCESSOR COMMANDS

   Sections  B.3.1  through  B.3.11  list  the  microprocessor   commands
   alphabetically within functional groups.  The functional groups are:



                                    B-3
            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   


         o  Boot Commands (See Section B.3.1.)

         o  Enable/Disable Commands (See Section B.3.2.)

         o  Examine Commands (See Section B.3.3.)

         o  Mark/Unmark Microcode Commands (See Section B.3.4.)

         o  Miscellaneous Commands (See Section B.3.5.)

         o  Read CRAM Commands (See Section B.3.6.)

         o  Select Device Commands (See Section B.3.7.)

         o  Set and Deposit Commands (See Section B.3.8.)

         o  Start/Stop Clock Commands (See Section B.3.9.)

         o  Start/Stop Microcode Commands (See Section B.3.10.)

         o  Start/Stop Program Commands (See Section B.3.11.)




   B.3.1  Boot Commands   B.3.1  Boot Commands

        Command                               Function

        B2 #               Loads a modified preboot program, which  loads
                           and   runs  a  special  sequence  of  modified
                           functional diagnostics.

        BC #               Performs  a  rudimentary  test  of  some  KS10
                           hardware.  The test includes:

                            o  Floating all 1's and all  0's  across  the
                               KS10 bus

                            o  Checking page 1 of the KS10 MOS memory  in
                               an addressing sequence

                            o  Checking page 1 of the KS10 MOS memory for
                               its ability to hold all 1's and all 0's

                            o  Using an addressing sequence  for  testing
                               CRAM  addressing to check the KS10 control
                               store and to check each location  for  its
                               ability to hold all 1's and all 0's

        BT                 Boots the KS10 from disk.  This command  loads
                           and  starts the microcode and the monitor boot


                                    B-4
            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   


                           program from drive  0  on  UBA1  (the  default
                           address),  or  on  the drive selected with the
                           last DS command.  The KS10  starts  at  memory
                           address 1000.

        BT 1 #             Same  as  the  BT  command,  except  that  the
                           diagnostic  boot program is loaded and started
                           rather than the monitor boot program.

        LB *               Loads the monitor boot program from  the  last
                           disk selected.  This command does not load the
                           microcode.  The program must start  at  memory
                           address 1000.

        LB 1 #             Same  as  the  LB  command,  except  that  the
                           diagnostic  boot program is loaded rather than
                           the monitor boot program.   The  program  must
                           start at memory address 1000.

        MB *               Loads the monitor boot program from  the  last
                           magnetic tape selected.  This command does not
                           load the microcode.  The program must start at
                           memory address 1000.

        MT                 Boots  the  KS10  from  magnetic  tape.   This
                           command loads and starts the microcode and the
                           monitor boot program from tape  unit  0,  from
                           slave  unit  0  on UBA3 (default), or from the
                           drive selected by the last MS command.

        MT 1               Same  as  the  MT  command,  except  that  the
                           diagnostic  boot program is loaded and started
                           rather than the monitor boot program.



   B.3.2  Enable/Disable Commands   B.3.2  Enable/Disable Commands

   If you press RETURN after the following commands,  the  current  value
   prints on your CTY.

        Command                               Function

        CE xx #            Enables (xx = 1) or disables (xx = 0) cache.

        PE xx #            Enables or disables parity detection:

                                PE 0 Disables all parity detection.
                                PE 4 Enables KS10 bus parity detection.
                                PE 5 Enables DPE/DPM parity detection.
                                PE 6 Enables CRA/CRM parity detection.
                                PE 7 Enables all parity detection.


                                    B-5
            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   


        SC xx #            Enables (xx = 1) or disables  (xx  =  0)  soft
                           CRAM error recovery.

        TE xx #            Enables (xx = 1) or  disables  (xx  =  0)  CPU
                           interval timer interrupts.

        TP xx #            Enables (xx = 1) or  disables  (xx  =  0)  CPU
                           traps.



   B.3.3  Examine Commands   B.3.3  Examine Commands

        Command                               Function

        EB #               Examines the KS10 bus.   This  command  prints
                           the  contents of console registers 100 through
                           103 and 300 through 303.

        EC #               Examines the  current  contents  of  the  CRAM
                           control  register.   The  CPU  clock  must  be
                           stopped to execute this command.

        EC xx #            Examines the contents of CRAM address xx.  The
                           CPU  clock  must  be  stopped  to execute this
                           command.

        EI #               Examines the contents  of  the  I/O  register.
                           The  address  was  previously loaded by the LI
                           command.

        EI xx #            Examines the contents of the I/O address xx.

        EJ #               Examines the current CRAM  address,  the  next
                           CRAM   address,  the  jump  address,  and  the
                           subroutine return address.  The CPU clock must
                           be stopped to execute this command.

        EK #               Examines the contents  of  the  microprocessor
                           memory.   The address was previously loaded by
                           the LK command.

        EK xx #            Examines the contents  of  the  microprocessor
                           memory address xx.

        EM *               Examine the  contents  of  KS10  memory.   The
                           address   was  previously  loaded  by  the  LA
                           command.

        EM xx *            Examines the contents of KS10  memory  address
                           xx.



                                    B-6
            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   


        EN *               Examines  the  contents  of  the  next   KS10,
                           microprocessor, or I/O address.

        ER #               Examines   the   contents   of   an   internal
                           microprocessor  I/O register.  The address was
                           previously loaded by the LR command.

        ER xx *            Examines  the   contents   of   the   internal
                           microprocessor I/O register xx.



   B.3.4  Mark/Unmark Microcode Commands   B.3.4  Mark/Unmark Microcode Commands

   To execute the following commands, the CPU clock must be stopped.

        Command                               Function

        MK xx #            Marks the microcode word (bit 95  is  set)  at
                           CRAM address xx.

        UM xx #            Unmarks microcode word (bit 95 is cleared)  at
                           CRAM address xx.



   B.3.5  Miscellaneous Commands   B.3.5  Miscellaneous Commands

             Command                          Function

        EX xx *            Executes   the   single   KS10   systems-level
                           instruction xx.

        KL xx (KLINIK)     Enables the KLINIK remote diagnosis link  when
                           used  with  the  REMOTE  DIAGNOSIS key switch.
                           See Chapter 11  for  detailed  information  on
                           this command.

        LT (Lamp test)     Turns the STATE, FAULT, and REMOTE  lights  on
                           for  1  to  2 seconds, and then turns them off
                           for 1 to 2 seconds.  The lights then return to
                           their original state.

        MR (Master reset)  Resets the KS10 processor.

        PW xx              Sets the KLINIK access password to  xx,  where
                           xx = maximum of 6 alphanumeric characters.  To
                           clear the password storage area, type  PW  and
                           then press RETURN.

        RP                 Repeats last command (or last command  string)
                           until you press any CTY key.


                                    B-7
            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   


        ZM                 Zeroes memory in 1 to 6 minutes.  This command
                           deposits 0s into all KS10 memory locations.



   B.3.6  Read CRAM Commands   B.3.6  Read CRAM Commands

        Command                               Function

        RC #               Performs diagnostic read functions from  0  to
                           17 to read the CRAM addresses and the contents
                           of the current address as follows:

                           RC 0 CRAM bits 00 to 11
                           RC 1 Next CRAM address
                           RC 2 CRAM subroutine return address
                           RC 3 Current CRAM address
                           RC 4 CRAM bits 12 to 23
                           RC 5 CRAM bits 24 to 35 (Copy A)
                           RC 6 CRAM bits 24 to 35 (Copy B)
                           RC 7 Zero
                           RC 10 Parity bits A to F
                           RC 11 KS10 bus bits 24 to 35
                           RC 12 CRAM bits 36 to 47 (Copy A)
                           RC 13 CRAM bits 36 to 47 (Copy B)
                           RC 14 CRAM bits 48 to 59
                           RC 15 CRAM bits 60 to 71
                           RC 16 CRAM bits 72 to 83
                           RC 17 CRAM bits 84 to 95



   B.3.7  Select Device Commands   B.3.7  Select Device Commands

        Command                               Function

        DS                 Selects the disk for bootstrap.   The  console
                           program  asks  the  following  questions.  The
                           default answers are underlined.

                           >>UBA?1           UBA number?
                           >>RHBASE?776700   RH11 base address?
                           >>UNIT?0          Disk drive unit number?

                           The default value of the RH11 base address  is
                           currently  the only value permitted.  Also, if
                           you press RETURN to respond to  any  question,
                           the current value is retained.

        MS                 Selects the magnetic tape for bootstrap.   The
                           console  program asks the following questions.
                           The default answers are underlined.


                                    B-8
            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   


                           >>UBA?3           UBA number?
                           >>RHBASE?772440   RH11 base address?
                           >>TCU?0           Tape controller unit number?
                           >>DENS?1600       Tape density?
                           >>SLV?0           Slave number?

                           The default value for the RH11 base address is
                           currently  the only value permitted.  Also, if
                           you press RETURN to respond to  any  question,
                           the current value is retained.



   B.3.8  Set and Deposit Commands   B.3.8  Set and Deposit Commands

        Command                               Function

        DB xx #            Deposits xx (36 bits) onto the KS10 bus.

        DC xx #            Deposits xx (96 bits) into CRAM.  The  address
                           was  previously loaded by the LC command.  The
                           CPU clock must  be  stopped  to  execute  this
                           command.

        DI xx #            Deposits xx (16, 18, or 36 bits) into  an  I/O
                           register.   The  address was previously loaded
                           by the LI command.

        DK xx #            Deposits xx (8 bits) into  the  microprocessor
                           memory.   The address was previously loaded by
                           the LK command.   Note  that  data  cannot  be
                           deposited  in  PROM  addresses;  only  in  RAM
                           addresses.

        DM xx *            Deposits xx (36 bits) into KS10  memory.   The
                           address   was  previously  loaded  by  the  LA
                           command.

        DN xx *            Deposits    xx    into    the    next    KS10,
                           microprocessor, or I/O address.

        DR xx #            Deposits   xx   (8   bits)    into    internal
                           microprocessor  registers.   The  address  was
                           previously loaded by the LR command.

        LA xx *            Sets KS10 memory address to xx,  where  xx  is
                           0000000 to 1777777.

        LC xx #            Sets CRAM address to xx, where xx  =  0000  to
                           3777.

        LF xx #            Loads diagnostic Write Function xx, where xx =


                                    B-9
            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   


                           0 to 7.  The function specifies a 12-bit group
                           within a CRAM address.

                           LF    CRAM Bits

                           0     00 to 11
                           1     12 to 23
                           2     24 to 35
                           3     36 to 47
                           4     48 to 59
                           5     60 to 71
                           6     72 to 83
                           7     84 to 95

        LI xx #            Loads I/O address (a  single  22-bit  number).
                           The address is a control number and a register
                           address.  I/O addresses  that  are  accessible
                           from   the  console  are  listed  below.   The
                           address of the console instruction register is
                           not  included  in  this  list.  If the console
                           tries to access its own instruction  register,
                           there is no response.

                           CTL     Address             Register

                            0      100000      Memory status register
                           1,3     763000-77   UBA paging RAM
                           1,3     763100      UBA status register
                           1,3     763101      UBA maintenance register
                           1,3     7xxxxx      UNIBUS device registers

        LK xx #            Sets microprocessor memory address to xx (PROM
                           address  = 00000 to 17777; RAM address = 20000
                           to 21777).

        LR xx #            Sets  internal  microprocessor  I/O   register
                           address to xx.



   B.3.9  Start/Stop Clock Commands   B.3.9  Start/Stop Clock Commands

        Command                               Function

        CH #               Halts the CPU clock.

        CP #               Pulses the CPU clock.  The CPU clock  must  be
                           stopped to execute this command.

        CP xx #            Pulses the CPU  clock  xx  times  (up  to  376
                           octal).   The  CPU  clock  must  be stopped to
                           execute this command.


                                    B-10
            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   


        CS #               Starts the CPU clock.



   B.3.10  Start/Stop Microcode Commands   B.3.10  Start/Stop Microcode Commands

   To execute the following commands, the CPU clock must be stopped.


        Command                               Function

        PM #               Pulses the microcode.  This command performs a
                           CP   command  to  execute  a  microinstruction
                           followed by an EJ command to print the current
                           CRAM  address, the next CRAM address, the jump
                           address, and the subroutine return address.

        SM                 Resets  and  starts  the  microcode  at   CRAM
                           address 0 (the normal starting address).

        SM xx #            Resets  and  starts  the  microcode  at   CRAM
                           address  xx.   SM  1 causes a dump of the KS10
                           processor status into  the  halt-status  block
                           which  is  commonly located at location 424 or
                           location 371000.

        TR #               Repeats the PM command until you press any CTY
                           key.

        TR xx #            Repeats the PM command until it  reaches  CRAM
                           address xx or until you press any CTY key.



   B.3.11  Start/Stop Program Commands   B.3.11  Start/Stop Program Commands

        Command                               Function

        CO                 Continues  KS10   program   execution.    This
                           command  switches the CTY from console mode to
                           user mode.

        HA                 Halts the KS10 program.   The  KS10  microcode
                           enters a halt loop.

        SH                 Shuts down the monitor by  depositing  nonzero
                           data into KS10 memory location 30.

        SI *               Executes the next KS10 instruction.

        ST xx *            Starts the KS10 program at address  xx.   This
                           command  switches the CTY from console mode to


                                    B-11
            KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS               KS10 MICROPROCESSOR CONSOLE PROGRAM AND COMMANDS   


                           user mode.





















































                                    B-12












                                 APPENDIX C                                 APPENDIX C

                                   PARSER                                   PARSER



   The command language processor for the front-end operating  system  is
   called  the  PARSER.   It is a nonresident system task and executes in
   the GEN partition when it is invoked.  The PARSER is the primary means
   of  communications between you (the system operator) and the front-end
   programs.  It also provides access to the KL10's memory and diagnostic
   registers.

   PARSER input is in the form of ASCII character strings  typed  at  the
   console terminal (CTY).

   For  updated  information  on  the  PARSER  commands,  refer  to   the
   _______________ _______ ______ _________ ______   TOPS-10/TOPS-20 RSX-20F System Reference Manual.



   C.1  ENTERING AND EXITING THE PARSER   C.1  ENTERING AND EXITING THE PARSER

   If you are currently communicating  with  the  TOPS-10  monitor  or  a
   TOPS-10 job, type a CTRL/backslash to invoke the PARSER.

   If you are  currently  communicating  with  another  RSX-20F  task  or
   utility, such as KLINIT or PIP, type a CTRL/Z to exit from the current
   task and then type CTRL/backslash to invoke the PARSER.

   When you enter the PARSER, one of the following prompts prints on  the
   CTY:

   PAR>   indicates that the PARSER is ready to accept commands and  that
          the KL10 is running.

   PAR%   indicates that the PARSER is ready to accept commands, but that
          the KL10 microcode is in the HALT loop.

   PAR#   indicates that the PARSER is ready to accept commands, but  the
          KL clock is stopped and the KL10 is not running.




                                    C-1
                                   PARSER                                   PARSER


                                    NOTE

           If  you  ever  see  the  PAR#  prompt   print   during
           timesharing, reload the system.

   If the PARSER encounters an error during its initialization, an  error
   message precedes the prompt.

   To exit from the PARSER, type QUIT or CTRL/Z to return to the  RSX-20F
   monitor,  or  type  the  PARSER  command MCR to load and start another
   program.



   C.2  PARSER COMMAND SYNTAX   C.2  PARSER COMMAND SYNTAX

   Type commands to the PARSER, one or more to a line, to  respond  to  a
   PAR>, PAR%, or PAR# prompt.  The following rules apply when you type a
   command to PARSER:

        1.  To type more than one command in  a  command  line,  separate
            each command with a semicolon.  For example:

                _______ __________ ________________            PAR>EXAMINE PC;EXAMINE 20;SHUTDOWN<RET>

        2.  To continue a command or command line on the next  line,  end
            the  line to be continued with a hyphen (-) and press RETURN.
            The PARSER will then prompt you for the continuation line  by
            printing another hyphen.  For example:

                _______ __________ _________            PAR>EXAMINE PC;EXAMINE 20;-<RET>
            ________ _________            -EXAMINE NEXT<RET>

            The maximum number of characters in a command line is 280.

        3.  To add a comment to the end of  a  command  line  or  have  a
            comment  be  an  entry in itself, type !  at the beginning of
            the comment and press RETURN at the end.  For example:

                _____ _____________ __ ________ _________            PAR>CLEAR CONSOLE!RESET TO OPERATOR MODE<RET>
                _____ __ _ _______ _________            PAR>!THIS IS A COMMENT LINE<RET>

        4.  To suppress output on your terminal, type CTRL/O.

        5.  To abbreviate a command, type only enough of the  command  to
            make it unique.  For example:

                ______ ___ ____ ________            PAR>H!HALT THE KL10 CPU<RET>

            If the abbreviation is not unique, an error message prints on
            the CTY.  For example:



                                    C-2
                                   PARSER                                   PARSER


                __ ______            PAR>RE 5<RET>
            PAR -- [PARSER] AMB - AMBIGUOUS KEYWORD "RE"

            In this example, the PARSER found  two  commands  that  start
            with "RE":  REPEAT and RESET.

        6.  Integers in a command are, by default, octal if an address or
            36-bit  value  is  expected; otherwise, they are, by default,
            decimal.

        7.  An underscore (_) between two numbers  causes  the  left-hand
            number to be binary shifted to the left by the number of bits
            indicated in the right-hand number.  For example:

                _______ _ ______            PAR>EXAMINE 2_3<RET>

            results in:

            20/ xxxxxx xxxxxx

            (Rule 6 applies to both  the  left-hand  and  the  right-hand
            numbers.)

        8.  To specify a negative number, type - before the number.   For
            example,  to  specify that you want to deposit -1 in location
            30, type:

                _______ ___ __________            PAR>DEPOSIT TEN 30:-1<RET>

        9.  To  specify  numeric  values,   type   them   as   arithmetic
            expressions    using    addition    (+),   subtraction   (-),
            multiplication (*), and division (/).  For example:

                _______ ______________            PAR>EXAMINE 123656+33<RET>
            123707/ xxxxxx xxxxxx

                _____ ___ __________            PAR>START TEN 407-6<RET>

                ___ _________ ________            PAR>SET INCREMENT 2*3<RET>
            KL INCREMENT: 6

                ______ ___________ _______            PAR>REPEAT 8/4;EXAMINE PC<RET>
            PC/ xxxxxx xxxxxx             
            PC/ xxxxxx xxxxxx             

            In  evaluating  arithmetical   expressions,   multiplication,
            division, and binary shifts take precedence over addition and
            subtraction.

       10.  To add the PDP-11 relocation factor  (offset)  to  a  number,
            type  '  after  the  number.   To  subtract the offset from a
            number, type " after the number.  For example:


                                    C-3
                                   PARSER                                   PARSER


                ___ ______ ___________            PAR>SET OFFSET 101204<RET>
            PDP-11 OFFSET: 101204
                _______ ______ ________            PAR>EXAMINE ELEVEN 33'<RET>
            101237
                _______ ______ ____________            PAR>EXAMINE ELEVEN 101237"<RET>
            33/ xxxxxx                        

            You may use the PDP-11 offset to modify KL10 memory addresses
            as well as to modify PDP-11 memory addresses.

   When you press RETURN to end  a  command  line,the  PARSER  scans  the
   command  line  buffer for illegal characters.  If it finds any illegal
   characters, the PARSER discards the entire command line and prints the
   following message on the CTY:

   PAR -- [PARSER] ILC - ILLEGAL CHARACTER "c"

   where c is the first illegal character found.

   If there are no illegal characters in the  command  line,  the  PARSER
   executes the commands one by one.  If the PARSER encounters an invalid
   command, that command and any other that remain in  the  command  line
   are  not  executed.   Each  invalid  command also causes the PARSER to
   print an error message.  (See Section 11.6 for a complete list of  the
   PARSER error messages.)



   C.3  PARSER CONSOLE MODES   C.3  PARSER CONSOLE MODES

   The PARSER command set is available in the following console modes:

   OPERATOR Mode       This mode allows you to give only  those  commands
                       that   will  not  crash  the  TOPS-10  or  TOPS-20
                       monitor.

   PROGRAMMER Mode     This mode allows you to give all  PARSER  commands
                       except those that direct diagnostic functions.

   MAINTENANCE Mode    This mode allows you to give any PARSER command.

   USER Mode           This mode causes you  to  exit  from  the  PARSER.
                       When you enter USER mode, it is the same as giving
                       a QUIT command.

   When RSX-20F is loaded for the first time, the console mode in  effect
   is  the  same  one  that was in effect when the PARSER was last saved.
   There is a SET CONSOLE command that you can give to change  the  mode,
   there  is  a CLEAR CONSOLE command that you can give to reset the mode
   to OPERATOR mode, and there is a WHAT CONSOLE  command  that  you  can
   give  to  find  out  what  current mode is.  (See Section C.4 for more
   information on these commands.)


                                    C-4
                                   PARSER                                   PARSER


   C.4  PARSER HELP FACILITY   C.4  PARSER HELP FACILITY

   The PARSER  help  facility  prints  the  list  of  commands  that  are
   available for the current console mode.

                                                              ___________   To use the PARSER help facility, type everything that  is  underscored
   in the following dialog:

       ______   PAR>?<RET>
   PARSER COMMANDS ARE:

   If you are in OPERATOR mode, the PARSER prints:

        ABORT
        CLEAR
        DISCONNECT
        EXAMINE
        JUMP
        MCR
        REPEAT
        RUN
        SET
        SHUTDOWN
        QUIT
        WHAT

   If you are in PROGRAMMER mode, the PARSER prints:

        ABORT
        CLEAR
        CONTINUE
        DISCONNECT
        EXAMINE
        HALT
        INITIALIZE
        JUMP
        MCR
        REPEAT
        RESET
        RUN
        SET
        SHUTDOWN
        START
        QUIT
        WHAT
        XCT
        ZERO

   The PARSER help facility  extends  to  the  argument  and  subargument
   levels.   This  means  that if you cannot remember the arguments for a
   particular command or you can remember the arguments  but  you  cannot
   remember  whether  the particular command can take another argument (a


                                    C-5
                                   PARSER                                   PARSER


   subargument), type whatever you know, type a space, and type  ?.   The
   PARSER  will  then  print  all  of  the choices available to you.  For
   example, if you type:

       ___ _______ ______   PAR>SET CONSOLE ?<RET>

   The PARSER will print the following list of possible  subarguments  to
   the SET command:

   SET COMMANDS ARE:

   MAINTENANCE OPERATOR PROGRAMMER USER



   C.5  PARSER COMMANDS   C.5  PARSER COMMANDS

   This section lists all of  the  PARSER  commands,  except  those  that
   require  MAINTENANCE mode.  The commands that require MAINTENANCE mode
   are restricted  to  DIGITAL  Field  Service  personnel.   Some  PARSER
   commands  require  that  the  KL10 be stopped.  To stop the KL10, type
   HALT or ABORT to reply to the PARSER prompt.

   The commands listed in  this  section  use  the  following  notational
   conventions:

        1.  Any single argument  not  in  brackets  ([  and  ])  must  be
            specified.

        2.  Uppercase arguments are keywords and must be entered as shown
            or abbreviated according to the rules listed in Section C.2.

        3.  A multiple-choice list enclosed in braces  ({  and  })  means
            that one of the entries must be specified.

   ABORT

   OPERATOR Mode

        The ABORT command stops the KL10 by trying to force it  into  the
        HALT loop.  If this fails after a reasonable number of EBOX clock
        ticks, the command tries to  START  MICROCODE,  which  implies  a
        master  reset  of  the  KL10 processor.  This is a way to put the
        KL10 into a known state when a previous state left it in  a  hung
        condition.



   CLEAR CONSOLE

   OPERATOR Mode



                                    C-6
                                   PARSER                                   PARSER


        The CLEAR CONSOLE command forces the PARSER into  OPERATOR  mode.
        This command is the equivalent of SET CONSOLE OPERATOR.



   CLEAR DATE

   PROGRAMMER Mode

        The CLEAR DATE command clear the validity bit and prompts you for
        a  new date and time (see the SET DATE command).  This command is
        not valid if RSX-20F is in primary protocol.



   CLEAR INCREMENT

   OPERATOR Mode

        The CLEAR INCREMENT command resets the KL10 increment  factor  to
        zero.  (See the EXAMINE INCREMENT command.)



   CLEAR KLINIK

   OPERATOR Mode

        The CLEAR KLINIK command closes  the  KLINIK  access  window  and
        terminates the KLINIK link.



   CLEAR MEMORY

   OPERATOR Mode

        The CLEAR MEMORY  command  forces  all  subsequent  EXAMINEs  and
        DEPOSITs   to   reference  KL10  memory.   This  command  is  the
        equivalent of the SET MEMORY TEN command.



   CLEAR NOT

   OPERATOR Mode

        The CLEAR NOT command is the equivalent of the SET command.



   CLEAR OFFSET


                                    C-7
                                   PARSER                                   PARSER


   PROGRAMMER Mode

        The CLEAR OFFSET command sets  the  relocation  factor  to  zero.
        (See Rule 10 in Section C.2.)



   CLEAR RELOAD

   PROGRAMMER Mode

        The CLEAR RELOAD command disables the  automatic  reload  of  the
        KL10 following a fatal error.



   CLEAR REPEAT

   OPERATOR Mode

        The CLEAR REPEAT command resets the command line repeat factor to
        zero.   A repeat factor of zero is the same as a repeat factor of
        one; subsequent command lines are executed once.



   CLEAR RETRY

   PROGRAMMER Mode

        The CLEAR RETRY command resets the  RETRY  flag  in  the  PARSER.
        When  this flag is off, a Keep-Alive-Cease error causes the KLERR
        routine to take a system snapshot and then call KLINIT to perform
        a system reload of the KL10.  (See the SET RETRY command.)



   CLEAR TRACKS

   PROGRAMMER Mode

        The CLEAR TRACKS command  stops  RSX-20F  from  typing  all  KL10
        operations and results on the controlling terminal.



   CONTINUE

   PROGRAMMER Mode

        The CONTINUE command takes the KL10 out  of  the  HALT  loop  and
        starts execution at the instruction pointed to by the PC.


                                    C-8
                                   PARSER                                   PARSER


   DEPOSIT AR:newdata

   PROGRAMMER Mode

        The DEPOSIT AR  command  sets  the  contents  of  the  arithmetic
        register to newdata.



   DEPOSIT    ELEVEN   addr        :newdata
              TEN      DECREMENT
                       INCREMENT
                       NEXT
                       PREVIOUS
                       THIS

        The DEPOSIT memory address command displays the contents  of  the
        specified  or  implied  memory  address  and  then  replaces  the
        contents with newdata.

        addr         is the actual  memory  address  in  octal  notation.
                     When referencing PDP-11 memory, this must be an even
                     number.

        DECREMENT    means subtract the KL10 increment  factor  from  the
                     address  last  referenced,  to arrive at the deposit
                     address.  If PDP-11 memory is being referenced, this
                     command is the equivalent of DEPOSIT PREVIOUS.

        INCREMENT    means add the KL10 increment factor to  the  address
                     last  referenced,  to arrive at the deposit address.
                     If PDP-11 memory is being referenced,  this  command
                     is the equivalent of DEPOSIT NEXT.

        NEXT         means add one (for a KL10) or two (for a PDP-11)  to
                     the address last referenced to arrive at the deposit
                     address.

        PREVIOUS     means subtract one  (for  a  KL10)  or  two  (for  a
                     PDP-11)  from  the address last referenced to arrive
                     at the deposit address.

        THIS         means use the address last referenced as the deposit
                     address.



   DISCONNECT

   OPERATOR Mode

        The DISCONNECT command disconnects the KLINIK link by running the


                                    C-9
                                   PARSER                                   PARSER


        KLDISC task.  This command does not clear any KLINIK parameters.



   EXAMINE PC

   OPERATOR Mode

        The EXAMINE PC command prints the contents of  the  KL10  program
        counter (PC) in octal on the CTY.



   EXAMINE KL

   OPERATOR Mode

        The EXAMINE KL command performs  the  EXAMINE  PC,  EXAMINE  VMA,
        EXAMINE PI, and the EXAMINE FLAGS commands, in that order.



   EXAMINE    ELEVEN   addr
              TEN      DECREMENT
                       INCREMENT
                       NEXT
                       PREVIOUS
                       THIS

   OPERATOR Mode

        The EXAMINE memory address command displays the contents  of  the
        specified or implied memory address in octal, on the CTY.

        ELEVEN       specifies that the command is referencing an address
                     in the PDP-11 memory.

        TEN          specifies that the command is referencing an address
                     in the KL10 memory.

        If neither  ELEVEN  nor  TEN  is  specified,  the  memory  to  be
        referenced  is  determined by the most recent SET MEMORY command.
        If no  SET  MEMORY  command  has  been  issued,  KL10  memory  is
        referenced.

        There are  six  arguments  that  determine  the  specific  memory
        address to be examined; one of them must be entered.

        addr         is the actual  memory  address  in  octal  notation.
                     When referencing PDP-11 memory, this must be an even
                     number.



                                    C-10
                                   PARSER                                   PARSER


        DECREMENT    means subtract the KL10 increment  factor  from  the
                     address  last  referenced,  to arrive at the examine
                     address.  If PDP-11 memory is being referenced, this
                     command is the equivalent of EXAMINE PREVIOUS.

        INCREMENT    means add the KL10 increment factor to  the  address
                     last  referenced,  to arrive at the examine address.
                     If PDP-11 memory is being referenced,  this  command
                     is the equivalent of EXAMINE NEXT.

        NEXT         means add one (for a KL10) or two (for a PDP-11)  to
                     the address last referenced to arrive at the examine
                     address.

        PREVIOUS     means subtract one  (for  a  KL10)  or  two  (for  a
                     PDP-11)  from  the address last referenced to arrive
                     at the examine address.

        THIS         means use the address last referenced as the examine
                     address.



   EXAMINE AB

   PROGRAMMER Mode

        The EXAMINE AB command displays the contents of the address break
        register.



   EXAMINE AD

   PROGRAMMER Mode

        The EXAMINE AD command displays the contents  of  the  arithmetic
        addr.



   EXAMINE ADX

   PROGRAMMER Mode

        The EXAMINE ADX command displays the contents of  the  arithmetic
        adder extension.



   EXAMINE AR



                                    C-11
                                   PARSER                                   PARSER


   PROGRAMMER Mode

        The EXAMINE AR command displays the contents  of  the  arithmetic
        register.



   EXAMINE ARX

   PROGRAMMER Mode

        The EXAMINE ARX command displays the contents of  the  arithmetic
        register extension.



   EXAMINE BR

   PROGRAMMER Mode

        The EXAMINE BR  command  displays  the  contents  of  the  buffer
        register.



   EXAMINE BRX

   PROGRAMMER Mode

        The EXAMINE BRX command  displays  the  contents  of  the  buffer
        register extension.



   EXAMINE CRADDR

   PROGRAMMER Mode

        The EXAMINE CRADDR command displays  the  contents  of  the  CRAM
        address register.



   EXAMINE CRLOC

   PROGRAMMER Mode

        The EXAMINE CRLOC command  displays  the  contents  of  the  CRAM
        location register.





                                    C-12
                                   PARSER                                   PARSER


   EXAMINE DRADDR

   PROGRAMMER Mode

        The EXAMINE DRADDR command displays  the  contents  of  the  DRAM
        address register.



   EXAMINE DTE-20

   PROGRAMMER Mode

        The EXAMINE DTE-20 command displays the  contents  of  the  three
        diagnostic registers and the status register for the console DTE.



   EXAMINE EBUS

   PROGRAMMER Mode

        The EXAMINE EBUS  command  displays  the  contents  of  the  EBUS
        register.



   EXAMINE FE

   PROGRAMMER Mode

        The EXAMINE FE command displays  the  contents  of  the  floating
        exponent register.



   EXAMINE FLAGS

   PROGRAMMER Mode

        The EXAMINE FLAGS command displays the current state of the  flag
        bits  (0  through 12) in the left half of the PC:  OVF, CY0, CY1,
        FOV, DIS, USR, UIO, LIP AFI, AT1, AT0, FUF, and NDV.



   EXAMINE FM

   PROGRAMMER Mode

        The EXAMINE FM command displays the contents of the  fast  memory
        register.


                                    C-13
                                   PARSER                                   PARSER


   EXAMINE MQ

   PROGRAMMER Mode

        The EXAMINE MQ command displays the contents  of  the  multiplier
        quotient register.



   EXAMINE PI

   PROGRAMMER Mode

        The EXAMINE PI command displays the current state of the priority
        interrupt system.



   EXAMINE REGISTERS

   PROGRAMMER Mode

        The EXAMINE  REGISTERS  command  displays  the  contents  of  the
        following  registers:   AD,  ADX, AR, ARX, BR, BRX, EBUS, FM, MQ,
        and PC.



   EXAMINE SBR

   PROGRAMMER Mode

        The EXAMINE SBR command displays the contents of  the  subroutine
        return register.



   EXAMINE SC

   PROGRAMMER Mode

        The EXAMINE SC command displays the contents of the  shift  count
        register.



   EXAMINE VMA

   PROGRAMMER Mode

        The EXAMINE VMA command displays  the  contents  of  the  virtual
        memory address register.


                                    C-14
                                   PARSER                                   PARSER


   EXAMINE VMAH

   PROGRAMMER Mode

        The EXAMINE VMAH command displays the  contents  of  the  virtual
        memory address half register.



   HALT

   PROGRAMMER Mode

        The HALT command tries to put the KL10  inot  the  HALT  loop  by
        clearing the RUN flop (FXCT 10) and waiting.  If the KL10 refuses
        to go into the HALT loop, the front end tries to force it  in  by
        using  BURST mode.  If the attempt is unsuccessful, the following
        error message is issued:

        PAR -- [HALT] CFH - CAN'T FIND KL HALT LOOP



   INITIALIZE

   PROGRAMMER Mode

        The INITIALIZE command sets up the  KL10  state  flag  word  with
        default values and restarts the KL10 based on those values.



   JUMP addr

   OPERATOR Mode

        The JUMP command starts the KL10 at  the  specified  address  and
        exits  from  the  PARSER.  At this point, the CTY is connected to
        the TOPS-10 operating system.   The  argument  addr  must  be  an
        octal,   positive,  nonzero  address  with  a  maximum  value  of
        17777777.



   MCR taskname

   OPERATOR Mode

        The MCR command loads and starts the specified task file.





                                    C-15
                                   PARSER                                   PARSER


   QUIT

   OPERATOR Mode

        The QUIT command causes the PARSER to be exited.  At this  point,
        the  CTY  is  connected  to  the  TOPS-10 operating system.  This
        command is equivalent to SET CONSOLE USER or CTRL/Z.



   REPEAT nnn;[[command1;command2;...]]

   OPERATOR Mode

        The REPEAT command causes the subsequent commands in the  current
        command line to be repeated the number of times specified by nnn.
        The argument nnn must be a positive, decimal, nonzero integer.

        The command line can contain as many commands as can  fit  within
        the 280-character buffer limitation.  You can nest REPEATs within
        the command line.  Also, if a SET REPEAT command  is  in  effect,
        the  two  repeat  factors  are multiplied to arrive at the actual
        number of times commands are repeated.

        For example, the command:

        REPEAT 10;EXAMINE PC

        will examine the PC 10 times.

        The command:

        REPEAT 3;EXAMINE PC;REPEAT 2;EXAMINE NEXT

        will execute the following sequence:

        EXAMINE PC
        EXAMINE NEXT
        EXAMINE NEXT
        EXAMINE PC
        EXAMINE PC
        EXAMINE NEXT
        EXAMINE NEXT
        EXAMINE PC
        EXAMINE NEXT
        EXAMINE NEXT

        If SET REPEAT 4 had been previously entered, the  above  sequence
        would be repeated four times.

        If no commands are specified,  the  effect  is  that  of  a  null
        command.


                                    C-16
                                   PARSER                                   PARSER


   RESET

   PROGRAMMER Mode

        The RESET command performs a master reset of the KL10 and retains
        the  clock  and  parity-stop flags that existed before the reset.
        This command is not allowed while the KL10 is running.



   RESET ALL

   PROGRAMMER Mode

        The RESET ALL command executes the RESET APR, RESET DTE-20, RESET
        PAG,  and  RESET  PI commands.  This command is not allowed while
        the KL10 is running.



   RESET APR

   PROGRAMMER Mode

        The RESET APR command executes a CONO APR,,267760 instruction  to
        clear  the  arithmetic  processor.   This  command is not allowed
        while the KL10 is running.



   RESET DTE-20

   PROGRAMMER Mode

        The RESET DTE-20 command resets the DTE-20 by depositing a  1  in
        bit  6  of the BTE diagnostic word 2.  Bit 0 in diagnostic word 3
        is set to 1 to indicate word-mode transfers.



   RESET ERROR

   PROGRAMMER Mode

        The RESET ERROR command executes a CONO APR,,27760 instruction to
        reset the error flags.



   RESET INITIALIZE

   PROGRAMMER Mode


                                    C-17
                                   PARSER                                   PARSER


        The RESET INITIALIZE command performs a master reset of the  KL10
        and  sets  up normal clock and parity-stop enables.  This command
        is not allowed while the KL10 is running.



   RESET IO

   PROGRAMMER Mode

        The RESET IO command executes a CONO APR,,200000  instruction  to
        perform an I/O reset of the KL10.



   RESET PAG

   PROGRAMMER Mode

        The  RESET  PAG  command  executes  a  CONCO  PAG,,0  instruction
        followed by a DATAO PAG,,100 instruction to reset the KL10 PAGing
        box.  This command requires that the KL10 clock be running.



   RESET PI

   PROGRAMMER Mode

        The RESET PI command executes a  CONO  PI,,10000  instruction  to
        reset the KL10 programmable interrupt system.



   RUN taskname

   OPERATOR Mode

        The RUN command loads and starts the specified task  file.   This
        command is an alias for the MCR command.



   SET CONSOLE    OPERATOR
                  PROGRAMMER
                  USER

   OPERATOR Mode

        The SET CONSOLE command sets the console mode of  operation  and,
        therefore, the allowable subset of PARSER commands:



                                    C-18
                                   PARSER                                   PARSER


        OPERATOR     allows only those PARSER commands that cannot  crash
                     the TOPS-10 or TOPS-20 monitor.

        PROGRAMMER   allows  all  PARSER   commands   except   diagnostic
                     functions.

        USER         exits from the PARSER.

        If no subargument is entered, the console is  set  to  PROGRAMMER
        MODE.

                                    NOTE

           If KLINIK is enabled and active, the PARSER  does  not
           let  you  set  the  console  mode any higher than that
           specified when the KLINIK window was defined.

   SET DATE

   PROGRAMMER Mode

        The SET DATE command sets RSX-20F's internal date.  This date  is
        used  in  setting  up  and accessing KLINIK.  This command is not
        available if RSX-20F thinks that it  already  has  a  valid  date
        (validity  flag is ON).  In response to the SET DATE command, the
        PARSER prompts you as follows:

            ___ _________        PAR>SET DATE<RET>
               __ ___ _______        DATE:  dd mmm yy<RET>
               _________        TIME:  1211<RET>
        CURRENT SYSTEM DATE:
                               _____        MONDAY, dd-mmm-yy hh:mm<RET>
                          _______         VALIDITY FLAG IS:ON<RET>
        PAR>



   SET INCREMENT n

   OPERATOR Mode

        The SET INCREMENT command sets the KL10 increment counter to  the
        value  specified  by the octal integer, n.  The increment counter
        is used by the INCREMENT and DECREMENT arguments of  the  EXAMINE
        and DEPOSIT commands.  Only KL10 memory addresses are modified by
        the increment counter.  PDP-11 addresses that are INCREMENTed  or
        DECREMENTed default to NEXT and PREVIOUS, respectively.



   SET KLINIK



                                    C-19
                                   PARSER                                   PARSER


   OPERATOR Mode

        The SET KLINIK command enables access to the  KLINIK  link.   The
        command  initiates  a  dialog in which a KLINIK access window and
        security parameters are established.



   SET MEMORY    ELEVEN
                 TEN

   OPERATOR Mode

        The  SET  MEMORY  command  establishes  the  default  memory  for
        EXAMINEs and DEPOSITs.

        ELEVEN       means default to the PDP-11 memory.

        TEN          means default to the KL10 memory.

        The command itself has no default; an argument must  be  entered.
        When RSX-20F is first loaded, the default memory is TEN.



   SET NOT argument

   OPERATOR Mode

        The SET NOT command is the equivalent of the  CLEAR  command  and
        requires an argument.  (See the CLEAR commands.)



   SET OFFSET nnnnnn

   PROGRAMMER Mode

        The SET OFFSET command sets the PDP-11 relocation factor  to  the
        value  specified  by  nnnnnn,  an octal number in the range 77777
        (+32,767) through 100000 (-23,768).  The relocation  factor  when
        RSX-20F  is  first  loaded  is  the  address  of  the PARSER root
        overlay.



   SET RELOAD

   PROGRAMMER Mode

        The SET RELOAD command enables the automatic reload of  the  KL10
        by  the  PDP-11 front end in situations such as Keep-Alive-Failed


                                    C-20
                                   PARSER                                   PARSER


        or CPU errors.



   SET REPEAT n

   OPERATOR Mode

        The SET REPEAT command sets the command line repeat factor to  n.
        The value n must be specified as a positive decimal number.  Each
        subsequent command line is repeated n times.



   SET RETRY

   PROGRAMMER Mode

        The SET RETRY command sets the RETRY flag in  the  PARSER.   When
        this  flag  is  set,  the first occurrence of a Keep-Alive-Failed
        error results in the execution of the instruction in location 71.
        This  instruction  usually  branches to a routine that causes the
        KL10 monitor to dump memory and request a reload (stopcode).   If
        the  KL10 cannot accomplish this before the end of the Keep-Alive
        period  (5  seconds),  RSX-20F   assumes   that   the   KL10   is
        incapacitated.   In  this  case,  KLERR  is called to take a KL10
        hardware snapshot and then reload the KL10.

        If the RETRY flag is reset (see CLEAR RETRY), every occurrence of
        a  Keep-Alive-Failed  error results in a KLERR snapshot/reload of
        the KL10.



   SET TRACKS

   PROGRAMMER Mode

        The SET TRACKS command causes RSX-20F to type out,  on  the  CTY,
        all KL10 operations and their results.



   SHUTDOWN

   OPERATOR Mode

        The SHUTDOWN command deposits a -1 into the  KL10  EXEC,  virtual
        location  30  (octal).   It  is  used  to gracefully bring down a
        TOPS-10 operating system.




                                    C-21
                                   PARSER                                   PARSER


   START TEN addr

   PROGRAMMER Mode

        The START TEN command starts the KL10 at the  address  specified.
        Control  then returns to the PARSER.  The starting address, addr,
        is a required argument and must not be zero.



   START MICROCODE [[addr]]

   PROGRAMMER Mode

        The START MICROCODE command performs a master reset of  the  KL10
        and  then starts the microcode at the specified address.  If addr
        is omitted, the default address is zero.  Starting the  microcode
        at an address other than zero is not recommended.



   WHAT CLOCK

   PROGRAMMER Mode

        The WHAT CLOCK command displays the  current  source,  rate,  and
        control of the KL10's clocks.



   WHAT CONSOLE

   OPERATOR Mode

        The WHAT CONSOLE  command  displays  the  current  console  mode:
        OPERATOR, PROGRAMMER, MAINTENANCE, or USER.



   WHAT DATE

   OPERATOR Mode

        The WHAT DATE command displays the day, date, and  time  that  is
        currently  stored  in  RSX-20F.   The status of the date validity
        flag is also displayed.



   WHAT INCREMENT

   OPERATOR Mode


                                    C-22
                                   PARSER                                   PARSER


        The WHAT INCREMENT command displays the current value of the KL10
        increment counter used in EXAMINEs and DEPOSITs.



   WHAT KLINIK

   OPERATOR Mode

        The WHAT KLINIK command displays the current access status of the
        KLINIK link.  If no access window has been set up (see SET KLINIK
        command) the reply is:

        KLINIK DISABLED

        If an access window has been set up but the link is in  use,  the
        reply is:

        KLINIK ACTIVE

        If an access window has been set up and the link is not  in  use,
        the reply is:

        KLINIK INACTIVE

        In either of the last two instances, the status is followed by  a
        display of the KLINIK window parameters.



   WHAT MEMORY

   OPERATOR Mode

        The WHAT MEMORY command displays the default memory for  DEPOSITs
        and EXAMINEs.



   WHAT OFFSET

   PROGRAMMER Mode

        The WHAT OFFSET command displays the  current  PDP-11  relocation
        factor.



   WHAT PARITY-STOP

   PROGRAMMER Mode



                                    C-23
                                   PARSER                                   PARSER


        The WHAT PARITY-STOP command displays the current status  of  the
        parity  stop  enable  bit  and  which  parity stops are currently
        enabled.



   WHAT RELOAD

   PROGRAMMER Mode

        The WHAT RELOAD  command  displays  the  current  status  of  the
        automatic reload function.



   WHAT REPEAT

   OPERATOR Mode

        The WHAT REPEAT command displays the current value of the  repeat
        factor.



   WHAT RETRY

   PROGRAMMER Mode

        The WHAT RETRY command displays the current status of  the  RETRY
        flag in the PARSER.



   WHAT TRACKS

   PROGRAMMER Mode

        The WHAT  TRACKS  command  displays  the  current  KL10  tracking
        status.



   WHAT VERSION

   OPERATOR Mode

        The WHAT VERSION command displays the current versions of RSX-20F
        and the PARSER.



   XCT argument


                                    C-24
                                   PARSER                                   PARSER


   PROGRAMMER Mode

        The XCT command  takes  a  360-bit  numerical  expression  as  an
        argument  and  executes  it  as  a  KL10  instruction.  Note that
        executing an instruction with an opcode (bits  0  through  8)  of
        zero  is  not  allowed.   If attempted, you receive an ILLEGAL KL
        OPCODE error message.



   ZERO loaddr>hiaddr

   PROGRAMMER Mode

        The ZERO command zeroes a specified area of  KL10  memory.   ZERO
        accepts  as  an argument the boundary addresses of the area to be
        zeroed:  loaddr and hiaddr.





































                                    C-25

























































                                    D-1












                                 APPENDIX D                                 APPENDIX D

                           KLINIT OPERATOR DIALOG                           KLINIT OPERATOR DIALOG



   If you use the SW REG load switch  to  load  and  start  a  KL10-based
   system, you can enter the KLINIT operator dialog.  The KLINIT operator
   dialog consists of questions, which you must answer.  There are a  few
   general  rules  that  you  must  follow when you answer each question.
   Therefore, this appendix is divided into the following sections:

         o  Section D.1, KLINIT Operator Dialog Rules,  which  lists  the
            rules that you must follow to answer a KLINIT operator dialog
            question.

         o  Section D.2,  Answering  KLINIT  Operator  Dialog  Questions,
            which  lists  the  acceptable  answers to the KLINIT operator
            dialog questions and describes each answer.



   D.1  KLINIT OPERATOR DIALOG RULES   D.1  KLINIT OPERATOR DIALOG RULES

   During the KLINIT operator dialog, the following rules hold:

         o  Press RETURN to end each answer.

         o  Press RUBOUT or DELETE to delete a character.

         o  Press RETURN and do not type anything to select  the  default
            answer to a question.

         o  The first answer enclosed in brackets is the  default  answer
            to a question.

         o  Type CTRL/Z to end the KLINIT operator dialog and exit to the
            PARSER  without rewriting the configuration file, KL.CFG.  If
            you end the KLINIT operator dialog by typing CTRL/Z,  the  KL
            hardware may not be completely initialized.

         o  Type CTRL/U to delete the current input line.



                                    D-1
                           KLINIT OPERATOR DIALOG                           KLINIT OPERATOR DIALOG


         o  Type BACK to return to the previous  question  unless  stated
            otherwise.

         o  Type RESTART to the EXIT question  to  return  to  the  first
            question in the KLINIT operator dialog.

         o  Press ESCape at any point  in  an  answer  before  you  press
            RETURN to restart the dialog.  (ESCape does not print on your
            terminal.)

         o  An unacceptable answer causes the question to repeat  and  an
            error message to print.

         o  Type at least two characters to abbreviate  an  answer  other
            than a file name.



   D.2  ANSWERING KLINIT OPERATOR DIALOG QUESTIONS   D.2  ANSWERING KLINIT OPERATOR DIALOG QUESTIONS

   This  section  lists  all  of  the  possible  KLINIT  operator  dialog
   questions and describes each acceptable answer to them.  The questions
   are listed in order of appearance, unless stated otherwise.

   KLINIT automatically bypasses any questions that do not apply to  your
   system  configuration.  Therefore, on any one system, only a subset of
   the possible KLINIT operator dialog questions will print on  the  CTY.
   Also,  a  particular  answer  to a question may cause KLINIT to bypass
   other questions.

   There are two commands that are not used in response to any particular
   question,  but  can  be  used  at almost any time.  The first of these
   commands is BACK, which  causes  KLINIT  to  return  to  the  previous
   question.   You  can  use this command at any time except on the first
   question of the dialog.

   The second of these commands has four  forms.   Each  of  these  forms
   toggle on and off the tracking capability.  They are:  T+, T-, L+, and
   L-.  To print  a  report  on  each  operation  of  the  initialization
   procedure,  type L+.  This causes the complete listing to print on the
   line printer.  The T+ command causes the same listings to print on the
   CTY.   However,  these listings are very long and take a great deal of
   time to print on the CTY.

   Answer each of the following KLINIT operator  dialog  questions  after
   the KLI> prompt prints on the CTY:


   KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?

      NO       Assume the  default  answers  for  all  of  the  remaining
               questions.   This is your last chance to bypass the dialog


                                    D-2
                           KLINIT OPERATOR DIALOG                           KLINIT OPERATOR DIALOG


               and take the default answers.

      YES      Continue the dialog.

      EXIT     Discontinue the dialog and return to the RSX-20F monitor.

      BOOT     Skip the rest of  the  dialog,  enable  cache  memory,  as
               directed  by  the  KL.CFG  file,  and immediately load and
               start the standard KL bootstrap program found in the  file
               BOOT.EXB.  This answer causes KLINIT to take no defaults.


   KLI -- RELOAD MICROCODE [YES,VERIFY,FIX,NO]?

      YES      Load the microcode from the bootstrap device into  the  KL
               processor.   If you want to load the microcode from a file
               that has been saved with a name other  than  the  default,
               type  a  file  name  before  you  press RETURN to end your
               answer.

      VERIFY   Verify that the microcode in the KL processor matches  the
               microcode on the bootstrap device.  KLINIT prints an error
               report for each location in which it finds  an  error  and
               increments  an  error count.  (Refer to the RSX-20F System
               Reference  Manual  for  more  information  on  this  error
               report.)  If  KLINIT  detects any errors, it prints VERIFY
               FAILED on the CTY and returns  to  the  beginning  of  the
               dialog.  Then, you can reload the microcode and try again.

      FIX      Verify the microcode as in the VERIFY option.  When KLINIT
               detects an error, it attempts to reload that location.  If
               the reload is successful, the error count is  decremented.
               If  the  reload fails, KLINIT prints MICROCODE FIX FAILED.
               In either  case,  verification  continues  with  the  next
               location.   If  verification  continues  through  all  the
               microcode and the final error count is greater than  zero,
               it  prints  VERIFY  FAILED and returns to the beginning of
               the dialog.  Then, you can reload the  microcode  and  try
               again.

      NO       Do not load or verify the microcode.


   KLI -- RECONFIGURE CACHE [FILE,ALL,YES,NO]?

      FILE     Configure cache memory as specified in  the  configuration
               file,  KL.CFG.   If  the  KL.CFG  file does not exist, all
               cache memory is enabled.  The dialog  continues  with  the
               CONFIGURE KL MEMORY question.

      ALL      Enable all cache memory.  The dialog  continues  with  the
               CONFIGURE KL MEMORY question.


                                    D-3
                           KLINIT OPERATOR DIALOG                           KLINIT OPERATOR DIALOG


      YES      Configure cache memory under dialog control.

      NO       Do not  reconfigure  cache  memory.   Instead,  leave  the
               existing configuration as is.  The dialogue continues with
               the CONFIGURE KL MEMORY question.


   KLI -- ENABLE WHICH CACHE [ALL,NONE,0-3]?

      ALL      Enable all cache memory.

      NONE     Disable all cache memory.

      0-3      Enable only the caches specified.  For example, to  enable
               caches 0, 1, and 3, type the following:

                   __________               KLI>0,1,3<RET>


   KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,FORCE,YES,NO]?

   FORCE prints only on 1091 systems.  Also, if you type BACK  to  answer
   this question, KLINIT returns you to the RECONFIGURE CACHE question.

      FILE     Configure KL memory  as  specified  in  the  configuration
               file, KL.CFG.  If this file does not exist, KLINIT assumes
               ALL.  Then, KLINIT prints the  logical  memory  map.   The
               dialog continues with the LOAD KL BOOTSTRAP question.

               If the configuration in the KL.CFG file is not the same as
               the  actual  system  configuration, KLINIT prints an error
               message and the KLINIT operator dialog  starts  over  from
               the beginning.

      ALL      Configure KL memory in the normal (forward) direction with
               as  much  memory  as  possible.   Then,  KLINIT prints the
               logical memory map.  The dialog continues with the LOAD KL
               BOOTSTRAP question.

      REVERSE  Configure  memory  under  dialog  control.   This   is   a
               maintenance   feature.    (Refer  to  the  RSX-20F  System
               Reference Manual for more information on this answer.)

      FORCE    (Prints on 1091 system only) Allow the operator  to  force
               KLINIT  into a Double-Bit-Error (DBE) scan of the MF20 MOS
               memory controllers.  This scan allows KLINIT to attempt to
               recover   "lost"   MF20   blocks.    The   scan   requires
               approximately 25 seconds for each 256K  of  memory  to  to
               scanned.

      YES      Configure  memory  under  dialog  control  in  the  normal
               (forward)   direction.   Before  KLINIT  prints  the  next


                                    D-4
                           KLINIT OPERATOR DIALOG                           KLINIT OPERATOR DIALOG


               question, it examines memory and  prints  out  a  physical
               memory map.

      NO       Do not configure memory; the previous memory configuration
               remains.   The dialog continues with the LOAD KL BOOTSTRAP
               question.

                                    NOTE

           KLINIT   saves   the   forward/reverse   configuration
           indicator  in  the KL.CFG file.  This allows KLINIT to
           restore the reverse configuration  over  reloads.   If
           the  KL.CFG file does not exist, the default is normal
           (forward) configuration.


   KLI -- CONFIGURE INTERNAL CORE MEMORY [ALL,YES,NO]?

      ALL      Configure all internal core memory.  The dialog  continues
               with  the  INTERNAL  CORE  MEMORY  INTERLEAVE  UPPER LIMIT
               question.

      YES      Configure internal core memory under dialog control.

      NO       Delete all internal core  memory.   The  dialog  continues
               with questions on other types of memory, if any.  (See the
               RSX-20F System Reference Manual for more information.)


   KLI -- MODULES/BLOCKS WITHIN CONTROLLER n [ALL,NONE,SPECIFY]?

      This question repeats for each controller, where n is  the  current
      controller number.

      ALL      Configure all the memory modules for controller n.

      NONE     Delete all the memory modules for controller n.

      SPECIFY  Configure the specified  module.   Do  not  type  SPECIFY.
               Valid  module  numbers are 0 through 3.  You must separate
               the  entries  with  commas.   For  example,  to  configure
               modules 0 and 1, type the following:

                   ________               KLI>0,1<RET>


   KLI -- INTERNAL CORE MEMORY INTERLEAVE UPPER LIMIT [4,2,1]?

      4        Allow up to 4-way interleaving.

      2        Allow up to 2-way interleaving.



                                    D-5
                           KLINIT OPERATOR DIALOG                           KLINIT OPERATOR DIALOG


      1        Allow no interleaving.

      The dialog continues with questions on other types  of  memory,  if
      any.   If  none,  KLINIT prints the logical memory map.  The dialog
      continues with the LOAD KL BOOTSTRAP question.


   KLI -- CONFIGURE EXTERNAL CORE MEMORY [YES,NO]?

      YES      Set the bus-mode for external memory.

      NO       Delete all external core  memory.   The  dialog  continues
               with question on other types of memory, if any.


   KLI -- EXTERNAL CORE MEMORY BUS-MODE [OPTIMAL,1,2,4]?

      OPTIMAL  Set the bus-mode for optimal performance.

      1        Set the bus-mode to 1.

      2        Set the bus-mode to 2.

      4        Set the bus-mode to 4.

      The dialog continues with questions on other types  of  memory,  if
      any.   If  none,  KLINIT prints the logical memory map.  The dialog
      continues with the LOAD KL BOOTSTRAP question.


   KLI -- CONFIGURE MOS MEMORY [ALL,YES,NO]?

      ALL      Configure all  MOS  memory.   KLINIT  prints  the  logical
               memory  map.   The  dialog  continues  with  the  LOAD  KL
               BOOTSTRAP question.

      YES      Configure MOS memory under dialog control.

      NO       Delete all MOS memory.  KLINIT prints the  logical  memory
               map.   The  dialog  continues  with  the LOAD KL BOOTSTRAP
               question.


   KLI -- MODULES/BLOCK WITHIN CONTROLLER n [ALL,NONE,SPECIFY]?

                                    NOTE

           This question repeats for each controller, where n  is
           the current controller number.

      ALL      Configure all memory blocks for controller n.



                                    D-6
                           KLINIT OPERATOR DIALOG                           KLINIT OPERATOR DIALOG


      NONE     Delete all memory blocks for controller n.

      SPECIFY  Configure the blocks  specified.   Do  not  type  SPECIFY.
               Type  a  list  of  block  numbers  (0  through  13  octal)
               separated by commas.  For example, to configure blocks  0,
               1, 2, 7, 10, and 11, type the following:

                   __________________               KLI>0,1,2,7,10,11<RET>


   KLI -- LOAD KL BOOTSTRAP [FILE,YES,NO, FILENAME]?

      FILE     Load the bootstrap specified in the KL.CFG  file.   If  no
               KL.CFG file exists, KLINIT uses the default bootstrap.

      YES      Load the default bootstrap.

      NO       Do not load a bootstrap.

      FILENAME Load the specified file as the bootstrap.


   KLI -- WRITE CONFIGURATION FILE [YES,NO]?

      YES      Write  a  new  KL.CFG  file  that  contains  the   current
               configuration and load parameters.

      NO       Do not change the existing KL.CFG file.

               At this point, if you requested a bootstrap, the bootstrap
               program  is  loaded  into  the  KL  and  started.   If you
               answered NO to the  LOAD  KL  BOOTSTRAP  question,  KLINIT
               prints the next question.


   KLI -- EXIT [YES,RESTART]?

      YES      Write a new KL.CFG file (if requested) and then exit  from
               the KLINIT operator dialog.

      RESTART  Restart the KLINIT operator  dialog.   KLINIT  prints  the
               ENTER dialog question.












                                    D-7

























































                                    E-1












                                 APPENDIX E                                 APPENDIX E

                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP



   BACKUP is a system program used to save disk files on  magnetic  tape,
   or  restore  any  or all of these files to disk.  Magnetic tape is the
   medium used for backup storage of  disk  files  and  for  transporting
   files between sites.



   E.1  BACKUP FEATURES   E.1  BACKUP FEATURES

   BACKUP allows you to choose  the  files  that  you  want  to  transfer
   between disk and tape.  You specify files in the following format:

        dev:filename.ext[project,programmer]

   BACKUP supports wildcard characters and  subfile  directories  (SFDs).
   You  may also select files by specifying the dates or times associated
   with those files.

   The  USAGE  command  enables  USAGE  accounting  for   BACKUP.    This
   status-setting command is a SAVE-only operation that writes accounting
   records to the system ACTDAE,  describing  the  disk  usage  for  each
   directory saved.

   Automatic volume switching is done by PULSAR, for GALAXY 4.1 and later
   versions  of  GALAXY.   When  the  tape  was  mounted  with tape label
   processing  enabled  (with  /LABEL-TYPE:ANSI,  EBCDIC,  or  NOLABELS),
   PULSAR   performs   volume   switching   instead   of   BACKUP.   When
   end-of-volume (EOT) is  reached,  a  mount  request  is  sent  to  the
   operator.  When the next volume is mounted, the last BACKUP command is
   continued where it left off.

   BACKUP has no control over  volume  switching  that  is  performed  by
   PULSAR.   For  this  reason,  the MULTIREEL command will not work when
   label processing is in effect.  This command will work if  /LABEL-TYPE
   is  used with the BYPASS, BLP, or USER-EOT arguments.  With BYPASS (or
   BLP, which are indentical), BACKUP sends the $BKPEOT  message  to  the
   operator  when  EOT  is  reached.   If  USER-EOT  were  specified,  an


                                    E-1
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   informational message ([BKPAMD) would be sent to the user, in addition
   to the $BKPEOT message being sent to the operator.

   If  you  use  automatic  volume  switching,   remember   that   BACKUP
   relinquishes  control  to  PULSAR,  until  a  subsequent tape has been
   mounted.  Therefore, you should be sure  to  assign  and  use  logical
   names while running BACKUP.

                   _______  _______  _____  _______  ______  _   Refer  to  the  TOPS-10  Monitor  Calls  Manual,  Volume  1  for  more
   information about label processing.

   If you are backing up the disk file structure, you can recover from  a
   system  crash  without  starting  completely  over.  You can produce a
   directory listing of the tape at the same time  you  perform  a  save.
   Another  operator feature is a set of runtime commands compatible with
   the spoolers.

   To facilitate transporting files between  sites,  BACKUP  provides  an
   "interchange"  mode  that  prevents  writing  system-specific overhead
   information on the tape.

   To  increase  reliability,  BACKUP   responds   to   hardware-reported
   tape-write  errors  by  rewriting the data in a repeater record.  When
   the tape is read later, these repeater records are used instead of the
   originals.

   Sections E.2 and E.3 describe these features in more detail.



   E.2  BACKUP COMMANDS   E.2  BACKUP COMMANDS

   BACKUP commands fall into four categories:

        1.  Action commands

            Action commands perform I/O and operate on the tape specified
            by   the   last  TAPE  command  (one  of  the  status-setting
            commands).  (See Section E.2.1.)

        2.  Status-setting commands

            Status-setting commands set a parameter that  affects  future
            action commands.  (See Section E.2.2.)

        3.  Tape-positioning commands

            Tape-positioning    commands    take    immediate     effect.
            Tape-positioning commands can take any one of a list of tapes
            as an argument.  (See Section E.2.3.)




                                    E-2
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


        4.  Runtime commands

            Runtime commands can be given during execution of the  action
            commands.  (See Section E.2.4.)

   Sections E.2.1 through  E.2.4  list  the  BACKUP  commands  and  their
   functions.



   E.2.1  Action Commands   E.2.1  Action Commands

   The action commands perform I/O and operate on the tape  specified  by
   the  last  TAPE  command (one of the status-setting commands).  Before
   you can use any of the action commands, you must specify a tape.   The
   conventions used in the following list of commands and switches are:

        spec      means    the    file    specification;     that     is,
                  dev:filename.ext[directories]

        date      means the date in the form dd-mm-yy

        time      means the time in the form hh:mm:ss

   The action commands are:

             Command                        Explanation

        SAVE spec-list      Saves the specified disk files on tape.

        RESTORE spec-list   Restores the specified tape files to disk.

        CHECK spec-list     Verifies that the tape and disk files agree.

        [N]PRINT spec       Prints a directory of the entire tape on  the
                            line   printer.   N  is  an  optional  prefix
                            meaning narrow.  PRINT produces the effect of
                            a  NODIRECTORIES  command;  that  is, no user
                            directories are printed.

   An action command takes  as  an  optional  argument  a  list  of  file
   specifications in a format similar to the monitor's COPY command.  The
   file specifications may contain wildcards and SFDs.

   For each entry in the list of file  specifications,  you  may  specify
   both  input and output file specifications (in the form output=input),
   or just the input specification.  This allows you to rename  files  as
   they  are  saved  or  restored.   If  you  do  not  specify  an output
   specification, then the specified files are transferred without  being
   renamed.  You must separate entries in the list of file specifications
   with commas.



                                    E-3
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   If you do not supply  an  argument  with  an  action  command,  BACKUP
   defaults  to  ALL:*.*[*,*,*,*,*,*,*].  This specifies all files on all
   UFDs and all SFDs of all file structures with no renaming.

   If you are not logged in under [1,2], the default for the SAVE command
   is ALL:*.*[PPN,*,*,*,*,*]=DSK:*.*[PPN,*,*,*,*,*].

   For   the   CHECK   and   RESTORE    commands,    the    default    is
   DSK:*.*[PPN,*,*,*,*,*]=ALL:*.*[PPN,*,*,*,*,*].

   The argument for the PRINT command is  a  single  file  specification.
   Its default is LPT:BACKUP.LOG.

   Note that specifying a field of  a  file-specification  overlays  only
   that  parameter and leaves the rest of the defaults as is.  Fields are
   device, file name, file extension, and directory specification.  Under
   no  circumstances do the file-specification parameters become "sticky"
   parameters.  (A sticky parameter is one that carries over to the  next
   file  specification  in the list.) Therefore, if you specify a PPN for
   one file specification, it does  NOT  carry  over  to  the  next  file
   specification in the list.



   E.2.2  Status-Setting Commands   E.2.2  Status-Setting Commands

   Status-setting commands set a parameter  that  affects  future  action
   commands.   Once a status parameter is set, it remains in effect until
   you change it again.  The  format  for  date  and  time  arguments  is
   dd-mm-yy,  hh:mm:ss, relative date and times (prefixed by + or -), and
   special mnemonic  words  (YESTERDAY,  TODAY,  TOMORROW,  LOGIN,  NOON,
   MIDNIGHT).

   If you type NO before a command, either the effect of the  command  is
   negated  or  a  different  action  is  taken.  The explanation of what
   happens when you type NO before a command is enclosed in brackets  [ ]
   in the explanation of each command below.  The default for any command
   is the action that  is  described  within  the  brackets,  unless  the
   default is specified otherwise in the explanation.

   The status-setting commands are:

                 Command                          Explanation

        ABEFORE date                  Includes only files accessed before
                                      the specified date.

        [NO]APPEND                    Appends  to  existing   list   file
                                      (default).     [List    file   will
                                      supersede any existing file.]

        ASINCE date                   Includes only files accessed  since


                                    E-4
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


                                      the specified date.

        BEFORE date-time              Includes  only  files  created  and
                                      last  modified before the specified
                                      date or time.

|       BLOCKINGFACTOR n              Sets the number of disk blocks  per
|                                     tape block read or written on tape.
|                                     The  default   value   is   4   for
|                                     compatability with tapes written by
|                                     BACKUP  without   blocking   factor
|                                     capability.   The  specified  value
|                                     must be in the range of  4  to  96,
|                                     and  must  be  a multiple of 4 disk
|                                     blocks.  Due to KS10 UNIBUS adapter
|                                     limitations,  the  maximum blocking
|                                     factor on a KS10 is 56.
|  
|                                     Tape blocking  is  writing  a  tape
|                                     block  that  contains more than one
|                                     disk  block.   Older  versions   of
|                                     BACKUP  (versions prior to %6(700))
|                                     may  be  said  to  use  a  blocking
|                                     factor  of  4, because they write 4
|                                     disk blocks per tape block.  Higher
|                                     blocking  factors  permit BACKUP to
|                                     fit more information in less space.
|                                     The   higher  the  blocking  factor
|                                     specified, the smaller  the  amount
|                                     of space between tape blocks.

        [NO]CPOINT                    Uses checkpoints.   [Does  not  use
                                      checkpoints.]

        [NO]DATE75                    Always accepts files with  possible
                                      DATE75  problems (default).  [Never
                                      accepts these files.]

        [NO]DELETE                    Deletes  disk  files  after  saving
                                      them.  [Does not delete.]

        DENSITY                       Sets   tape   density  (default  is
        (200, 556, 800, 1600, 6250)   system dependent).

        [NO]DIRECTORIES               Types each user's  directory  while
                                      running  (default).  [Does not type
                                      directories at all.]

        [NO]ENCRYPT                   Encrypts the  magnetic  tape  (asks
                                      for  key later).  (A key is similar
                                      to a password and it can consist of
                                      up  to  30  alphabetic characters.)


                                    E-5
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


                                      [Does not encrypt.]

|       ERRMAX n                      Sets   the   maximum   number    of
|                                     recoverable   tape   errors.    The
|                                     default is 100.

        [NO]EXEMPT                    Exempts PPNs of the form [A,*]  and
                                      [10,B], where A and B are less than
                                      7,  from   date/time   and   length
                                      restrictions  (default).  [Does not
                                      exempt.]

        [NO]FILES                     Types each file name while running.
                                      [Does not type file name at all.]

        INITIAL spec                  Starts processing at spec.

        [NO]INTERCHANGE               Runs  in  interchange  mode.    (In
                                      interchange  mode,  only  the  file
                                      names, extensions, and versions are
                                      written.   There  is no information
                                      on what UFD a file was in  when  it
                                      was  saved.)  [Runs in normal mode,
                                      in which UFDs and device names  are
                                      written.]

        LENGTH low:high               Includes only files whose length is
                                      between low and high.

        [NO]LIST spec                 While running, makes a listing file
                                      on    spec    (default    spec   is
                                      LPT:BACKUP.LOG).   (Does  not  make
                                      listing  file.)  LIST  produces the
                                      effect of a NODIRECTORIES  command,
                                      that  is,  no user directories will
                                      be typed.

        MBEFORE date-time             Includes only files that have  been
                                      last  moved  or modified before the
                                      specified date-time.

        MESSAGE [NO]PREFIX            Suppresses  error-message   prefix.
                                      [Does not suppress.]

        MESSAGE [NO]FIRST             Suppresses    first     line     of
                                      error-message   text.    [Does  not
                                      suppress.]

|       MSINCE date-time              Includes only files that have  been
|                                     moved   or   modified   since   the
|                                     specified time.



                                    E-6
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


        [NO]MULTIREEL                 Allows multiple reels during a save
                                      (default; multiple reels are always
                                      permitted on a restore).  [Does not
                                      allow   multiple   reels  during  a
                                      save.]

        [NO]NFS                       Does not save files that  have  the
                                      RP.NFS  RIB status bit set (default
                                      is to honor the  "don't  save  this
                                      file" status).  [Ignores the RP.NFS
                                      setting.]

        OPTION name                   Uses   option   BACKUP:name    from
                                      SWITCH.INI.

        PARITY (even,odd)             Sets tape parity.

        [NO]REPEAT                    Repeats  a  split   file   on   the
                                      continuation   tape.    [Does   not
                                      repeat.]

        RESUME n                      Resumes at block n of initial file.

        [NO]SDELETE                   Deletes a file without  respect  to
                                      its  protection  code,  if the user
                                      has sufficient privilege to  rename
                                      the  file  to  a  lower  protection
                                      code.    [Does    not    allow    a
                                      sufficiently  protected  file to be
                                      deleted.]

        SILENCE                       Does  not  type   file   names   or
                                      directories while running.

        SINCE date-time               Includes  only  files  created   or
                                      modified    since   the   specified
                                      date-time.

        SORT DIRECTORIES x            Sorts directories within each  file
                                      structure  in  order x when saving.
                                      x  =  ALPHABETICAL,  LOCATION   (by
                                      compressed-file-pointer,  which  is
                                      related  to   a   file's   physical
                                      location  on  disk),  or  NONE  (by
                                      Master File Directory).

        SORT FILES x                  Sorts files within  each  directory
                                      in   order  x  when  saving.   x  =
                                      ALPHABETICAL, LOCATION, or NONE (by
                                      directory)

        SSNAME name                   Specify the saveset name (up to  30


                                    E-7
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


                                      characters;  ALL  = all savesets on
                                      tape).

        SUPERSEDE ALWAYS              Always restores file from tape.

        SUPERSEDE NEVER               Restores files from  tape  only  if
                                      files is not on disk.

        SUPERSEDE OLDER               Restores only the  new  files  from
                                      tape (default).

        TAPE MTA0                     Uses tape unit MTA0.  If a magnetic
                                      tape  drive  has  the  logical name
                                      BACKUP, then the TAPE command  need
                                      not be specified.

        TPNUMB x                      Sets the number of the current tape
                                      to x (decimal).

|       [NO]UNIQUE                    Specifies  whether  a  unique  file
|                                     extension  is written while running
|                                     in interchange mode.  Enabling this
|                                     feature implies /ERSUPERSEDE.

        UPROTECTION nnn               Sets  the  protection  for  created
                                      directories.

        [NO]USAGE                     Enables  Usage  accounting.    When
                                      USAGE  is  enabled,  BACKUP  writes
                                      accounting records  to  the  system
                                      ACTDAE,  for  every  directory in a
                                      SAVE  operation.   You  must   have
                                      [1,2]   privileges   to  enable  or
                                      [disable] accounting.

        [NO]USETI                     Runs in USETI mode (speeds up saves
                                      with  /SINCE, and so forth).  [Does
                                      not run in USETI.]

        [NO]WRITE                     Suppresses disk  writing  during  a
                                      restore.    [Allows   disk  writing
                                      during a restore.]



   E.2.3  Tape-Positioning Commands   E.2.3  Tape-Positioning Commands

   A tape-positioning command takes immediate effect; it can take any one
   of a list of tapes as an argument.  If you do not specify a tape for a
   given command, BACKUP positions the  last  tape  declared  by  a  TAPE
   command.  The tape-positioning commands are:



                                    E-8
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


             Command                              Explanation

        EOT tape list                 Skips to the end-of-tape  mark  for
                                      each tape in the list.

        REWIND tape list              Rewinds to  the  beginning  of  the
                                      tape for each tape in the list.

        SKIP n tape list              Skips n savesets forward  for  each
                                      tape in the list.

        SKIP 0 tape list              Backs  up  to  the  start  of   the
                                      current  saveset  for  each tape in
                                      the list.

        SKIP -n tape list             Skips n savesets backward for  each
                                      tape in the list.

        UNLOAD tape list              Unloads each tape  from  its  drive
                                      for each tape in the list.

   You may include the following switches in the file specification  list
   for  the  action  commands.  These switches can be either temporary or
   permanent.  A temporary switch immediately follows the file  to  which
   it applies.  A permanent switch precedes the list of files to which it
   applies, or may be typed on a  separate  line  like  a  status-setting
   command.

        ABEFORE date                  (On input  file)  include  only  if
                                      accessed before date.

        ASINCE date                   (On input  file)  include  only  if
                                      accessed since date.

        BEFORE date-time              (On input  file)  include  only  if
                                      created before date-time.

        ERNONE                        (On input file) give  error  if  no
                                      files match.

        ERPROTECTION                  (On input file) give error is there
                                      is a protection failure.

        ERSUPERSEDE                   (On output  file)  do  not  restore
                                      from tape if on disk.

        ESTIMATE n                    (On output  file)  estimate  output
                                      size.

        LENGTH 1:h                    (On input file) include only if the
                                      file length is between 1:h.



                                    E-9
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


        MBEFORE date-time             (On input  file)  include  only  if
                                      modified before date-time.

        MSINCE date-time              (On input  file)  include  only  if
                                      modified since date-time.

        OKNONE                        (On input file)  do  not  given  an
                                      error if no files match.

        OKPROTECTION                  (On input  file)  do  not  give  an
                                      error  if  there  is  a  protection
                                      failure.

        OKSUPERSEDE                   (On  output  file)  always  restore
                                      even if on disk.

        [NO]PHYSICAL                  (Input or  output)  ignore  logical
                                      names.  [Accept logical names.]

        PROTECTION nnn                (On output file) set the protection
                                      code.

        SINCE date-time               (On input  file)  include  only  if
                                      ceated    since    the    specified
                                      date-time.

        [NO]STRS                      (On   input   file)   search    all
                                      structures   associated   with  the
                                      specified logical name; back up all
                                      occurrences  of  the file specified
                                      (default).    [Backup   only    the
                                      file(s)  satisfying the filespec on
                                      the first structure where  a  match
                                      is   found.   (If  such  files  are
                                      located on two or more  structures,
                                      the   only  file(s)  that  will  be
                                      backed up are the  file(s)  on  the
                                      earliest  structure  where  a match
                                      occurs.)]

        VERSION v                     (On output file)  set  output  file
                                      version number.



   E.2.4  Runtime Commands   E.2.4  Runtime Commands

   You may give the following runtime commands during  execution  of  the
   action  commands.   BACKUP  prints an exclamation point (!) when it is
   ready to accept a runtime command.  (EXIT, HELP, and RESET also use  a
   slash (/) as a prompt.



                                    E-10
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   If you type NO before you type the  command,  either  the  command  is
   negated  or  a  different  action  is  taken.  The explanation of what
   happens when you type NO before a command is enclosed in brackets  [ ]
   in the explanation of each command below.  The explanation in brackets
   is the default, unless the default action is otherwise specified.

   The runtime commands are:

            Command                              Explanation

        [NO]DIRECTORIES               Starts   typing   every   directory
                                      processed.   [Does  not  type these
                                      directories.]

        EXIT                          Exits from BACKUP when done.

        [NO]FILES                     Starts  typing   every   file   and
                                      directory   processed.   [Does  not
                                      type these files.]

        GO                            Continues after a STOP.

        HELP                          Lists    these     commands     and
                                      explanations.

        KILL                          Aborts  execution  of  the  current
                                      action command.

        PAUSE                         Does  not  exit  from  BACKUP  when
                                      done.

        RESET                         Resets all status settings to their
                                      original defaults when done.

        SILENCE                       Stops  typing  every  directory  or
                                      file.

        STOP                          Stops temporarily; can be continued
                                      by GO.

        WHAT                          Displays  current  file  name   and
                                      status.

   BACKUP also supports "/@file" construction, which allows  you  to  use
   indirect command files, like the COMPIL-class commands.  (Refer to the
   _______  _________  ______  ________   ______   TOPS-10  Operating  System  Commands   Manual   for   information   on
   COMPIL-class  commands.)  You can use all BACKUP commands and switches
   in an indirect file, except for  the  runtime  commands.   (Note  that
   "/verb @file" is NOT a valid alternate format.)





                                    E-11
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   E.3  BACKUP EXAMPLES   E.3  BACKUP EXAMPLES

   The  following  examples  demonstrate  the  applications  of   BACKUP.
   Section  E.3.1  contains  console  user  examples  and  Section  E.3.2
   contains operator task examples.



   E.3.1  Console User Examples   E.3.1  Console User Examples

   The console user can execute all of the BACKUP  commands  on  his  own
   disk area.  He can save his disk area or any other files accessible to
   him on his own magnetic tape and later restore to  his  area  all  his
   files  or  a subset of his files.  In the following examples, the user
   is logged in under [10,123].  Everything that you (the user) must type
      ___________   is underscored.



   E.3.1.1  Saving a User's Disk Area   E.3.1.1  Saving a User's Disk Area - To save all  files  in  your  own
   disk area on a magnetic tape mounted on MTA0, type:

         _ ___________        .R BACKUP<RET>
         ____ _________        /TAPE MTA0<RET>
         ___________        /REWIND<RET>
         _________        /SAVE<RET>
        !10,123 DSKB
         10,123 DSKC
        "Done
         ___________        /UNLOAD<RET>
         __        /^C



   E.3.1.2  Restoring Selected Files   E.3.1.2  Restoring Selected Files - To retrieve a specific file and  a
   set of files from a BACKUP tape by using wildcards, type:

         _ ___________        .R BACKUP<RET>
         ____ _________        /TAPE MTA1<RET>
         ___________        /REWIND<RET>
         _______ ________ _____________        /RESTORE FIL.TXT, TST???.*<RET>
        !10,123 DSKB
        "Done
         ___________        /UNLOAD<RET>
         __        /^C



   E.3.1.3  Renaming Files as They  are  Transferred   E.3.1.3  Renaming Files as They  are  Transferred - In  the  following
   example,  the  file  name  FILEA.MAC  on  tape  is  copied  to disk as
   FILEB.MAC, but its path (device and directory level) is  not  changed.
   To  change  a file's name or location path as it is moved between tape


                                    E-12
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   and disk, type:

         _ ___________        .R BACKUP<RET>
         ____ _________        /TAPE MTA0<RET>
         ___________        /REWIND<RET>
         _______ ________________________        /RESTORE FILEB.MAC=FILEA.MAC<RET>
        !10,123 DSKB
        "Done
         ___________        /UNLOAD<RET>
         __        /^C

   In the next example, the file FILEC.MAC was located  on  DSKB  in  the
   user's  UFD  [10,123]  when  saved  on tape, but it is restored to the
   subfile directory SFD1 on DSKC.

         _ ___________        .R BACKUP<RET>
         ____ _________        /TAPE MTA0<RET>
         ___________        /REWIND<RET>
         _______ ______________________________________________        /RESTORE DSKC:[10,123,SFD1]=DSKB:FILEC.MAC[10,123]<RET>
        !10,123 DSKB
        "Done
         ___________        /UNLOAD<RET>
         __        /^C



   E.3.2  Operator Tasks   E.3.2  Operator Tasks

   You (the operator) should periodically save the contents of  the  disk
   on  magnetic tape.  This provides a backup capability should something
   unforeseen happen to the disk.



   E.3.2.1  Saving the Entire Disk   E.3.2.1  Saving the Entire Disk - To save the entire contents of  DSKB
   on  magnetic tape and concurrently produce a directory listing, BACKUP
   is run while logged in under [1,2] as follows:

         _ ___________        .R BACKUP<RET>
         ____ _________        /TAPE MTA0<RET>
         ____ ___________________        /LIST DSK:BACKUP.LOG<RET>
         ____ __________        /SAVE DSKB:<RET>
        !1,2 DSKB
         1,3
         1,4
          .
          .
          .

   BACKUP types out each UFD as it begins to save files from  that  area.
   If  the  tape becomes full before the save is completed, BACKUP stops,
   types out the full file identification and block number of the current


                                    E-13
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   file  being  saved, unloads the magnetic tape, and displays one of the
   following messages:

   If the tape was mounted without label recognition (BYPASS or BLP),  or
   with USER-EOT, the following message prompts you for the next tape:

        $BKPEOT REACHED EOT -- MOUNT NEW TAPE THEN TYPE "GO"

   If the tape  was  mounted  with  label  processing  (/LABEL-TYPE:ANSI,
   EBCDIC,  or  NOLABELS), PULSAR also sends the following message to the
   user:

        [BKPAMD Asking MDA for next volume]



   E.3.2.2  Recovering from a System Crash   E.3.2.2  Recovering from a System Crash - If the system  should  crash
   during  a  save,  for  example  while  BACKUP is saving files from UFD
   [10,456], after bringing the system up, you  can  instruct  BACKUP  to
   start at UFD [10,456] by using the /INITIAL switch:

         _ ___________        .R BACKUP<RET>
         ____ _________        /TAPE MTA0<RET>
         ____ ___________________        /LIST DSK:BACKUP.LOG<RET>
         _______ __________________        /INITIAL DSKB:[10,456]<RET>
         ____ __________        /SAVE DSKB:<RET>
        !10,456 DSKB
           .
           .
           .

   Note that you must reset any status  parameters  that  were  incorrect
   before  the  crash,  and that you must NOT rewind the tape.  Note also
   that BACKUP appends to the existing LIST filespec.



   E.3.3  Saving Only Recently Created or Modified Files   E.3.3  Saving Only Recently Created or Modified Files

   To save only those  files  created  or  modified  today,  include  the
   /MSINCE status-setting switch:

         _ ___________        .R BACKUP<RET>
         ____ _________        /TAPE MTA0<RET>
         ____ ___________________        /LIST DSK:BACKUP.LOG<RET>
         _____________________        /MSINCE:YESTERDAY<RET>
         ____ __________        /SAVE DSKB:<RET>
        !1,2 DSKB
           .
           .
           .



                                    E-14
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   Certain files and disk areas are automatically exempted from date  and
   time  restrictions.  Files with the RP.ABU bit (always backup bit) set
   in the .RBSTS word of the RIB and PPNs of the form  [A,*]  and  [10,B]
   where  A  and  B  are less than or equal to 7 are always exempted from
   date and time restrictions.  This causes all libraries  to  always  be
   saved and restored.  (The PPN exemption can be overridden by using the
   /NOEXEMPT status-setting command.)



   E.3.4  Restoring Only Recently Accessed Files   E.3.4  Restoring Only Recently Accessed Files

   In the following example the /ASINCE switch is used  to  restore  from
   tape only those files whose access date is later than 1 June 1979:

         _ ___________        .R BACKUP<RET>
         ____ _________        /TAPE MTA1<RET>
         ____________________        /ASINCE:dd-mm-yy<RET>
         ____________        /RESTORE<RET>
        !



   E.4  OBTAINING DIRECTORIES OF BACKUP TAPES   E.4  OBTAINING DIRECTORIES OF BACKUP TAPES

   The command:

   [N]PRINT spec

   prints a  directory  of  the  entire  tape.   The  optional  prefix  N
   indicates a narrow listing (72 columns).  The default specification is
   LPT:BACKUP.LOG.  If a line printer is not available to the user's job,
   if  spooling  is  not  in  effect, and if the default spec is used, an
   error will occur.

   The following example produces a disk  file  directory  listing  named
   BACKUP.LOG.

         _ ___________        .R BACKUP<RET>
         ___________        /REWIND<RET>
         _____ _________        /PRINT DSK:<RET>
        !

   This is an example of the output:

    ____ _______________   .TYPE BACKUP.LOG<RET>

   Start of save set SCAN on MTA401
   System     R5200  SYS #40/2 TOPS-10 monitor 602(13053) APR#40
   1600 BPI 9 track dd-mmm-yy hh:mm:ss BACKUP 2(155) format 1

   SCAN         REL     58      <055>   dd-mmm-yy      DSKB:  [10,4077]


                                    E-15
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   SCAN         RNO     8       <055>   dd-mmm-yy 
   SCAN         MAC     304     <055>   dd-mmm-yy 
   SCN7B        REL     59      <055>   dd-mmm-yy 
   SCN7B        DO      101     <055>   dd-mmm-yy 
   SCN7B        RNO     97      <055>   dd-mmm-yy 
   SCN7B        CTL     3       <055>   dd-mmm-yy 
   SCN7B        MAC     309     <055>   dd-mmm-yy 
   SCAN         MEM     11      <055>   dd-mmm-yy 

   End of save set SCAN on MTA401
   System     R5200  SYS #40/2 TOPS-10 monitor 602(13053) APR#40
   1600 BPI 9 track dd-mmm-yy hh:mm:ss BACKUP 2(155) format 1

   Start of save set BACKUP on MTA401
   System     R5200 sys #40/2 TOPS-10 monitor 602(13053) APR#40
   1600 BPI 9 track dd-mmm-yy hh:mm:ss BACKUP 2(155) format 1

   BACKUP       REL     22      <055>   dd-mmm-yy      DSKB:  [10,4077]
   BACKRS       REL     52      <055>   dd-mmm-yy 
   BACKUP       SHR     55      <055>   dd-mmm-yy 
   BACKUP       LOW     34      <055>   dd-mmm-yy 
   BACKUP       MAC     118     <055>   dd-mmm-yy 
   BACKRS       MAC     270     <055>   dd-mmm-yy 

   BACKUP       MAC     19      <055>   dd-mmm-yy 
   BACKUP       HLP     20      <055>   dd-mmm-yy 
   BACKUP       RNO     4       <055>   dd-mmm-yy 
   BACKUP       DOC     4       <055>   dd-mmm-yy 
   BACKUP       CTL     2       <055>   dd-mmm-yy 

   End of save set BACKUP on MTA401
   System     R5200  SYS #40/2 TOPS-10 monitor 602(13053) APR#40
   1600 BPI 9 track dd-mmm-yy hh:mm:ss BACKUP 2(155) format 1



   E.5  COMPARING TAPE AND DISK FILES   E.5  COMPARING TAPE AND DISK FILES

   The command:

   CHECK spec-list

   verifies that the tape and disk agree.  BACKUP compares the tape files
   specified  for  input to the disk files specified for output, word for
   word.

   The following example saves all the user's COBOL  files  on  tape  and
   then  verifies  that  the  saved  tape files are identical to the disk
   files.

         _ ___________        .R BACKUP<RET>
         ____ __________        /TAPE MTA0:<RET>


                                    E-16
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


         ___________        /REWIND<RET>
         ____ __________        /SAVE *.CBL<RET>
         ___________        /REWIND<RET>
         __________        /CHECK<RET>
        !
        /

   To restore all SHR and LOW files from a tape and then verify that  the
   files were restored correctly, type:

         ___________        /REWIND<RET>
         ______ ________        /SSNAME ALL<RET>
         _______ ________________        /RESTORE *.SHR,*.LOW<RET>
        !
         ___________        /REWIND<RET>
         _____ ________________        /CHECK *.SHR,*.LOW<RET>
        !
        /



   E.6  CHECKPOINTING LARGE FILES   E.6  CHECKPOINTING LARGE FILES

   Installations that  maintain  exceptionally  large  files  (over  5000
   blocks)  will  want  to include the /CPOINT status-setting switch when
   saving and restoring files.  This switch extends BACKUP's system crash
   recovery  capability  to  the  file-block  level.  During a checkpoint
   save, the typeout level is set to type the file names and  checkpoints
   as  they  are  passed.   To  continue from the last checkpoint after a
   crash, the /INITIAL switch is used to indicate the file  specification
   and  the  /RESUME  switch to declare the checkpoint block number.  For
   example:

         _ ___________        .R BACKUP<RET>
         ____ _________        /TAPE MTA0<RET>
         _______ ____________________________        /INITIAL DSKB:[40,577]DATBAS.DBS<RET>
         ______ _________        /RESUME 6000<RET>
         _________        /SAVE<RET>
        !40,577 DSKB
         DATBAS DBS
         RESUMING AT CHECKPOINT 6000
         7000
         8000
           .
           .
           .

   Note that you should not rewind the  tape  to  continue  a  checkpoint
   save.

   During a checkpoint restore, the disk output file is closed  at  every
   checkpoint and then appended to.  The procedure for continuing after a


                                    E-17
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   crash is the same as that for the checkpoint save, with the  exception
   that you must first rewind the tape.

   The default for checkpoints is 1000 blocks.



   E.7  BACKUP MESSAGES   E.7  BACKUP MESSAGES



   E.7.1  Informational Messages   E.7.1  Informational Messages

   [BKPAMD Asking MDA for next volume]

        This message is sent to the user when the tape was  mounted  with
        /LABEL-TYPE:USER-EOT.     This   message   indicates   that   the
        end-of-volume was reached for a multi-volume tape  set,  and  the
        operator has been requested to mount the next tape.



   E.7.2  Operator Messages   E.7.2  Operator Messages

   $BKPEOT Reached EOT -- mount new tape then type "GO"

        The tape is full.  Mount a new one and then type GO to continue.


   $BKPICG Invalid command, please make sure  that  tape  is  ready  then
   respond GO

        The operator receives this error message if  he  replies  to  the
        $BKPEOT  or  the $BKPTWL message with any response other than GO.
        The operator should make sure that the next tape has been mounted
        correctly and then respond with GO.


   $BKPTGC errors may occur type "GO to continue..

        This  message  allows  you  to  continue  or  abort  the  RESTORE
        operation.


   $BKPTWL Tape write locked -- add write ring then type "GO"

        The tape is write-locked.  Insert a write ring and then  type  GO
        to continue.






                                    E-18
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   E.7.3  Fatal Error Messages   E.7.3  Fatal Error Messages

   ?BKPABC Ambiguous command

        You have given a command abbreviation that is not unique.


|  ?BKPBFW Blocking Factor Out of Range
|  
|       The specified argument to the blockingfactor switch is not within
|       the range of 4 to 96 (56 for KS10).
|  
|  
|  ?BKPBNM Blocking Factor Not a Multiple of 4 Disk Blocks
|  
|       The specified argument to the blockingfactor switch is not 4,  8,
|       12,...


   ?BKPCDU Cannot do USAGE Accounting from this PPN

        The [NO]USAGE command  is  an  operator-only  function.   Do  not
        attempt  to enable/disable USAGE accounting for BACKUP unless you
        are the system operator.


   ?BKPCGT Can't get next tape

        The mount request for the next volume in a multi-reel set failed.
        This  message  is always followed by the ?BKPDVF, the ?BKPINS, or
        the ?BKPOPA error message, which will  describe  the  failure  in
        more detail.


   ?BKPCOL Can't OPEN listing device

        The device specified for the LIST command cannot be selected  for
        output.


   ?BKPCOM Can't OPEN magtape

        The tape device specified cannot be selected for output.


   ?BKPCSA Can't SAVE with saveset name "ALL"

        "ALL" is reserved to mean all savesets  on  tape;  therefore,  it
        cannot be used to name an individual saveset when saving.


   ?BKPDND Device not a disk


                                    E-19
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


        The input device specified for a save is not a disk.


   ?BKPDNM Device not a magtape

        The device specified for the TAPE command or  a  tape-positioning
        command is not a magnetic tape drive.


   ?BKPDVF DEVOP.  failed with error code [code]

        This message may follow  either  the  ?BKPTLE  or  ?BKPCGT  error
        message  and  indicates  that  the  DEVOP.   monitor call (.DFRES
        function)  to  retrieve  device  status  has  failed.   The  code
        returned indicates the reason for failure and is described in the
        _______ _______  _____  ______        TOPS-10 Monitor  Calls  Manual.   After  this  message  has  been
        printed, BACKUP exits to monitor level CONTINUEs are not allowed.
        BACKUP must be restarted.


   ?BKPFSL File specification data lost

        During the processing of a file specification list, a consistency
        check  determined  that  data  was  lost.   If this error occurs,
        please send an SPR.


   ?BKPHSG Cannot get high segment back

        BACKUP releases its high-segment command scanner when  performing
        I/O  to  eliminate most of the memory while running.  The attempt
        to restore the high segment after completing  the  I/O  operation
        has failed.


   ?BKPINS Insufficient number of reels specified

        The user did not specify enough reels in the MOUNT request.  This
        error  can  only  occur  during  a  read operation, and is always
        preceded by a ?BKPCGT error message.  After this message has been
        printed,  BACKUP  exits to monitor level.  The user should submit
        another MOUNT request specifying all the appropriate volumes.


   ?BKPIRC Invalid run-time command

        You typed an illegal runtime command.  Type KILL to abort the run
        and  return  to  command level.  Type HELP to get a list of valid
        runtime commands.


   ?BKPKDM Keys don't match -- please try again


                                    E-20
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


        BACKUP asks for the encryption key twice, and compares  the  keys
        for verification.  This indicates that the comparison failed.


   ?BKPLFE Listing file ENTER error

        After opening the listing I/O channel, no entry could be made for
        the listing file.


   ?BKPLSI Listing specification incorrectly formatted

        You used incorrect formatting or a  wildcard  in  specifying  the
        LIST file.  No list specification is created.


   ?BKPNTS No tape specified

        While searching for the last  tape  specification  given,  BACKUP
        could not find one.


   ?BKPNZC Negative and zero checkpoints illegal

        You specified  a  negative  or  zero  argument  with  the  RESUME
        command.


   ?BKPNZT Negative and zero tape numbers illegal

        The argument you gave to the TPNUMB command was  not  a  positive
        decimal integer.


   ?BKPOPA [error message] operation aborted

        This message follows either the ?BKPTLE or ?BKPCGT error  message
        and  provides  one of several error messages specifying the label
        error that occurred.  The error message corresponds to the device
        status  code  returned  by  the  .DFRES  function  of  the DEVOP.
                                                  _______  _______  _____        monitor call, which is described in  the  TOPS-10  Monitor  Calls
        ______        Manual.   After  this  message  has been printed, BACKUP exits to
        monitor level.  CONTINUEs are  not  allowed.   You  must  restart
        BACKUP.


   ?BKPRES Reached EOT on a single reel save

        This message is issued when the end of the tape  is  reached  and
        you have specified the /NOMULTIREEL command.




                                    E-21
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   ?BKPRTE Reached tape error maximum

        BACKUP will abort the execution of an action command  and  return
        to  command  level  when  a  large number of tape I/O errors have
        occurred.  Currently, the error maximum is set to 10.   (This  is
        an assembly parameter.)


   ?BKPSKF SKIP failed, tape position error

        The SKIP operation failed.  If you  fail  to  position  the  tape
        correctly, BACKUP may overwrite existing files or read files from
        the wrong saveset.


   ?BKPTLE Error detected by tape label handler

        This message from PULSAR indicates  an  error  while  BACKUP  was
        performing an operation (SAVE, RESTORE, and so forth).  The wrong
        tape may be mounted, to which  you  do  not  have  access.   This
        message  is  always  followed  by  either  the ?BKPOPA or ?BKPDVF
        message.


   ?BKPTMI Insufficient core for command

        The routine for allocating space for  file  specifications  could
        not expand core enough to store the specification.


   ?BKPTSI Tape specification incorrectly formatted

        The  user  has  used  incorrect  formatting  or  a  wildcard   in
        specifying the tape device.


   ?BKPWPI Wild PPN illegal in INTERCHANGE mode

        When doing a RESTORE in INTERCHANGE mode, it is  illegal  to  use
        wildcards  for  only  the  project or only the programmer number.
        You must use wildcards for both or neither.



   E.7.4  Warning Messages   E.7.4  Warning Messages

   %BKPABT ABORT spec

        The transfer of the specified file from tape  to  disk  has  been
        aborted.




                                    E-22
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   ?BKPAMD Asking MDA for next volume

        A mount request has been sent  to  the  operator,  for  the  next
        volume in a multi-reel tape volume set.


   %BKPBMT Block missed on tape, expected [spec] (block = [n])

        The block number of the current block is greater than that of the
        block  expected;  data  may  be  missing.  This message is always
        followed by the %BKPFLC message.


   %BKPBTL Block too large reading [spec] (block = [n])

        The current record being read from tape exceeds the buffer  size.
        The record will be skipped.


   %BKPCCM Cannot COPY MFD for structure

        The program cannot  get  enough  memory  to  copy  the  retrieval
        information  block  for  the  indicated directory.  Files for the
        UFD/SFD will not be saved, and the program will skip to the  next
        UFD/SFD.


   %BKPCCU Copy UFD/SFD for [spec]

        The program cannot get enough memory to copy the indicated UFD or
        SFD.   Files  for  this  UFD  or  SFD  will not be saved, and the
        program will skip to the next UFD/SFD.


   %BKPCDF Cannot delete file [error bits] ([code]) [spec]

        The specified file could not be deleted.  The error bits and code
                                   _______ _______ _____ ______        returned are listed in the TOPS-10 Monitor Calls Manual.


   %BKPCDS CHECK disk file shorter [spec]

        During  a  check  operation,  an  end-of-file  occurred  for  the
        indicated disk file, even though there is more file data on tape.


   %BKPCFD CHECK files are different [spec]

        The check operation determined that the disk and tape versions of
        the indicated file are different.




                                    E-23
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   %BKPCHK Checksum inconsistency reading [spec] (block = [n])

        During a read, the computed checksum of the current  tape  record
        did  not  agree  with  the  checksum  stored  when the record was
        written.


   %BKPCNF CHECK file not on disk [spec]

        The indicated file could not be found  on  disk  during  a  check
        operation.


   %BKPCOD Cannot OPEN "[file structure]"

        The file structure indicated cannot be  selected  for  I/O.   The
        transfer of files for this structure will be aborted.


   %BKPCRH Cannot read HOME block for structure "[file structure]"

        While doing independent super I/O, BACKUP could not read the HOME
        BLOCK.   This  error can occur only if the FT$IND assembly switch
        is on.  (FT$IND is unsupported.)


   %BKPCTS CHECK tape file shorter [spec]

        During  a  check  operation,  an  end-of-file  occurred  for  the
        indicated tape file, even though there is more file data on disk.


   %BKPDFE Disk file had errors when SAVEd [spec]

        The specified file being restored or checked had disk errors when
        it was saved.  The data may be corrupted.


   %BKPDIE disk input error [error bits] (block = n) during [spec]

        A disk input error  occurred  during  the  attempt  to  save  the
        specified  file.  The error bits are those returned by the GETSTS
        monitor call.  The block number is  the  block  where  the  error
        occurred.   It  may  contain  corrupted  data  when  the  file is
        restored.


   %BKPDLT Tape being read [label-type] was written [label-type]

        The existing label on a  RESTORE  operation  did  not  match  the
        label-type  that  the  user  specified.   This  message is always
        followed by the $BKPTGC message.


                                    E-24
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   %BKPDOE Disk output error [error bits] during [spec]

        A disk output error occurred during  the  attempt  to  write  the
        specified  file.  The error bits are those returned by the GETSTS
        monitor call.  The transfer of this file will be aborted.


   %BKPDSE Disk save error (block - [n]) [spec]

        The specified file being restored or checked  had  a  disk  error
        when  the  indicated  block  was  saved.   That block may contain
        unreliable information.  This warning is always followed  by  the
        %BKPDFE message when the restore or check operation is completed.


   %BKPFEE ENTER [error-code] [spec]

        File-enter error for the indicated file.  The error code included
        is  that returned by the monitor, and the error code abbreviation
                         _______ _______ _____ ______        is listed in the TOPS-10 Monitor Calls Manual.


   %BKPFLC File continuing with [spec] (block = [n])

        This message immediately follows the %BKPBMT error message.   The
        block  number  is  the  number  of  the next block read after the
        occurrence of the %BKPBMT message.


   %BKPFLE LOOKUP [error-code] [spec]

        File-lookup  error  for  the  indicated  file.   The  error  code
        included  is  that  returned  by  the monitor, and the error code
                                      _______ _______ _____ ______        abbreviation is listed in the TOPS-10 Monitor Calls Manual.


   %BKPFRE File RENAME error [error bits] ([code]) [spec]

        File rename  error  for  the  indicated  file.   The  error  code
        included  is  that  returned by the monitor, and is listed in the
        _______ _______ _____ ______        TOPS-10 Monitor Calls Manual.  This warning occurs at the end  of
        a  restore  operation  on a file when an improper protection code
        and size estimate are given to the file using a RENAME UUO.


   %BKPFRS FRS tapes not supported

        On reading a tape, if the tape format seems to correspond  to  an
        FRS  tape  rather  than a BACKUP tape, this message is issued and
        BACKUP continues scanning the tape for records in a  format  that
        it understands.



                                    E-25
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   %BKPHSI Header file spec inconsistency

        During a restore operation, a consistency check  determined  that
        the  end-of-file  record for the current file was missed, and the
        current record belongs to another file.   The  transfer  will  be
        aborted for this file.


   %BKPIBL Incorrect block length

        During a read, the program encountered a tape record of the wrong
        size.  The record will be skipped.


   %BKPLF Listing file error [error bits ] ([code]) [spec]

        The listing file is closed and appended to after  the  processing
        of  each UFD, so that it will be preserved through a system crash
        and recovery procedure.  If either the LOOKUP  or  ENTER  monitor
        call for appending to the listing file fails, this message prints
        and no further output is done to the  listing  file.   The  error
                                                    _______ _______ _____        bits  and  code  returned are listed in the TOPS-10 Monitor Calls
        ______        Manual.


   %BKPNBF Not BACKUP format

        The current tape record is not in BACKUP format, and the  program
        will skip to the next tape record.


   %BKPNCU Not enough Core for Usage accounting

        The CORE UUO failed while trying to get more memory so that Usage
        accounting could be performed.  The SAVE operation is aborted.


   %BKPNEC Not enough core

        The program cannot get enough core.   If  this  occurs  during  a
        restore, the restore will be aborted.  During a save, the program
        will skip to the next structure or UFD and attempt to continue.


   %BKPNFF No files found to match [spec]

        No files were found to match the given file specification.


   %BKPPBR Prior block repeated rereading/rewriting from [spec] (block  =
   [n])



                                    E-26
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


        An out-of-sequence record was found.  This record will be used in
        place of the prior corresponding record.


   %BKPPUD Please use .DISMOUNT monitor command instead of UNLOAD

        The UNLOAD command can only be used when BYPASS label  processing
        is  in  effect.   You  must  use  the monitor command DISMOUNT to
        unload the tape.


|  %BKPRBF Reducing Blocking Factor for KS10
|  
|       A large blocking factor exceeded the limits of  the  KS10  UNIBUS
|       adapter.   The  blocking  factor  has  been  reduced  to the KS10
|       maximum.


   %BKPRIC RESUME at invalid checkpoint attempted

        This  message  indicates  that  the  user  instructed  BACKUP  to
        continue  saving  or checking a file a checkpoint that was larger
        than the actual number of blocks in the file.


   %BKPROD RESTORE output device is not a disk

        The output device specified for a restore is not a disk.


   %BKPSCE Size copy error [spec]

        This error will occur after a file has been transferred from tape
        to disk.  It occurs when the file on disk is not the same size as
        the size recorded in  the  file's  RIB  when  it  was  originally
        transferred  from  disk  to  tape.   This  error  can  occur when
        restoring a BACKUP listing file.  If this error  occurs  for  any
        other  unexplained  files  (for  example, the file was not active
        when it was transferred from disk to tape), please send an SPR.


   %BKPSDI Specified density incorrect, density  used  is  code  [density
   code]

        You have specified an illegal density.  This message returns  the
        code  of  the  density  that  will  be  used.   This  code may be
        interpreted by referring to the .TFDEN  function  of  the  TAPOP.
                            _______ _______ _____ ______        monitor call in the TOPS-10 Monitor Calls Manual.


   %BKPSLE SFD level exceeded



                                    E-27
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


        While attempting to save needed SFDs, the SFD level was exceeded.


   %BKPSNF SAVE SET NOT FOUND name

        This message may occur during a RESTORE or  CHECK  operation  and
        indicates  that  the  saveset named with the last /SSNAME command
        could not be found.


   %BKPTHE TAPE HARDWARE ERROR READING/WRITING spec (BLOCK = n)

        A hardware error occurred.   The  transferred  file  may  contain
        unreliable data.


   %BKPTPE TAPE PARITY ERROR READING/WRITING spec (BLOCK = n)

        The hardware detected a parity error.  The transferred  file  may
        contain unreliable data.


   %BKPUOE UNTRACEABLE OUTPUT ERROR

        An error was encountered while trying to move data from  disk  to
        tape.


   %BKPURT UNKNOWN RECORD TYPE

        While reading the tape, BACKUP found that the type number of  the
        current tape record is not within the defined range.  The program
        will skip to the next tape record.



   E.8  BACKUP TAPE FORMAT   E.8  BACKUP TAPE FORMAT

   BACKUP is designed  for  two  primary  functions:   performing  system
   backup  and  transferring  files  between  systems.   For  the  latter
   function,  BACKUP  provides  an   interchange   switch   that   causes
   system-dependent data to be ignored and only critical file information
   to be written on tape.  A restore operation in interchange  mode  also
   ignores system-dependent data, allowing the operating system to supply
   defaults where necessary.  Items not included in interchange mode  are
   noted in Sections E.9.1 through E.9.7.



   E.8.1  Tape Record Types   E.8.1  Tape Record Types

   BACKUP tapes are made up of a series of tape records of various types.


                                    E-28
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   Each  record is self-identifying.  All records on the tape are written
   at the standard length of 544(10) words.  Each record is made up of  a
   32(10)-word  header  and  a  512(10)-word data area.  Even if the data
   area is not needed, or is only partially needed, it is fully  written.
   All  undefined  or unused words are written with zeroes and ignored on
   read.  This maximizes the probability of reading old  tapes.   In  any
   case,  the  tape  format  is  included  in  the labels and the saveset
   headers.

   The record types are:

        1.  T$LBL -- tape label used to identify reel-id and  destruction
            date/time.   This  record is optional, but if present must be
            at the start of the tape.

        2.  T$BEG -- beginning of a saveset used  to  identify  when  the
            saveset  was  written  and on what device of what system.  It
            also includes the saveset name.  This record is mandatory and
            must be the first record of the saveset.

        3.  T$END -- end of a saveset.  This is identical  to  the  T$BEG
            record except that it appears at the end.

        4.  T$FIL -- this is the actual data that has been saved.  It  is
            the   only   type   of  record  that  is  encrypted.   It  is
            self-identifying as to the  position  within  the  file,  but
            contains only part of the full-path name of the file.

        5.  T$UFD -- contains the information  for  each  directory.   It
            gives  all  information  necessary  to recreate the directory
            (not written in interchange mode).

        6.  T$EOV -- indicates end of volume (future).

        7.  T$COM -- comment (ignored).

        8.  T$CON -- continuation of saveset.  This is identical to T$BEG
            except  that  it indicates the continuation of the saveset at
            the start of a new volume.  This ensures that each volume  is
            completely self-identifying.




   E.8.2  Standard Record Format   E.8.2  Standard Record Format

   Every tape record has the same general format.   This  consists  of  a
   32(10)-word  record header followed by 1 page of data (512(10) words).
   All record headers start with the same  first  12  words.   The  first
   seven words are:




                                    E-29
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


        1.  G$TYPE -- record type as described in Section E.9.1.  This is
            a small positive integer.

        2.  G$SEQ -- record sequence number.  This is  incremented  by  1
            for each record on the tape.  If a record is repeated because
            of a tape write error, the number of the repeated  record  is
            the same as that of the original.

        3.  G$RTNM -- relative tape number.  This is incremented by 1 for
            each volume.

        4.  G$FLAG -- flag bits:

             a.  GF$EOF -- this flag is set if  this  is  the  last  tape
                 record  for  this  disk  file.  On short files, this can
                 even be set on the first record of the file.

             b.  GF$RPT -- this flag is set if  this  tape  record  is  a
                 repeat of the previous record.  This is set whenever the
                 record is rewritten because of a tape write error.

             c.  FG$NCH -- this flag is  set  if  no  checksum  has  been
                 computed for the tape record.

             d.  GF$SOF -- this flag is set if this  is  the  first  tape
                 record for this disk file.
|  
|            e.  GF$D0 -- disk file had error in first block.
|  
|            f.  GF$D1 -- disk file had error in second block.
|  
|            g.  GF$D2 -- disk file had error in third block.
|  
|            h.  GF$D3 -- disk file had error in fourth block.

        5.  G$CHK -- checksum of the tape record.

        6.  G$SIZ -- number of words used for data in this tape record.

        7.  G$LND -- number of words to skip before the data starts.
|  
|       8.  G$TBS -- tape block size.
|  
|            a.  GC$BSE -- size of the tape block.
|  
|            b.  GC$N -- Number of disk blocks per tape block.
|  
|       9.  G$CUSW -- Reserved for customer use.

   The next four words are reserved for future  expansion.   The  twelfth
   (last)  word  in  the general section of the record header is reserved
   for customer use.  The remaining 20 words in the  record  header  vary


                                    E-30
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


   for  each  record  type,  with  the  last  word  of each record header
   reserved for customer use.   In  interchange  mode,  customer-reserved
   words will be written as zero on a save and ignored on a read.



   E.8.3  Non-data Blocks   E.8.3  Non-data Blocks

   The data portion of a tape record is primarily for storing file  data,
   but  may  be  used for saving some overhead information.  Any non-data
   information written in the data area of a tape record is prefaced with
   a control word of the form:

   LH = type, RH = length in words including this word

   More than one overhead region can appear.  In this case,  they  follow
   each other with no intervening space.  The currently defined types for
   overhead blocks are:

        1.  O$NAME -- gives the  full-path  identification  of  the  file
            without  punctuation.   The path components are treated as if
            the user gave a quoted representation in "DIGITAL  Integrated
            Command  Language."  This block consists of sub-blocks in the
            standard order:  device, directories (top down),  file  name,
            extension,  version, generation.  Sub-blocks corresponding to
            missing fields in the path specification are  omitted.   Each
            sub-block is in the format:

            WORD0:  LH = type, RH = length in words including this word

            The rest of the sub-block is the path field in ASCIZ  without
            leading  or  embedded nulls, terminated by at least one null.
            Omitted fields will be defaulted.  In interchange mode,  only
            the name, extension, and version are written.  In interchange
            restore, only name, extension, and version are used.

            Sub-block type codes are:

                  1 = device
                  2 = name
                  3 = extension
                  4 = version
                  5 = generation
                 40 = directory (lower directories are 41, 42, ...)

        2.  O$FILE -- a block  containing  file  attributes.   The  first
            section   of   this  block  is  a  fixed-length  header  area
            containing in fixed locations either  single-word  attributes
            or  byte  pointers  to ASCIZ string attributes located in the
            remaining section.  All dates  and  times  are  in  universal
            date/time   format.   In  interchange mode, only the critical
            attributes (starred) will be written, and the  rest  of  this


                                    E-31
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


            block  will  contain zeros.  In the description that follows,
            the symbols in brackets represent the RIB data from which the
            attribute  values  will be converted.  (If none is given, the
            location will be zero.)

             a.  A$FHLN (*) -- fixed-header length in words

             b.  A$FLGS -- flags:

                  1.  B$PERM -- permanent (not deletable) [RP.NDL]

                  2.  B$TEMP -- temporary

                  3.  B$DELE -- already deleted

                  4.  B$DLRA -- do not delete for lack of  recent  access
                      [RP.ABU]

                  5.  B$NQCF -- not quota checked [RP.NQC]

                  6.  B$NOCS -- does not have valid checksums [RP.ABC]

                  7.  B$CSER -- has checksum error [RP.FCE]

                  8.  B$WRER -- has disk write error [RP.FWE]

                  9.  B$MRER -- had BACKUP read error on RESTORE [RP.BFA]

                 10.  B$DAER  --  declared  bad  by   damage   assessment
                      [RP.BDA]

             c.  A$WRIT (*)  --  date/time  of  last  write  [RB.CRD  and
                 RB.CRT]

             d.  A$ALLS (*) -- allocated size in words [.RBALC]

             e.  A$MODE (*) -- mode of last write [RB.MOD]

             f.  A$LENG (*) -- length in bytes (1B0 if > 2^35-1) [.RBSIZ]

             g.  A$BSIZ (*) -- byte size (7 or 366)

             h.  A$VERS (*) --  version  identification  (.JBVER  format)
                 [.RBVER]

             i.  A$PROT  --  protection  [RB.PRV].   The  protection  for
                 directories  appears  in  the  directory attribute block
                 (O$DIRT).  For files, the protection word is defined  as
                 four  fields of eight bits each with a "5" stored in the
                 leftmost three  bits  to  distinguish  it  from  a  byte
                 pointer:



                                    E-32
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


                      Bits 0-2        "5"

                      Bit 3           reserved for future

                      Bits 4-11       future access

                      Bits 12-19      owner access

                      Bits 20-27      affinity group access

                      Bits 28-35      "world" access

                 Each file access field is  subdivided  into  bytes  that
                 describe  the  attribute,  write,  and  read protections
                 associated with the file.  A description of the  "world"
                 access   field  follows,  with  the  associated  TOPS-10
                 protection given in  parentheses,  if  applicable.   The
                 owner  and affinity group (project) fields are similarly
                 defined.

                  1.  PR$SPC (Bit 28) -- reserved for  special  checking.
                      The  rest  of  the  field is special if this bit is
                      set.

                  2.  PR$ATR (Bits 29-31) -- the attribute subfield is  a
                      3-bit byte interpreted as follows:

                           0 -- file is completely hidden

                           1 -- file name is visible (7-6)

                           2 -- file attributes are visible (5-2)

                           3 -- can change unprotected attributes

                           4 -- (future)

                           5 -- (future)

                           6 -- can change protection (0)

                           7 -- can delete the file (1)

                  3.  PR$WRT (Bits 32-33) -- the write access subfield is
                      defined as:

                           0 -- no write access (7-5)

                           1 -- append (4)

                           2 -- write (3)



                                    E-33
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


                           3 -- superseding generation (2-0)

                  4.  PR$RED (Bits 34-35) -- the read access subfield  is
                      defined as:

                           0 -- no read access (7)

                           1 -- execute only (6)

                           2 -- can read the file (5-0)

                           3 -- (future)

             j.  A$ACCT -- byte pointer to account string

             k.  A$NOTE -- byte pointer to annotation string [.RBSPL]

             l.  A$CRET -- creation date and time of this generation

             m.  A$REDT -- last read date and  time  of  this  generation
                 [RB.ACD]

             n.  A$MODT -- monitor set last write date and time [.RBTIM]

             o.  A$ESTS -- estimated size in words [.RBEST]

             p.  A$RADR -- requested disk address [.RBPOS]

             q.  A$FSIZ -- maximum file size in words

             r.  A$MUSR  --  byte  pointer  to  identification  of   last
                 modifier

             s.  A$CUSR -- byte  pointer  to  identification  of  creator
                 [.RBAUT]

             t.  A$BKID -- byte pointer  to  identification  of  previous
                 BACKUP [.RBMTA]

             u.  A$BKDT -- date and time of last BACKUP

             v.  A$NGRT -- number of generations to retain

             w.  A$NRDS -- number of opens for read this generation

             x.  A$NWRT -- number of opens for write this generation

             y.  A$USRW -- undefined user word [.RBNCA]

             z.  A$PCAW -- privileged customer word [.RBBCA]

|            aa. A$FTYP -- file type and flags word [.RETYP]


                                    E-34
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


|            bb. A$FBSZ -- byte sizes [.RBBSZ]
|  
|            cc. A$FRSZ -- record and block sizes [.RBRSZ]
|  
|            dd. A$FFFB -- application/customer word [.RBFFB]

            The remainder of this block is reserved for future expansion.

        3.  O$DIRT  --  a  block  containing  directory  attributes  (not
            written  in  interchange  mode).   The  first section of this
            block  is  a  fixed-length  header  area  containing   either
            directory attributes or pointers to attributes located in the
            remaining section.  The symbols in brackets represent the RIB
            data  used  for  conversion  (the location is zero if none is
            given).  The directory protection word appears in this  block
            rather   than  in  the  O$FILE  block  (A$PROT  is  zero  for
            directories).

             a.  D$FHLN -- fixed-header length in words

             b.  D$FLGS -- directory flags:

                  1.  DF$FOD -- file-only directory

                  2.  DF$AAL -- alpha accounts are legal

                  3.  DF$RLM -- repeat login messages

             c.  D$ACCT --  account  number  or  ASCII  byte  pointer  to
                 account string

             d.  D$PROT -- directory protection [RB.PRV].  The  directory
                 protection  word  is divided into the same access fields
                 as the file protection word, A$PROT, but each  directory
                 access  field  has  bits  as  follows (RIB bits given in
                 parentheses):

                      Bit 28 -- reserved for special checking;  the  rest
                      of the field is special if this bit is set

                      Bits 29-31 -- (future)

                      Bit 32 -- connect allowed

                      Bit 33 -- can open files (4)

                      Bit 34 -- can create generations (2)

                      Bit 35 -- directory can be read (1)

             e.  D$FPRT -- default file protection



                                    E-35
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


             f.  D$LOGT -- date/time of last login in  TOPS-10  universal
                 format [RB.CRD and RB.CRT]

             g.  D$GENR -- default number of generations to keep

             h.  D$QTF -- first-come,  first-served  logged-in  quota  in
                 words [.RBQTF]

             i.  D$QTO -- logged-out quota in words [.RBQTO]

             j.  D$ACSL -- list of groups that can access this  directory
                 (see below)

             k.  D$USRL -- list of groups  that  this  user  is  in  (see
                 below)

             l.  D$PRVL -- privilege list (see below)

             m.  D$PSWD -- ASCII byte pointer to password

            The list-attribute words given above (D$ACSL, D$USRL, D$PRVL)
            may be in any one of the following formats:

             a.  an ASCII string pointer

             b.  5B2 + group (or 5B2 + privilege for D$PRVL)

             c.  -N,,relative location of start of list

            if in format (c) each word of the list is 5B2 + group (5B2  +
            privilege for D$PRVL).

        4.  O$SYSN -- a block containing the system header line in ASCIZ.

        5.  O$SSNM -- a block containing the user-supplied  saveset  name
            in  ASCIZ  (maximum of 30 characters).  This block is omitted
            if no saveset name was specified.



   E.8.4  Locations in T$LBL Record   E.8.4  Locations in T$LBL Record

   This record has no contents  in  the  "data"  region.   The  remaining
   locations in the record header are defined as follows:

        1.  L$DATE -- date/time of labeling in TOPS-10  universal  format
            (that  is, LH = days since 17-November-1858, RH = fraction of
            day)

        2.  L$FMT -- BACKUP tape format (constant = 1)




                                    E-36
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


        3.  L$BVER -- version of BACKUP writing label in standard  .JBVER
            format

        4.  L$MON -- monitor type (%CNMNT)

        5.  L$SVER -- system version (%CNDVN)

        6.  L$APR -- APR processor serial number on which this label  was
            written (integer)

        7.  L$DEV -- physical device on which the  tape  was  written  in
            SIXBIT

        8.  L$MTCH -- byte (31) 0 (1) 7-track (1) 0 (3) density;  density
            is:

                 1 = 200
                 2 = 556
                 3 = 800
                 4 = 1600
                 5 = 6250

        9.  L$RLNM -- reel ID in SIXBIT

       10.  L$DSTR  --  date/time  before  which  the  tape   cannot   be
            scratched;  before  this time, the only valid operation is to
            append



   E.8.5  Locations in T$BEG, T$END, T$CON Records   E.8.5  Locations in T$BEG, T$END, T$CON Records

   These saveset records all have the same format and  are  distinguished
   by  their  record types and their location on the tape.  All items are
   filled in at the time of writing.  The data area contains two  nondata
   blocks,  types  O$SYSN  and O$SSNM.  Record header locations following
   the first standard 12 words are defined as follows:

        1.  S$DATE -- date/time  of  writing  this  record  in  universal
            format

        2.  S$FMT -- BACKUP tape format (constant = 1)

        3.  S$BVER -- BACKUP version in .JBVER format

        4.  S$MON -- monitor type (%CNMNT)

        5.  S$SVER -- system version (%CNDVN)

        6.  S$APR -- apr serial number on which written




                                    E-37
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


        7.  S$DEV -- physical name of device on which written in SIXBIT

        8.  S$MTCH -- byte (31) 0 (1) 7-track (1) 0 (3) density.  Density
            is:

                 1 = 200
                 2 = 556
                 3 = 800
                 4 = 1600
                 5 = 6250

|       9.  S$RLNM -- reelid in SIXBIT
|  
|       10. S$LBLT -- label type in octal
|  
|       11. S$BLKF -- blocking factor



   E.8.6  Locations in T$UFD Record   E.8.6  Locations in T$UFD Record

   This record is not written in interchange  mode.   When  written,  the
   data  portion  contains  two  or  three nondata blocks:  types O$NAME,
   O$FILE (optional), and O$DIRT.   Remaining  locations  in  the  header
   record contain:

        1.  D$PCHK -- checksum of the O$NAME full-path file name block

        2.  D$LVL -- directory level:  0 = UFD; 1 =  first  SFD;  and  so
            forth.

        3.  D$STR -- file structure name stored in the following  format:
            byte  (7) data type, length in words, ASCII.  (Data types are
            defined in the T$FIL section.)



   E.8.7  Locations in T$FIL Record   E.8.7  Locations in T$FIL Record

   The first tape record for a file contains two  nondata  blocks,  types
   O$NAME  and  O$FILE.  There is room for two blocks of file data in the
   first tape record, and if the file will completely  fit  in  one  tape
   record,  these  will  be used.  If the file is longer than two blocks,
   the file will be started in the second tape record, so its pages  will
   be  lined  up  with  tape  records.   Each  tape record identifies the
   logical disk word with which it starts.  Remaining  locations  in  the
   record header are:

        1.  F$PCHK -- checksum of the full-path file name block (O$NAME).
            This  is  just a consistency check for consecutive records of
            the file



                                    E-38
                SAVING AND RESTORING DISK FILES WITH BACKUP                SAVING AND RESTORING DISK FILES WITH BACKUP


        2.  F$RDW -- relative data word of file of the first data word in
            this tape record

        3.  F$PTH -- a 12-word block used to store  information  suitable
            for  a restoration of the file.  This area is large enough to
            hold the entire path to a TOPS-10 file in a UFD and two SFDs.
            The  path information will be stored in the standard order of
            device, UFD,  first  SFD,  file  name,  and  extension,  with
            missing  fields omitted.  The path information will be stored
            in the format:

            BYTE (7) data type, length in words, ASCII

            where data types are defined as:

                 device = 001

                 file name = 002

                 extension = 003

                 directory = 040

                 (lower directories = 041, 042, ...)






























                                    E-39

























































                                    F-1












                                 APPENDIX F                                 APPENDIX F

            FAMILIARIZING YOURSELF WITH TGHA (1091 SYSTEMS ONLY)            FAMILIARIZING YOURSELF WITH TGHA (1091 SYSTEMS ONLY)



   The Great Heuristic Algorithm (TGHA) is the program that  manages  and
   maintains Metal Oxide Semiconductor (MOS) memory in MF20s.

   TGHA stores data in a history  file  (TGHAV2.DAT)  and  a  trace  file
   (TGHA.TRA).  The history file records what modules are on or off line,
   whether error reporting is turned on, and if any errors have  occurred
   that TGHA can correct.

   The trace file records any corrective actions and the time  that  TGHA
   took  each  action.   If  the history file is corrupted, TGHA uses the
   information recorded in the trace  file  to  reconstruct  the  history
   file.

   TGHA also records all of the errors that it corrected for SYSERR.

   Usually, you do not need to know anything about TGHA.



   F.1  SYSTEM STARTUP   F.1  SYSTEM STARTUP

   At system startup, the monitor runs TGHA.  TGHA then either builds the
   history  file if one does not already exist, or verifies that it knows
   about all of the on-line MF20 hardware.  If the  history  file  exists
   and  new  MF20  hardware  appears,  TGHA adds this new hardware to its
   history file.

   To start TGHA, place the following commands in the OPR.ATO file  after
   DAEMON is started:

        :SLOG
        :DEF TGHA=
        R TGHA

   TGHA prints the following message on the CTY to indicate  that  it  is
   running for the first time since the monitor was reloaded:



                                    F-1
            FAMILIARIZING YOURSELF WITH TGHA (1091 SYSTEMS ONLY)            FAMILIARIZING YOURSELF WITH TGHA (1091 SYSTEMS ONLY)


        TGHA 2(3) RUNNING FIRST TIME

   Then, TGHA looks for MF20  errors  that  have  occurred  since  system
   startup.



   F.2  RUNNING TGHA MANUALLY   F.2  RUNNING TGHA MANUALLY

                                                     ___________   To run TGHA manually, type  everything  that  is  underscored  in  the
   following dialog:

          _ _________         .R TGHA<RET>                 Run TGHA.
              ____________         TGHA>command<RET>            Type one of the TGHA  commands  and
                                      press  RETURN  to tell TGHA what to
                                      do.

   The TGHA commands are:

        Command            Explanation

        EXIT           Exits from TGHA.

        HISTORY        Dumps the history file.

        TRACE          Dumps the trace file.




























                                    F-2
                                        
























































                                    F-3
                                        


                                   INDEX



               -A-               -A-                     Batch streams, 7-9
                                         displaying parameters, 7-13
   Accounting files, 8-4                 displaying status, 7-14
   ACTDAE.ACT file, 8-2                  sending messages to, 7-12
   Adding System Hardware, 9-48          setting parameters, 7-9
   Alignment (.ALP) files, 7-41          starting, 7-10
   ASL                                   stopping, 7-11
     See System lists                  BATCON program, 7-3
   Assembler program, 3-1              BOOT
   Automatic volume switching, E-1       error codes, A-4
                                       Boot CPU, 5-32
                                       Boot procedure, 4-5
               -B-               -B-                     BOOT program, 4-5, 4-7, 4-8, 5-11,
                                           5-21, 10-1, 11-1
   BACKUP program, 3-3, 8-6, 8-7,        command format, A-5
       9-33                              crash file dump, 10-3
     action commands, E-3                defaults, A-5
     checkpoint default, E-18            messages, 10-1, 11-1
     comparing tape and disk files,    BOOT11 program, 5-24, 5-27, 11-47
         E-16                            running, 5-25
     crash recovery, E-14                switches, 5-26
     directories, E-15                 BOOTDX bootstrap program, 5-29
     features, E-1                       switches
     functions, E-28                       DX10, 5-29
     messages                              DX20, 5-30
       fatal error, E-19               Booting from default device, 4-1
       informational, E-18             BOOTS program, 5-14
       operator, E-18                  Bootstrap programs
       warning, E-22                     BOOT, 4-5, 5-11, 5-21
     performing I/O, E-3                 BOOTDX, 5-29
     runtime commands, E-11              BOOTS, 5-14
     saving contents of a disk, E-13   Bootstrap tape, 4-7
     status-setting commands, E-4      BOOTXT commands, A-5
     tape record
                                                   -C-       overhead blocks, E-31                       -C-
       types, E-29
     tape-positioning commands, E-8    Card punch spooler, 7-4
   BACKUP.LOG file, E-15               Card punches, 2-6
   Bad memory, 11-43                   Card readers, 2-6
   Batch controller, 7-3                 input, 7-3
   Batch jobs                          Carriage control
     aborting, 7-26                      suppressing, 7-44
     holding, 7-24                     CDRIVE program, 7-3
     releasing, 7-25                   Central processors, 2-1
     requeuing, 7-27                   Communications front ends, 2-4
   Batch requests                        loading
     deleting, 7-28                        automatic, 5-24
     modifying, 7-27                       with BOOT11, 5-25


                                  Index-1
                                        


   Communications front ends           DAVFU (Direct-Access Vertical
     loading (Cont.)                       Format Unit), 2-6
       with DTELDR, 5-27               DDT program, 3-3
     types, 5-24                       DEBUG stopcodes, 10-9, 11-12
   Compilers, 3-2                      DECnet
   CONFIG Commands                       front end, 9-42
     ADD, 9-48                           network tables, 9-42
     AUTO-CONFIGURE, 9-49                programs, 9-42
     REMOVE, 9-49                      DECSYSTEM-2020 components, B-1
     SET AUTO-RELOAD, 9-50             DECtape drives, 2-7
     SET DUMP, 9-50                    DECTAPE load switch, 5-4, 5-5
     SHUTDOWN, 9-51                    Default device
     SNAPSHOT, 9-51                      booting from, 4-1
     SUSPEND, 9-52                     Diagnostic registers, C-1
   CONFIG program, 9-47, 11-59         DIRECT program, 3-3
     LOAD command, 5-28                Direct-Access Vertical Format
   Configuring System Hardware, 9-49       Unit (DAVFU), 2-6
   Console front ends, 2-3             DISABLE switch, 4-2
   Console mode commands, B-2          Disk drives, 2-8
   Console terminal                      dual-ported, 2-8
     restarting, 10-13, 11-44          Disk files
   Console/Diagnostic processor, 2-3,    BACKUP.LOG file directory, E-15
       3-1                               restoring, 9-33
   Controllers                         DISK load switch, 5-4, 5-5
     card reader, 2-6                  Disk packs, 2-7
     DECtape, 2-7                      Disk volume recognition, 9-29
     disk, 2-8                         DL10-interfaced errors, 11-47
     RH11, 2-9                         DN20 front end, 2-4, 5-24
     tape, 2-9                         DN85 front end, 5-24
   Controlling system hardware, 9-50   DN87 front end, 5-24
   Core memory, 2-3                    DN87S front end, 5-24
   CPU                                 Documentation
     clock commands, B-10                CTY output, 1-5
     stopcodes, 10-10, 11-14             operator, 1-3
   Crash data, 10-7                      operator's notebook, 1-3
   Crash file (CRASH.EXE), 10-3        DSKLST program, 8-9
   CRSCPY program, 10-7, A-5           DSKRAT program, 8-9
     action commands, A-6              DTE interface, 2-3
     command syntax, A-6               DTE-interfaced error, 11-46
     report-selection commands, A-8    DTELDR program, 5-27, 11-46,
     running, A-5                          11-47
     status-setting commands, A-7        automatic reloading, 11-46
   CRT display terminals, 2-9            switches, 5-28
   CTRL/H, 5-23, 6-6                     to restart RSX-20F, 11-2
   CTY modes, B-1                      Dual-ported
                                         disk drives, 2-8
               -D-               -D-                       TM78 controller, 9-2
                                       DX10 BOOTDX switches, 5-29
   Damage-assessment information,      DX10 data channel, 5-28
       8-9                             DX20 BOOTDX switches, 5-30
   Data channel, 2-4, 2-8, 2-9         DX20 data channel, 5-28
     errors, 11-48


                                  Index-2
                                        


               -E-                                 -H-               -E-                                 -H-
    
   ENABLE switch, 4-2                  HALT stopcodes, 10-11, 11-15
   ENABLE/DISABLE load switch, 5-4,    Hardware
       5-5                               error form, 10-1, 11-1
   Error messages                        overview, 2-1
     KL10, 11-3                        Header labels, 9-3
     KLINIK, 11-51                     Help facility for PARSER, C-5
     KS10, 10-17                       HOST operator privileges, 6-2
     microprocessor commands, B-12
                                                   -I-     PARSER, 11-16                                 -I-
   Error reporting, 9-39
                                       Indicator lights, 4-2, 5-2
               -F-               -F-                       FAULT, 5-6
                                         POWER, 5-6
   FAL streams, 7-15                   INFO stopcodes, 10-11, 11-16
     continuing, 7-18                  Informational messages, 10-12
     defining FAL accessibility,       INITIA program, 4-4, 5-16, 10-4
         7-16                          Interleaved memory, 11-43
     displaying parameters, 7-18       Internal memory, 2-3
     displaying status, 7-19           Interpreters, 3-2
     setting parameters, 7-16
                                                   -J-     shutting down, 7-18                           -J-
     starting, 7-17
     stopping, 7-17                    JOB stopcodes, 10-9, 11-12
   Fault continuation, 11-59           Jobs
   File specification, E-4               card reader, 7-3
   File structures, 8-8                  detached, 8-5
   Floppy disks, 2-4                     inactive, 8-5
   FLOPPY load switch, 5-4, 5-5
                                                   -K-   Front end                                       -K-
     communications, 2-4
     DECnet, 9-42                      KDPLDR program, 9-46
     PDP-11, 5-7                       Key switch, 4-2
     types, 5-24                       KL10 central processor
   Front panel                           default loading parameters,
     DECSYSTEM-2020, 4-1                     5-10
     1091 systems, 5-4                   initializing, 5-7
   Front-end                             loading from a nondefault file,
     file system, 5-7                        5-21
     monitor, 5-7                        loading from magnetic tape,
     processor, 2-3                          5-20
     processor error, 11-45              loading with nondefault
                                             parameters, 5-15
               -G-               -G-                       reloading from disk, 5-12
                                       KL10 crash, 11-2
   GALAXY, 3-3                           copying system dumps, 11-10
     components, 7-3                   KL10 memory
   GALAXY.CMD file, 5-24                 accessing, C-1
   GRIPE                               KLERR program, 11-3
     files, 8-5                        KLINIK link, 10-14
     program, 8-5                        accessing, 11-49


                                  Index-3
                                        


   KLINIK link (Cont.)                 LCP commands (Cont.)
     controlling access, 4-2, 4-3        SHOW, 7-58
     disabling, 10-16                    START, 7-57
     enabling, 10-16                     STOP, 7-58
     error messages, 11-51               ZERO COUNTERS, 7-58
     for system diagnosis, 11-49       Line printer spooler, 7-3
     informational messages, 11-50     Line printers, 2-5
     password protection, 4-2            continuing, 7-36
     states, 10-14                       controlling forms, 7-39
   KLINIT operator dialog, 5-9,          controlling jobs, 7-45
       11-27, D-1                        displaying parameters, 7-37
     entering, 5-16, 5-37                displaying status, 7-38
     questions, D-2                      forms defaults, 7-40
     warning messages, 11-28             holding jobs, 7-47
   KLINIT program, 5-7, 5-8, 11-3        LPFORM.INI file, 7-40
     detected errors, 11-27              releasing jobs, 7-48
     error codes, 11-33                  setting parameters, 7-29
     system error messages, 11-28        shutting down, 7-37
   KS10 central processor                starting, 7-35
     halt-status codes, 10-16            stopping, 7-36
     loading automatically, 4-1        LINK-10 linking loader, 3-3
     loading from disk, 4-4            Load switches, 5-4
       nondefault parameters, 4-8        DECSYSTEM-2020, 4-1
     loading from magnetic tape, 4-6     DECTAPE, 5-4
       nondefault parameters, 4-8        ENABLE/DISABLE, 5-4
     loading procedures, 4-4             FLOPPY, 5-4
       default parameters, 4-4           SW/REG, 5-4
       nondefault file, 4-10           LOCK switch, 4-1
       nondefault parameters, 4-7      Log file closure, 9-1
     powering up, 4-3                  Logbook
     reloading from disk, 4-5            crash information, 10-4
     stopping and restarting             parity or NXM error, 10-12
         communications, 9-46          Logging
                                         disabling, 9-1
               -L-               -L-                       enabling, 9-1
                                       LPFONT.INI file, 7-35
   Label processor, 7-3                LPFORM.INI file, 7-40
   Labeled tapes, 9-7, 9-11            LPTSPL program, 7-3
   Labels, 9-3
                                                   -M-   Languages, 3-1                                  -M-
   Laser printers, 2-6
     LPFONT.INI file, 7-35             MDA (Mountable Device Allocation),
   Lat Control Program                     7-4, 9-15
     changing counters, 7-58           Memory
     displaying activity, 7-58           core, 2-3
     resetting parameters, 7-56          interleaved, 11-43
     setting parameters, 7-56            internal, 2-3
     starting, 7-57                      MOS, 2-3
     stopping, 7-58                      off-line, 11-43
   LCP commands                          reconfiguring, 11-43
     CLEAR, 7-56                         resetting, 11-57
     SET, 7-56                           storage units, 2-2


                                  Index-4
                                        


   Memory (Cont.)                      Network (Cont.)
     system errors, 10-11, 11-41         tables, 9-42
   Message of the day, 8-1             Nodes, 9-43
   Microprocessor, 2-4                 Nonboot CPU, 5-32
     communicating with, 4-6           Nondefault monitor file, 5-22
     console program, B-1              Nonpolicy CPU, 5-1
     crash recovery, 10-2              NOTICE.TXT file, 8-1
     error messages, 10-17             NQC streams, 7-19
     ROM code, 4-5                       continuing, 7-21
   Microprocessor commands, B-3          displaying parameters, 7-22
     BOOT commands, B-4                  displaying status, 7-22
     deposit commands, B-9               setting parameters, 7-20
     enable/disable commands, B-5        shutting down, 7-21
     error messages, B-12                starting, 7-20
     examine commands, B-6               stopping, 7-20
     mark/unmark microcode commands,   Null job, 10-6
         B-7                           NXM errors, 4-5, 10-12
     miscellaneous commands, B-7
                                                   -O-     read CRAM commands, B-8                       -O-
     select device commands, B-8
     set commands, B-9                 Operator messages in BACKUP, E-18
     start/stop clock commands, B-10   Operator privileges, 6-2
   Monitor, 3-1                        OPR commands
     automatic dump and reload, 10-4     ABORT BATCH-STREAM, 7-26
     loading choices, 5-4                ABORT FAL-STREAM, 7-17
     manual dump and reload, 10-5        ABORT NQC-STREAM, 7-20
   Monitor startup questions, 4-10,      ALIGN PRINTER, 7-41
       5-22                              BACKSPACE PRINTER, 7-42
     error messages, 5-23                CANCEL BATCH-REQUEST, 7-28
   MOS memory, 2-3, F-1                  CANCEL MOUNT-REQUEST, 9-15,
   Mount requests, 9-20                      9-25
     answering, 9-17                     CLOSE, 9-1
     canceling, 9-15                     CONTINUE BATCH-STREAM, 7-11
     displaying, 9-30                    CONTINUE FAL-STREAM, 7-18
     tape, 9-7                           CONTINUE NQC-STREAM, 7-21
   Mountable Device Allocation (MDA),    CONTINUE PRINTER, 7-36
       7-4, 9-15                         DEFINE, 7-16
   Mounting                              DISABLE LOGGING, 9-1
     tapes, 9-10                         DISABLE STRUCTURE-RECOGNITION,
   Multiple operators, 6-3                   9-29
                                         DISABLE VOLUME-RECOGNITION,
               -N-               -N-                           9-10, 9-29
                                         DISMOUNT, 9-12, 9-14, 9-21,
   NEBULA program, 7-3                       9-22
   NETLDR program, 9-39                  ENABLE LOGGING, 9-1
   NETLDR.INI file, 9-40                 ENABLE STRUCTURE-RECOGNITION,
   Network                                   9-29
     communications, 9-46                ENABLE VOLUME-RECOGNITION, 9-11,
     host, 5-24                              9-29
     node, 5-24                          FORWARDSPACE PRINTER, 7-43
     software                            HOLD BATCH-JOBS, 7-24
       2780/3780, 9-42                   HOLD PRINTER-JOBS, 7-47, 7-48


                                  Index-5
                                        


   OPR commands (Cont.)                OPR commands (Cont.)
     IDENTIFY, 9-12                      STOP NQC-STREAM, 7-20
     LOCK, 9-21                          STOP PRINTER, 7-36
     MODIFY, 9-33                        SUPPRESS PRINTER, 7-44
     MODIFY BATCH-REQUEST, 7-27        OPR program, 7-3
     MOUNT, 9-11, 9-12, 9-17, 9-20       exiting, 6-2
     NEXT, 7-78                          HELP, 6-6
     RECOGNIZE, 9-13, 9-20               remote station commands, 9-43
     RELEASE BATCH-JOBS, 7-25            reprinting commands, 6-6
     RELEASE PRINTER-JOBS, 7-48          running, 6-1
     REPORT, 9-39                        syntax errors, 6-10
     REQUEUE BATCH-STREAM, 7-27        OPR.ATO file, 11-46, F-1
     RESPOND, 9-36, 9-37               OPSER program, 3-3
     SEND, 9-36, 9-37                  ORION program, 6-2, 7-3
     SEND BATCH-STREAM, 7-12             log file, 9-1
     SET, 7-16                           ORION to OPR messages, 6-8
     SET NQC-STREAM, 7-20
                                                   -P-     SET PRINTER, 7-29                             -P-
     SET TAPE-DRIVE, 9-2
       switches, 9-3                   Paper-tape punch spooler, 7-4
     SET TAPE-DRIVE command, 9-15      Parity errors, 10-12
     SET USAGE, 8-2                    PARSER program, 5-7, 5-8, C-1
     SHOW PARAMETERS BATCH-STREAM,       commands, C-2, C-6
         7-13                              OPERATOR mode, C-6, C-10,
     SHOW PARAMETERS FAL-STREAM,               C-15
         7-18                              PROGRAMMER mode, C-7, C-11
     SHOW PARAMETERS NQC-STREAM,         console modes, C-4
         7-22                            error messages, 11-16
     SHOW PARAMETERS PRINTER, 7-37       exiting, 5-8, C-2
     SHOW QUEUES BATCH-JOBS, 7-23        help facility, C-5
     SHOW QUEUES MOUNT-REQUEST, 9-30     prompts, C-1
     SHOW QUEUES PRINTER-JOBS, 7-45    PARSER.LOG file, 11-60
     SHOW ROUTE-TABLE, 9-46            PDP-8A, 5-29
     SHOW STATUS BATCH-STREAM, 7-14    Peripheral devices, 2-4
     SHOW STATUS FAL-STREAM, 7-19      Peripherals
     SHOW STATUS NETWORK-NODE, 9-44      powering up, 4-3
     SHOW STATUS NQC-STREAM, 7-22      PIP program, 3-3
     SHOW STATUS PRINTER, 7-38         Plotter spooler, 7-4
     SHOW STATUS STRUCTURE, 9-25       Plotters, 2-9
     SHOW STATUS TAPE-DRIVE, 9-8       Policy CPU, 5-1
     SHOW SYSTEM LISTS, 9-32           Port number
     SHUTDOWN, 9-43                      specifying, 5-25, 5-26
     SHUTDOWN FAL-STREAM, 7-18         Power failures, 10-22, 11-52
     SHUTDOWN NQC-STREAM, 7-21         POWER switch, 4-1
     SHUTDOWN PRINTER, 7-35, 7-37      Print forms
     START BATCH-STREAM, 7-10            aligning, 7-41
     START FAL-STREAM, 7-17              backspacing, 7-42
     START NODE, 9-43                    forwardspacing, 7-43
     START NQC-STREAM, 7-20            Print queue, 7-45
     START PRINTER, 7-35               Processor
     STOP BATCH-STREAM, 7-11             console/diagnostic, 2-3, 3-1
     STOP FAL-STREAM, 7-17               front-end, 2-3


                                  Index-6
                                        


   PROTECT switch, 4-2                 Software Error Report, 10-1, 11-1
   PULSAR program, 7-3                 SPFORM.INI file, 7-66
                                       Spooler
               -Q-               -Q-                       card punch, 7-4
                                         line printer, 7-3
   QUASAR program, 7-4                   paper-tape punch, 7-4
   Queue manager, 7-4                    plotter, 7-4
   QUEUE program, 7-4                  SPRINT program, 7-3
                                       SPROUT program, 7-4
               -R-               -R-                     SSL
                                         See System lists
   REACT program, 8-2                  STOP stopcodes, 10-10, 11-13
   REMOTE DIAGNOSIS switch, 4-2        Stopcodes, 10-8, 11-11
   Remote nodes, 6-3                     warm restart, 11-60
   REMOTE operator privileges, 6-2     Stopping the system, 9-51
   Remote stations, 2-10, 9-39         Structure recognition, 9-20
     DN20 stations, 9-42               Structures
     DN80 stations, 9-39, 9-42           answering mount requests, 9-17
     DN92 stations, 9-39, 9-42           canceling mount requests, 9-25
     down-line loading, 9-39             displaying status, 9-25
     OPR commands, 9-43                  locking, 9-21
   Removing a structure, 9-22            mounting, 9-20
   Removing system hardware, 9-49        mounting with an alias, 9-20
   RESET switch, 4-1                     removing, 9-22
   Rocker switches, 4-1, 5-2             unlocking, 9-21
   Role switching, 5-32                Suspending the system, 9-52
   ROM code, 4-5                       SW/REG load switch, 5-4, 5-5
   Routing display, 9-46               Switch register, 5-6
   RSX-20F, 3-1                          definitions, 5-17
     command language processor, 5-7   Switches
     detecting KL10 crash, 11-2          BOOT11 program, 5-26
     front-end file system, 5-1          DECSYSTEM-2020, 4-1
     loading choices, 5-4                DTELDR program, 5-28
     loading from DECtape, 5-14          DX10 BOOTDX, 5-29
     loading from disk, 5-10             DX20 BOOTDX, 5-30
     loading from floppy disks, 5-12,  Symmetric multiprocessing (SMP)
         5-13                              systems, 2-1, 11-53
     loading with switch register,       loading and starting, 5-1, 5-32
         5-16                            rejoining, 11-57
   RUNOFF, 3-3                           restarting nonpolicy CPU, 5-35
                                         running, 5-31
               -S-               -S-                       splitting, 11-54
                                       SYSCHK question, 5-22
   SDL                                 System
     See System lists                    crash, 10-1, 10-3, 11-1
   SET SCHED command, 9-40               diagnosis using KLINIK, 10-14,
   Setting memory off-line, 11-43            11-49
   Shutting down the system, 9-51        error recovery, 11-9
   Single-processor system, 5-1          logbook, 1-4
   SMP                                   scheduling, 9-40
     See Symmetric multiprocessing       setting, 9-40
         (SMP) systems                   startup


                                  Index-7
                                        


   System                              TGHA program (Cont.)
     startup (Cont.)                     history file, F-1
       running TGHA, F-1                 trace file, F-1
   System backup, 8-6                  Time stamp, 6-8
   System crash recovery, E-14         Timesharing halting, 4-5, 5-12
   System file structure analysis,     TM78 controller, 9-2
       8-9                             TOPS-10 monitor, 3-1
   System lists, 9-32                  Trailer labels, 9-3
     active swapping list (ASL),
                                                   -U-         9-32                                      -U-
     modifying, 9-33
     system dump list (SDL), 9-32,     Unlabeled tapes, 9-7, 9-12
         A-4                           Usage accounting, 8-2
     system search list (SSL), 9-32    USAGE.OUT files, 8-2
   SYSTEM operator privileges, 6-2     Utilities, 3-3
   SYSTEM.CMD file, 7-9, 9-1
                                                   -V-                                                   -V-
               -T-               -T-
                                       Vertical format unit (VFU), 2-6
   Tape drives, 2-8, 5-22, 9-10        Volume labels, 9-3
     displaying status, 9-8            Volume recognition, 9-10, 9-20
     sharing, 9-2                        disabled, 9-12
   Tapes                                 enabled, 9-11
     dismounting, 9-14
                                                   -W-     initializing, 9-2                             -W-
     labeled, 9-7, 9-11
     mounting, 9-10                    Warm restart
     unlabeled, 9-7, 9-12                exec mode, 11-62
   TECO program, 3-3                     fault continuation, 11-59
   Terminals, 2-9                        stopcodes, 11-60
   TGHA program, F-1                   Warning messages for BACKUP, E-22
     commands, F-2                     WRF stopcode, 11-62
     exiting, F-2                      WRJ stopcode, 11-60





















                                  Index-8
