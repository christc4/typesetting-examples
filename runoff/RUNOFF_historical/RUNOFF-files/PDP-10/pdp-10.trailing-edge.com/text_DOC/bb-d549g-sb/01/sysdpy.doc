


SYSDPY.DOC -- Changes from V433(550) to V434(562)
June 1979






























COPYRIGHT (C) 1974,1979 BY
DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.


THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
TRANSFERRED.

THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
CORPORATION.

DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR  RELIABILITY  OF  ITS
SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
SYY434.DOC                                                      Page 2


SYSDPY.DOC -- Changes from V433(550) to V434(562)
June 1979



1.0  SUMMARY

SYSDPY  is  a  program  designed  to   dynamically   display   various
parameters,  statistics,  etc.,  for  both  selected  jobs  and/or the
time-sharing system as a whole.  Basically SYSDPY is  a  SYSTAT  which
runs  on  selected  video  terminals  in an update-mode where only the
information which changes actually gets re-typed.

SYSDPY V434(562) has been considerably enhanced  to  more  effectively
serve the 7-series "SMP" TOPS-10 monitors.

While the major operational concepts of SYSDPY remain  unchanged  many
of the fine details (of the "N" display in particular) are different.

A user's manual for SYSDPY has been written.

This release of SYSDPY runs under either the 6.03 (or 6.03A)  or  7.00
TOPS-10 monitors and supersedes all previous versions.



2.0  EXTERNAL CHANGES

SYSDPY V434(562) has many changes visible to the user, both small  and
large.   Many  of the displayed fields (especially in the "N" display)
have been added, removed, or redefined.

There are several new commands available as well.

For a detailed guide to the care and feeding of SYSDPY  V434(562)  the
user is referred to the user's guide file SYSDPY.MAN.



3.0  KNOWN BUGS AND DEFICIENCIES

There are no known bugs or deficiencies in  SYSDPY  V434(562)  running
under a 7.00 monitor.

However, when running SYSDPY V434(562) under a 6.03 (or 6.03A) monitor
several fields are not properly displayed:

     The TI and TO job states in the "J", "M", and "N" displays;
     The network I/O counts in the "N" display;
     The per-cpu disk I/O counts in the "N" display.
SYY434.DOC                                                      Page 3


4.0  INSTALLATION INSTRUCTIONS

The build procedure for SYSDPY  V434(562)  is  considerably  different
from previous versions.

The source files required for SYSDPY assembly are:

     SYSDPY.RND;
     SYSDPY.RNM;
     SYSDPU.MAC;
     SYSDPY.MAC.

The universals required for SYSDPY assembly are:

     S.UNV as generated by the monitor build procedure;
     JOBDAT.UNV;
     MACTEN.UNV;
     UUOSYM.UNV;
     GLXMAC.UNV as generated by the galaxy batch system;
     QSRMAC.UNV as generated by the galaxy batch system;
     ORNMAC.UNV as generated by the galaxy batch system.

First the  .DOC  and  .MAN  (changes-documentation  and  user's  guide
respectively) files should be generated with RUNOFF:

     .R RUNOFF
     *SYSDPY.DOC=SYSDPY.RND     ;.DOC FILE FOR CHANGES
     *SYSDPY.MAN=SYSDPY.RNM     ;.MAN FILE FOR USER'S GUIDE/MANUAL

Then the SYSDPU universal must be assembled:

     .R MACRO
     *=SYSDPU                   ;SYSDPY PARAMETER FILE

Finally the various versions  of  SYSDPY  for  the  various  types  of
terminals may be assembled:

     .R MACRO
     *SYSXXX=TTY:,DSK:SYSDPY    ;ASSEMBLE SYSDPY FOR
     V.DISP=NNN                 ; TERMINAL TYPE NNN, WHERE NNN=
                                ;  ^O00 FOR VT06 (SYSDPY);
                                ;  ^O01 FOR VT05A (SYSDPA);
                                ;  ^O02 FOR VT05B (SYSDPB);
                                ;  ^O03 FOR VB10C (SYSVBX);
                                ;  ^O04 FOR VT61 (SYSV61);
                                ;  ^O05 FOR VT50 (SYSV50);
                                ;  ^O06 FOR VT52 (SYSV52);
                                ;  ^O20 FOR HAZELTINE 2000 (SYSHZL);
                                ;  ^O21 FOR TELTERM (SYSDLT).
     ^Z
     ^Z
     .R LINK
     *SYSXXX/SAVE=SYSXXX/GO     ;LOAD AND SAVE APPROPRIATE VERSION(S)
SYY434.DOC                                                      Page 4


5.0  INTERNAL CHANGES

The internal changes to SYSDPY V434(562) are quite extensive.  Much of
the  code has been revamped to make it more understandable and/or more
maintainable.  In general the code for support  of  pre-6.03  monitors
has been removed.

Following is the actual edit history as it appears in the source  file
for edits 551 through 562 inclusive:

;EDIT    551    FIX AVERAGES OF EDIT 544

;EDIT    552    FIX DEVJOB SO OWNER OF DEVICE IS CORRECT

;EDIT    553    VT50 CANNOT (IN GENERAL) CURSOR ADDRESS; NTAVG VALUE FOR
;               "\" DISPLAY WRONG (MONITOR INFORMATION STILL ALMOST
;               USELESS HOWEVER); "T" HISTOGRAM POWERS OF 2 OFF BY ONE;
;               "DEVICE BY HOW" FIELD TOO SMALL FOR "HOW" FOR 5 & 6 CHAR
;               DEVICE NAMES (IF 72-COLUMN TERMINAL ONLY 2 COLUMNS CAN
;               NOW FIT ON SCREEN); DON'T SHOW HISEG STUFF ON VT50 SINCE
;               IT CONFLICTS WITH DEV BY HOW FIELD (AND NEITHER WORKS AS
;               A RESULT); ALLOW FOR 3-DIGIT NODE NUMBERS IN "T" DIS-
;               PLAY; IMPLEMENT "O" COMMAND TO TOGGLE SUPPRESSION OF
;               [OPR] JOBS ON "N" AND "M" DISPLAYS

;EDIT    554    FIX ^A AND ^R COMMANDS - ALSO, IF REVERSE VIDEO MODE
;               AND REFRESHING, REFRESH SCREEN IN NORMAL MODE THEN GO
;               BACK TO REVERSE VIDEO FOR UPDATING; ON EXIT CLEAR BOTH.

;EDIT    555    GETTAB THE PJOBN INFO (7.01) IF POSSIBLE; DON'T SHOW THE
;               DUMMY DDB'S USED FOR TAPE LABELING; SHOW TTY DDB'S NOT
;               CONTROLLING A JOB (I.E., IN USE AS AN I/O DEVICE)

;EDIT    556    USE .GTNDB TABLE IF EXTANT FOR NDB POINTERS. CLEANUP.

;EDIT    557    DON'T PRINT INCREMENTAL SYSTEM UPTIMES
;               CALL VERSION 434

;EDIT    560    PRINT TRUE USER MEMORY AVAILABLE. ADD "L" COMMAND
;               TO LOG THE SCREEN IN LPT:SYSDPY.LOG[-].

;EDIT    561    ADD "Q" COMMAND TO LIST THE QUEUES, COMPRESS "T"
;               DISPLAY TO ALLOW FOR MORE NEIGHBORS. ADD (KL ONLY)
;               RH20 AND PI USAGE DISPLAYS TO "N" DISPLAY.

;EDIT    562    ADD "N+" AND "N-" COMMANDS. SHOW SECOND UNIT OF DUAL-
;               PORTED DISKS IN "F" DISPLAY. (NOTE THAT THIS DEPENDS ON
;               DSKCHR RETURNING THE SECOND PORT INFORMATION, WHICH
;               IT DOESN'T IN EARLY 7.00 MONITORS. DATE PRINTED WRONG.
;               SHOW CACHE SWEEPS ON KS-10 ALSO. "J" DISPLAY DIDN'T DO
;               INCREMENTAL RUNTIMES CORRECTLY. NEW VALUES FOR GALAXY
;               SYMBOLS. LOG TO DSK:SYSDPY.LOG INSTEAD. CLEAR BOTTOM OF
;               SCREEN ON EXIT (GENERAL VOTE SEEMS TO PREFER THIS OVER
;               CLEARING ENTIRE SCREEN AND POSITIONING TO HOME).
SYY434.DOC                                                      Page 5


6.0  SUGGESTIONS

None.



[End of SYY434.DOC]

[SYY433.DOC is appended as an integral past of SYY434.DOC]
SYY433.DOC                                                      Page 6


SYSDPY.DOC -- Changes from V432 to V433(550)
September 1976



1.0  SUMMARY

The  F  display  logic  has  been  updated  to  support   large   disk
configurations by making the display pageable.

If a display with the auto roll feature off  uses  only  part  of  the
screen,  then  the  next  passes  will keep adding data to the display
until all lines are used.

Unprivileged users will have TTY line numbers displayed.

This release supports all  monitors  up  to  602  and  supersedes  all
previous versions.



2.0  EXTERNAL CHANGES

None.



3.0  KNOWN BUGS AND DEFICIENCIES

None.



4.0  INSTALLATION INSTRUCTIONS

Compile with C.UNV and JOBDAT.UNV on UNV:.



5.0  INTERNAL CHANGES

EDIT #

507  On DC72 (DECSYNC version) a VT05B will not work at  a  2400  baud
     rate  as  0  fill  characters  disappear, this is due to the DC72
     being assembled with feature switch FTT OFN .NEQ.  0.

510  Display line numbers for unprivileged users by using  the  TRMNO.
     and DEVNAM UUO.

511  Start using the new format of "NUMTAB table" with load 721.

512  Start using the new devjob entry in DDB's.

513  Make the F display pageable.
SYY433.DOC                                                      Page 7


514  Correct errors in 602 device logic.

515  Correct character input logic

516  Make C file a universal file.

517  Correct errors introduced by edit 513.

520  Wait a while between displays to give a user the time to read the
     display.

521  Refresh the screen when changing the display program.

522  Fix the "disappearing" M display.

523  Fix refresh problem.

524  Allow any character to escape from a frozen screen.

525  Use HRRZ to get .MONVER instead of a MOVE.

526  The PEEK facility was not recognized.

527  Do not display an empty F display.

530  Adapt to changed JUMPPT macro.

531  Unprivileged jobs get data for CPU1 on a single CPU system.

532  Add the monitor high segment size to the monitor size.

533  Search universal JOBDAT file for JOBDAT bymbols.

534  Jobs locked into core cannot refresh the screen.

535  Too many "DEV BY HOW" headers are printed when a display ends  at
     the bottom of a column.

536  D display hangs for an unpriviliged user

537  D display contains a right parenthesis between the W  column  and
     the swap ratio column.

540  Add VT61 support

541  Add VT50 support

542  Add VT52 support

543  Add Network Topology "WT" display

544  Add Network statistics display

545  Add individual print line for one job on normal display
SYY433.DOC                                                      Page 8


546  Add Control R and A for VT61 support

547  Make Edits 540 thru 547 work

550  Make Edit 542 work



6.0  SUGGESTIONS

None.



[End of SYY433.DOC]

[SYY432.DOC is appended as an integral part of SYY433.DOC]
SYY432.DOC                                                      Page 9


SYY432.DOC -- Changes from V1 to V2
June 1974



1.0  SUMMARY

This version of SYSDPY  supports  up  to  monitor  6.01  with  virtual
memory.  The main changes are:

     1.  SYSDPY uses less CPU time

     2.  A M display has been added

     3.  More help is supplied

Note:  No DATE75 dependency



2.0  EXTERNAL CHANGES


2.1  M Display

The M display is activated by  typing  the  M  command.   The  display
consists of 2 sections:

     1.  General system information on the first 2 lines

     2.  A header line followed by job data

The general information displays on:

line 1 the system identification
     the current system paging rate
     (in page faults per second).

line 2 the maximum amount of available
     virtual memory and the amount
     currently in use.

The output format is:

     VM (MAX=XXX, USED=YYY)

The maximum paging rates for both the system and user in the format:

     PGR.(SYS=XXX, USER=YYY)

The accumulated page fault counts of page faults with page not in  the
working set (NIW) and the page faults with the page in the working set
(IW).  The format is:

     PFC NIW=XXX IW=YYY
SYY432.DOC                                                     Page 10


The job data displayed is very similar to the normal  display.   Three
new columns are added:

     1.  VIRT.  Under this heading is printed:

              LOW + HIGH(MAX) where:

         LOW=size of low segment if job is virtual else 0

         HIGH=size of high segment if job is virtual else 0

         MAX=maximum possible amount of virtual core.

     2.  PHYS.  Under this heading the physical guideline is printed.

     3.  PGR.  Paging rate in page faults per second.


2.2  Additional Help Messages

A set of additional displays have been added to  inform  the  user  of
restrictions  to  which  he is subjected.  An unprivileged user cannot
run the F display as he lacks SPY or PEEK privileges.  All these  help
texts are automatically replaced by the normal display.


2.3  Screen Updating

The updating of the screen is done  in  one  pass  and  no  longer  by
updating the left half followed by the right half.



3.0  KNOWN BUGS AND DEFICIENCIES

None.



4.0  INSTALLATION INSTRUCTIONS

None.
SYY432.DOC                                                     Page 11


5.0  INTERNAL CHANGES

     1.  The construction of the display image has  been  considerably
         sped  up by taking out unnecessary code and replacing GETTABs
         by SPY and PEEK operations is possible.

     2.  Swap error counts were computed in the wrong way.



[End of SYY432.DOC]
