


OMOUNT.DOC -- Changes from V26B(110) to V27(200)
August 1979






























COPYRIGHT (C) 1973,1975,1978,1979 BY
DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.


THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
TRANSFERRED.

THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
CORPORATION.

DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR  RELIABILITY  OF  ITS
SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
OMT27.DOC                                                       Page 2


OMOUNT.DOC -- Changes from V26B(110) to V27(200)
August 1979



1.0  SUMMARY

This version of OMOUNT contains several bug  fixes  and  improvements,
but  primarily is being shipped with 700 to complete the functionality
of mounting and dismounting packs in the active swapping list.



2.0  EXTERNAL CHANGES

None.



3.0  KNOWN BUGS AND DEFICIENCIES

None.



4.0  INSTALLATION INSTRUCTIONS

None.



5.0  INTERNAL CHANGES

If a structure being removed comprises pack(s) which are in the active
swapping  list,  then  the  operator  will be warned.  If the operator
proceeds, then OMOUNT will have the monitor migrate swapping off those
pack(s) prior to unloading their drives.

If a structure is being composed of packs whose  home  blocks  suggest
that  the  pack(s) have space allocated for swapping, then OMOUNT will
ask the monitor to add those units to the active swapping list.   Note
that  the  pack's  home  block  must  also  suggest that it occupies a
particular slot in the active swapping list (from the  last  time  the
pack  was used for swapping).  If the pack has space for swapping, but
was not previously marked as being in the active swapping  list,  then
the monitor will not add that pack's unit to the active swap list.



[End of OMT27.DOC]

[OMT26B.DOC is appended as an integral part of OMT27.DOC]
OMT27.DOC                                                       Page 3


OMOUNT.DOC -- Changes from V26A(107) to V26B(110)
August 1978



1.0  SUMMARY

This version of OMOUNT has no bug fixes.  It  is  being  shipped  with
603A  and  only  includes the edit which was sent in a correction file
with 6.03, applied to the field image version 26(107).

OMOUNT version 26B is  documented  in  the  operators  manual  in  the
software  notebooks.   There  are  no  changes  to  the  documentation
required because of this release.



2.0  EXTERNAL CHANGES

None.



3.0  KNOWN BUGS AND DEFICIENCIES

This version does not include any answered SPR's after  SPR  #10-16468
(June 1975).



4.0  INSTALLATION INSTRUCTIONS

None.



5.0  EXTERNAL CHANGES

Edit #

110    OMOUNT can't handle RP06's because a half word  instruction  is
       used for setting up for SUSET.



[End of OMT26B.DOC]

[OMT26A.DOC is appended as an integral part of OMT26B.DOC]
OMT26A.DOC                                                      Page 4


OMOUNT.DOC -- Changes from V26 to V26A(107)
July 1975



1.0  SUMMARY

This version of OMOUNT  includes  several  bug  fixes.   It  is  being
released  with UMOUNT 26A as part of the 6.02 monitor release.  OMOUNT
26A is required for the 6.02 monitor and it  is  suggested  that  this
release  of  OMOUNT be installed prior to installing the 6.02 monitor.
OMOUNT 26A also corrects  all  bugs  reported  through  SPR  10-16,468
(June, 1975).

OMOUNT version 26A runs on  all  monitors.   It  has  been  tested  on
6.01B/5.07B  and 6.02.  It fully supports the DATE-75 project.  OMOUNT
version 26A fully supersedes all previous versions.

OMOUNT version 26A is  documented  in  the  operators  manual  in  the
software  notebooks.   There  are  no  changes  to  the  documentation
required because of this release.



2.0  CHANGES

100  Make this version 26A

101  Mount and dismount will give 'undefined device' on six  character
     device names (6.02)

102  Two instructions wasted - replace [SPR 10-16,239].

103  More 6-character device name support for file commands:

     1.  Give  OPR  choice  of  available  DECtapes  based  on   being
         available to this job as opposed to assigned by this TTY

     2.  In typing this name replace code that puts single unit number
         in  parentheses  with  simple type out of first available DTA
         device

104  Too many tape ID descrepency messages typed cause leading  zeroes
     code uses wrong AC.  [SPR 10-16,537].

105  Get rid of USETI and replace with SUSET.  UUO

106  Access date bug in FILE R.  [SPR 10-16,476].

107  DATE76 bug in UFD date - creation date high order bits clobbered.
     [SPR 10-16,476].
OMT26A.DOC                                                      Page 5


3.0  KNOWN BUGS AND DEFICIENCIES

None.



4.0  INSTALLATION INSTRUCTIONS

None.



[End of OMT26A.DOC]

[OMT26.DOC is appended as an integral part of OMT26A.DOC]
OMT26.DOC                                                       Page 6


OMOUNT.DOC -- Changes from V25 to V26
April 1975



1.0  SUMMARY

This release of OMOUNT and UMOUNT  incorporates  bug  fixes  and  much
development.  The highlights of this development are:  faster and more
intelligent command file processing,  FACT  file  accounting,  DECtape
label  checking,  improved operator messages and control of resources,
tape error handling, RP04 support, and several new  switches  for  the
operator  and  user  to  add  to  the  flexibility of the use of these
programs.  In addition, it is more reliable than older versions.

They have been tested with 5.06B/5.07/5.07A/6.01A.

The new user features will be  documented  in  the  Operating  Systems
Commands  Manual,  under  FILE,  DISMOUNT,  and  MOUNT  commands.  New
operator features will be documented in a revised OMOUNT specification
and in the Operator's Guide, both in the Software Notebooks.



2.0  EXTERNAL CHANGES


2.1  OPERATOR(OMOUNT)

This section follows the format of the OMOUNT specification.

     1.  General Introduction

         OMOUNT signals that it is ready to accept top-level  commands
         with  a  "/",  and  that it is scanning the request queue for
         user commands with a "!".

     2.  The "Proceed?" Question

         a.  Two new replies exist:

             WAIT   Defer the request and wait for Operator input (see
                    GO under Operator commands below).

             PAUSE  Wait for Operator input after  completing  current
                    request.

         b.  The Operator may defer a request for a specified time by

             /DEFER:  'time' where 'time' is mm or hh:mm.  The maximum
                    is 24 hours.

         c.  ST is a valid abbreviation for START.
OMT26.DOC                                                       Page 7


     3.  'MOUNT' Request Service

         a.  Non-File Structured Devices.

             The old messages typed to MOUNT a device  have  undergone
             cosmetic  changes only.  The Operator's replies have been
             extended, however:

             1.  The Operator may change controllers (e.g MTA to MTB).

             2.  WAIT,  PAUSE  and  DEFER:time  are   added   as   for
                 "Proceed?".

             3.  ST is a valid abbreviation for START.

             A major change  involves  MOUNTing  Magtape  and  DECtape
             wherein   the  requested  Tape-id  and  write-status  are
             checked.  If either disagrees with the information stored
             on the tape, the Operator is told and given the choice to
             ignore, change drives or tapes, or cancel the request.

         b.  File Structures.

             Except for changes in the form of  messages,  no  changes
             exist  except  in  the  Operator's  possible replies to a
             MOUNT request.  As  in  the  "Proceed?"  dialogue,  WAIT,
             PAUSE  and  DEFER:time are possible and he may change the
             controller.  Once the F/S is mounted it is  added  either
             to  the  user's  active  search  list with or without the
             "create" capability or to the passive search list.


                                       NOTE

                 Operator  may  reply  "n"  to   drive   selection
                 messages for disk whereas older versions required
                 a full device name, eg DPA0.


     4.  'DISMOUNT' Request service.

         a.  Non-File Structured devices.

             Since the user may request a device to be  released  (the
             only  choice in previous releases), reassigned to another
             job, or kept by his job, the Operator is informed of  the
             user's  choice  and  given  the "Proceed?" question.  His
             replies are standard.

         b.  File Structures

             Dismount requests are queued to the  Operator  only  when
             the  /REMOVE  switch  is  specified.   A change in UMOUNT
             prevents /REMOVE requests from non-[1,2] jobs from coming
             to  the  Operator  if  one of the following conditions is
OMT26.DOC                                                       Page 8


             met:

             1.  Mount count is non-zero.
             2.  F/S is in the System Search List.
             3.  F/S is in the Active Swapping List.
             4.  F/S contains STRLST.SYS.
             5.  F/S contains queue ([3,3] UFD).

             If a /REMOVE request detects any of these conditions, the
             Operator is informed and asked "Proceed?".  Normally, the
             request should be cancelled if any of the conditions  are
             true.   The  mount-count  condition  can  be inspected by
             typing "WAIT";  "USERS str";  "GO" in sequence.   If  the
             Operator  answers "YES" to "Proceed?", the F/S is removed
             from all users' search lists and purged from the system.

     5.  'FILE' Request Service

         In addition to older actions, the  Tape-id  and  write-status
         are checked as described in the MOUNT Request service above.

     6.  Operator Commands (differences only)

         a.  MOUNT str/NOSEARCH works for  all  supported  drives  and
             controllers  and  the  drive-type  and name are validated
             once the drive is physically mounted.

         b.  REMOVE str/NOCHECK is  a  new  feature  that  allows  the
             Operator  to  dismount  an  off-line  unit.   It prevents
             accesses to the disk and as a result OMOUNT is unable  to
             check for the existance of STRLST.SYS.  Thus the Operator
             must  be  careful  and  OMOUNT  will  warn  him  of  this
             possibility.   On  any  REMOVE,  the  other  four  checks
             discussed in the DISMOUNT Request service  are  performed
             and the "Proceed?" dialogue is invoked if appropriate.

         c.  USERS.  The argument ALL must now be entered in  standard
             switch  format  ("/").   USERS/PRIVATE  is  a new feature
             which will give the typical  information  on  only  those
             structures not in the System Search List or Active Search
             List.  Additionally, the format and contents of the USERS
             type-out  has  changed  to be more complete and readable;
             all units in the above-mentioned lists are so  marked  by
             "SYS" and/or "SWP".

         d.  PAUSE and WAIT  tell  OMOUNT  not  to  process  any  user
             commands  until GO or START is typed.  They permit him to
             suspend processing temporarily without changing the types
             of requests for which OMOUNT is enabled.

         e.  GO clears the  WAIT  or  PAUSE  state  such  that  OMOUNT
             continues  processing  the  type(s)  of user requests for
             which it is enabled.

         f.  ST is a valid abbreivation for START, which  in  addition
OMT26.DOC                                                       Page 9


             to old functions, clears the WAIT or PAUSE condition.

         g.  WHAT is more specific about the type(s) of requests it is
             processing.

         h.  EXIT causes OMOUNT to return to monitor level.  It may be
             resumed by typing .CONTINUE.

         i.  NODEFER and DEFER have been added to help  in  processing
             deferred  commands.  NODEFER causes all deferred commands
             to processed without regard for the /AFTER switch's time.
             DEFER resets this and is the default.

     7.  Related information

         a.  Finding out what's in OMOUNT queues.   The  Operator  can
             find  what is currently in the OMOUNT queues by using the
             Monitor commands

                  FILE C
                  MOUNT /CHECK
                  DISMOUNT /CHECK

             when logged in under [1,2].

         b.  The "No Operator Present" condition  (SCHED  400).   When
             this  bit  is  set  UMOUNT will reject all FILE and MOUNT
             commands  that  require  Operator  action.   Furthermore,
             UMOUNT  will  ignore the /REMOVE option if given on a F/S
             DISMOUNT command.  SCHED 400 is designed to be set by the
             Operator  when  he will not be attending the computer for
             extended  periods  of  time.   It  is  commonly  used  at
             installations  which  leave  one shift of computer uptime
             without Operator coverage.

         c.  The "No Operator  Intervention"  condition  (SCHED  100).
             When this bit is set, UMOUNT will not send MOUNT commands
             to the Operator when it can  process  the  MOUNT  itself.
             This occurs when an output-only device is requested to be
             mounted.

         d.  Several messages have been changed to  be  more  accurate
             and  almost all known bugs have been fixed.  (See Current
             Known Deficiencies.)

         e.  All requests from a user cause either  OMOUNT  or  UMOUNT
             (not both) to generate a FACT File entry in a new "MOUNT"
             format.  This format parallels the  "SPOOL"  format  with
             the following exceptions.

             In word 1, the code is 271 and  the  job  number  is  the
             UMOUNTer's  unless  it  is judged to be invalid;  then it
             would be OMOUNT's job number.  It is always OMOUNT's  job
             number for FILE commands.
OMT26.DOC                                                      Page 10


             In word 3, the queue name byte is:

                  UM - UMOUNT mount command
                  UD - UMOUNT dismount command
                  OM - OMOUNT mount command
                  OD - OMOUNT dismount command
                  OF - OMOUNT file command

             Words 4-7 are used only by OMOUNT  and  in  the  standard
             way.   Runtime is in milliseconds and KCT is in kilo-core
             centi-seconds.

             Word 8 is the device involved in the request.

             Word 10 is used as follows:

                  LH - 0 if the request failed and  is  1  if  it  was
                       successful.
                  RH - The clock time used by OMOUNT  to  service  the
                       request in seconds.

             DEC accounting software,  MONEY  and  FACTPR,  have  been
             changed  to  process  code  271  entries  and  are  being
             released with this version.


2.2  USER

     1.  General changes (MOUNT, DISMOUNT, and FILE).

         a.  UMOUNT fully supports RP04 drives.

         b.  The user can now type-ahead after a command  through  the
             ^C-Intercept  feature.   At the 'Waiting...' message, the
             user may,

             1.  type monitor-level commands  that  will  be  executed
                 upon the successful completion of the request;  or
             2.  type 2 ^C's to exit and not wait.


                                         NOTE

                     One ^C and altmode no longer have any  effect
                     except to be treated as type-ahead.


             The 'Waiting...' message is changed to 'Waiting...   type
             2 ^C's to exit' to remind users of this change.

         c.  The command line of all commands  is  completely  checked
             for  the correct syntax.  In the past sometimes a command
             was only partially checked and  some  erroneous  commands
             were processed as a result.
OMT26.DOC                                                      Page 11


         d.  The Operator can defer queued  requests  at  his  option.
             This   should   be  of  immense  value  in  synchronizing
             competing commands for the same device,  especially  when
             issued from a Batch job.

         e.  All messages are in upper/lower case for ease of  reading
             on terminals so equipped.

         f.  The message "Operator Notified" was changed  to  "Request
             Queued", since that is its true meaning.

         g.  These commandS now have help files displayed  by  typing,
             for example, "HELP MOUNT" or "MOUNT /HELP".

         h.  The "/CHECK" option to list  queued  requests  will  work
             without  the  user  being  logged in.  When typed without
             being  logged  in,  "/CHECK"  will  display  the   entire
             appropriate  queue.  This feature will not work without a
             change to the monitor that allows UMOUNT to  run  without
             being  logged  in.   This  change is not in any supported
             monitors up through 6.01b.

         i.  Commands for different jobs running under  the  same  PPN
             will  no  longer  get  listed  in  response  to  "/CHECK"
             commands issued by a job.

         j.  MOUNT and DISMOUNT now have /WAIT and  /NOWAIT  switches.
             /WAIT is intended to be used as follows:

             1.  If  no  device  precedes  it  and   nothing   (except
                 comments)  follows  it,  it  causes  a  check for any
                 pending requests.  If any  exist  in  the  queue  the
                 'Waiting...type  2  C's to exit' message is typed and
                 UMOUNT waits for all pending requests to be  serviced
                 by the Operator.
             2.  If a device is specified, the  request  is  processed
                 normally  and if a request is queued to the Operator,
                 the 'Waiting...type 2 C's to exit' is typed.   OMOUNT
                 waits  for only this request to be serviced.  In this
                 interpretation of /WAIT, it is the  default  for  all
                 MOUNTs   and   batch   DISMOUNTs.    /NOWAIT  is  the
                 complement and is the default for DISMOUNTs issued by
                 a time-sharing job.

         k.  MOUNT and  DISMOUNT  commands  for  spooled  devices  are
             correctly  processed.   This  was  not  true in the past.
             Also, MOUNT commands for device NUL:  are  now  correctly
             processed.

         l.  Comments starting with ";" or "!" may end a command line.

     2.  MOUNT COMMAND

         a.  Logical-name handling.  The  MOUNT  command  now  handles
             logical  names  more  rationally.   If  you issue a MOUNT
OMT26.DOC                                                      Page 12


             command with  a  previously-assigned  logical  name,  the
             logical   name   will  be  transferred  from  the  device
             previously assigned to the device just mounted.   If  you
             issue  a  MOUNT command for one tape drive, say MTA1, and
             you are assigned the other tape drive (MTA2), if you  did
             not specify a logical name, physical tape drive MTA2 will
             be given logical name MTA1 so that  Batch  Control  files
             referencing  MTA1 will work correctly.  The MOUNT command
             will never permit you to generate multiple MOUNT requests
             specifying the same logical name.

         b.  Magtape or DECtape protection features.  When mounting  a
             Magtape  or  DECtape, the setting of the /WRITE switch as
             set by the operator on the drive assigned and the VID  of
             the  mounted  DECtape  or  REELID  of mounted Magtape are
             confirmed before the MOUNT request is completed.

         c.  Visual-identification of DECtapes.  The  /VID  switch  is
             used  to  tell  the operator the DECtape # to be mounted.
             It is mandatory for all DECtape mount requests and MOUNTs
             for  input-only  devices such as CDR:  since the Operator
             needs to know which deck to load.  The DECtape number  is
             given  following  the  switch,  e.g.,  /VID:9999.  If the
             DECtape is not numbered, you describe  it  by  putting  a
             message  enclosed  in  single-  or  double-  quote  marks
             following the switch,  e.g.,  /VID:'FRIDAY  FAILSAFE  FOR
             [77,167]'.  The text may be as long as 50 characters.

         d.  Visual-Identification of Magtapes.   The  /REELID  switch
             continues  its  use  as  in  the  previous  releases that
             supported it.  Both the /VID  and  /REELID  switches  are
             required  for  DECtape  and Magtape, respectively, unless
             conditional assembly switches are altered.


                                       NOTE

                 The feature  test  switches,  VIDRID  and  RIDSW,
                 should  be examined closely to determine the best
                 combination for each installation.



         e.  Write-protection switches.  If a MOUNT does not go to the
             operator,  UMOUNT  will  inform the monitor of the REELID
             for its error reporting.  The  MOUNT  command  recognizes
             two   added   write-protection   switches.    They   are:
             /WRITE:YES, /WRITE:NO.  The user is requesting  to  write
             on  the  device  mounted  if /WRITE:YES is specified.  He
             will not be permitted to do so if /WRITE:NO is specified.
             The  default  is  /WRITE:NO  for  tapes (both Magtape and
             DECtape),  and  /WRITE:YES  for  disks.    Since   OMOUNT
             enforces  the  write-status  of  all tapes, the user must
             specify /WENABLE if he  wishes  to  write  on  the  tape.
             Older  versions  of OMOUNT and UMOUNT did not enforce the
OMT26.DOC                                                      Page 13


             write-status.  Users may have been mounting tapes without
             /WENABLE  and  then  wanting  to write on the tape.  This
             version's enforcement may force users to add the /WENABLE
             switch to batch CTL files to avoid errors in jobs that do
             write on tape.  OMOUNT does not enforce the  write-status
             of disk so this should not present any problem.

         f.  File-structure switches.  When mounting a file  structure
             (private  disk pack) there are some switches which permit
             the user to specify some of its  search-list  attributes.
             The  switches /ACTIVE and /PASSIVE specify whether to put
             the structure in the active or passive search  list.   If
             it  is in the active search list, then it becomes part of
             DSK:  and is automatically searched.   Otherwise,  it  is
             not  automatically  searched, but is merely available for
             use.  The switches /CREATE and /NOCREATE specify  whether
             files   are   to   be  created  on  that  file  structure
             automatically if it is in the active search  list.   Note
             that  /CREATE  and  /NOCREATE  always imply /ACTIVE.  The
             switches /WRITE:YES and  /WRITE:NO  specify  whether  any
             files ever will be written on that structure if it is the
             active search list.

         g.  The /SHOVE switch can be used to force a MOUNT request to
             the  Operator if SCHED 400 is set.  For completeness, the
             /NOSHOVE switch exists as the complement and the default.

         h.  UMOUNT response upon successful MOUNT.  The name of  tape
             drive assigned by the Operator is always displayed.  When
             mounting a file structure that is previously mounted, the
             mount-count  of  the  structure  will  be  displayed.  In
             addition, the physical unit ID & drive number will not be
             given unless specific device specifications were given.

         i.  The feature that the Operator must use the specific drive
             chosen  by  the user is not the default but may become so
             by changing a conditional in UMOUNT.

     3.  DISMOUNT COMMAND.

         a.  Device reassignment.  In the  past,  a  device  was  left
             assigned  to  a job if the user typed ^C when waiting for
             the DISMOUNT command to be completed.  It was  deassigned
             if  the  user  waited  patiently  for  the DISMOUNT to be
             completed.  This has been  changed.   The  user  controls
             whether  to  deassign  the device or not by the /RELEASE,
             /KEEP,  and  /REASSIGN:n   switches.    These   switches,
             respectively, release the device, keep it assigned to the
             job,  and  reassign  it  to  job  'n'.   The  default  is
             /RELEASE.  /REASSIGN is illegal for restricted devices.


                  NOTE:  FACT File  entries  are  not  written  for  a
                  /KEEP.   If  a  /REASSIGN  is  done  a 'UD' entry is
                  generated for the dismounter but no 'UM'-type  entry
OMT26.DOC                                                      Page 14


                  is  written  for the job receiving assignment of the
                  device.   Since  /REASSIGN  is   not   allowed   for
                  restricted  devices,  users cannot use the /REASSIGN
                  to avoid being charged for  the  use  of  restricted
                  devices.   Also  note  that  the logical name is not
                  reassigned with the device.


         b.  Device positioning.  In the past,  the  DISMOUNT  command
             attempted  to unload any tape drive dismounted.  This was
             not always desired, and it caused problems when the  tape
             had  been previously unloaded.  The default is UNLOAD but
             can be changed by the UNLOSW conditional.   If  the  user
             "KEEP's"  the  device, he may controls the positioning of
             the tape by the /UNLOAD,  /REWIND,  and  /STAY  switches.
             These switches specify, respectively, that the tape is to
             be unloaded, rewound, or left in place.  Furthermore, the
             DISMOUNT command will not hang up if a /UNLOAD or /REWIND
             operation is attempted at a tape drive where the tape has
             been previously unloaded.


                                       NOTE

                 Unless /KEEP is used, the positioning  under  the
                 UNLOSW   conditionalis  performed  regardless  of
                 positioning switches (eg.  MOUNT  DTAn/STAY  will
                 unload the DECtape.



         c.  Removing file structures.   If  the  /UNLOAD  or  /REMOVE
             switch is given to a private or public disk that is still
             in use by other jobs, the DISMOUNT  command  will  ignore
             the  switch  unless the user is [1,2].  A message will be
             given when the switch is ignored.  Note that the  /UNLOAD
             and  the  /REMOVE switches are equivalent.  When a F/S is
             to be removed, OMOUNT will check to see if the  structure
             is  in the Active Swapping List, instead of only checking
             for the existence of swapping space.

         d.  The Operator  will  be  notified  of  all  DISMOUNTs  for
             non-file  structured  devices  that  reassign, release or
             unload;  and for file structures that generate a remove.

         e.  Quota checking is not done for [1,2] users.

     4.  FILE COMMAND.

         a.  Additional file specifications.   The  FILE  command  now
             supports  device  (e.g.,  PRVQ:, DSKB:) specifications on
             the FILE F, Z, and R commands.  In addition, for the FILE
             commands  that transfer files from disk to DECtape (e.g.,
             FILE  F  and  Z  commands),  you   may   now   give   PPN
             specifications  to  transfer  a file from some other disk
OMT26.DOC                                                      Page 15


             area to your DECtape.  If part of the [P,PN] is not given
             ([,30]),  UMOUNT  will  fill  in what's missing with that
             part of the user's [P,PN].  You may also  transfer  files
             from your library area by specifying device LIB:.

         b.  Wild-character support.  The FILE command now  recognizes
             the  wild-character  "?", as well as the wild-card "*" in
             file names or extensions.   Wild-card  or  wild-character
             files  being  transferred  from  disk  to DECtape will be
             searched for from every structure in  the  user's  active
             search list.

         c.  Increased file security.  The  FILE  command  now  checks
             protection  on all files transferred to or from the disk.
             On reading a file from disk, the protection is checked to
             see  if  the file can be legally read.  On writing a file
             to disk, if a file with the same name already exists, the
             protection  of  that  file is checkED to see if it can be
             superseded.  The protection of  the  DECtape's  directory
             file  (nnn.DIR)  is  always  checked  to see if it can be
             updated.

         d.  Directory file changes.  The directory file  (tapeid.DIR)
             is  written on the first writable file structure that has
             the user's UFD.  The format of  the  directory  file  has
             been slightly changed to be compatable with the directory
             files written by the DIRECT command.  The  new  directory
             file  is  always  available  for  typing after the FILE W
             command returns to Monitor mode.  Improved  and  expanded
             error  messages  are  written  into the directory file if
             such  errors  occur  when  the  FILE  command  is   being
             processed.

         e.  I/O error handling.  Partial files are never  written  on
             disk or DECtape.  In the past, partial files were created
             when I/O errors occurred  when  reading  or  writing  the
             file.  This includes the commonly-occurring error of "Not
             enough room on DECtape."

         f.  Synchronization  of  FILE   command   processing.    FILE
             commands  from a Batch job always do a FILE W to wait for
             their completion.  This was done  so  that  a  Batch  job
             cannot  generate huge numbers of FILE commands in a short
             period of time thus monopolizing the FILE  command  queue
             and  creating  backlogs for other users.  This feature is
             under a conditional.

         g.  Listing of queued FILE commands.  The  listing  generated
             after a FILE request is queued will give only the listing
             of the request just entered, as well as the usual  number
             of requests in the queue.

         h.  All FILE command-specific code is under the  conditional,
             FTFILE so that it may be removed if not desired.  
OMT26.DOC                                                      Page 16


3.0  KNOWN BUGS AND RESTRICTIONS


3.1  Bugs or restrictions introduced in version 26

     1.  Neither OMOUNT or UMOUNT support Level-C Monitors  and  won't
         again!

     2.  If the operator removes a  file  structure  with  a  non-zero
         mount-count,  no  FACT  accounting will be done.  He must get
         users to do DISMOUNTs before removing the file  structure  to
         assure that the proper FACT accounting gets done.


3.2  Bugs or restrictions introduced prior to verson 26

     1.  OMOUNT can get an ?ILL MEM REF AT USER PC nnnnnn if there  is
         a consistency failure between the home blocks and what OMOUNT
         anticipates.

     2.  If the packid on a disk  differs  from  that  in  STRLST.SYS,
         OMOUNT  will  Query with "Proceed?".  If the Operator answers
         "Y" and UMOUNT mounts it, a user issuing a MOUNT for the same
         structure  will get hung in UMOUNT.  After typing the packid,
         UMOUNT sticks in DS state with the structure thrashing.

     3.  If a FILE R command takes a user over quota, no DIR  file  is
         produced.

     4.  Dismount quota checking does not include quota used in SFD's.

     5.  MOUNT DECA, where DECA is a F/S and DEC is an  ersatz  device
         is  currently  restricted.   Both  MOUNT  and OMOUNT get very
         confused with names like this.



4.0  INSTALLATION INSTRUCTIONS

The following files are being released as part of this release.

     UMOUNT.CTL
     UMOUNT.MAC
     UMOUNT.SHR
     MOUNT.HLP
     DISMOU.HLP
     FILE.HLP
     OMOUNT.CTL
     OMOUNT.MAC
     OMOUNT.SHR
     OMT26.RND - OMOUNT/UMOUNT DOC file (this file)

It is not recommended to run multiple OMOUNTs that  process  the  same
type  of  commands  (FILE,  or  MOUNT-DISMOUNT) because OMOUNT can get
caught in sticky race and synchronization situations.
OMT26.DOC                                                      Page 17


MONEY 17b(23) and FACTPR 2a(43) are  being  concurrently  released  to
support  MOUNT  FACT entries (code 271).  See their DOC files for more
information.

Several feature test switches have been added or slightly  changed  in
each  program.   They  are  documented  in the CTL files and MAC files
themselves.


                                 NOTE

               **WARNING**  A  small  risk  was   taken
               towards  the end of field test to assure
               that  OMOUNT   was   accurate   in   its
               appraisal  of  the  write-status  of all
               supported  magtape  controllers.    This
               consisted of doing a MTCHR.  UUO instead
               of the losing DEVSTS, which will  return
               different     bits     for     different
               controllers.  This has been tested  only
               in house on TM10 controllers and may not
               work on TC10's.  User's with TC10's will
               have  to  verify  that  their version of
               TCASER maintains these bits properly.





5.0  SUGGESTIONS

     1.  Allow PPN on FILE R commands.

     2.  Implement ability to mount scratch tapes.

     3.  Have OMOUNT be able to communicate better with user about the
         status  of  a  request.   Similarly,  teach  UMOUNT to better
         assess the results of a MOUNT, eg.  the reelid of a Magtape.

     4.  Teach OMOUNT to check and enforce write-status for disk.

     5.  Implement a FORCE command in OMOUNT so  Operator  can  better
         control resource allocation.

     6.  Change UMOUNT to deal only with physical devices.   That  is,
         if one device is assigned as the logical name for another and
         then referred to in a MOUNT, DISMOUNT  or  FILE  command,  it
         should  be treated as a physical name not as the logical name
         for the other device.  Eg.,

              ASSIGN DSKB DSKC
              DISMOUNT DSKC

         would remove DSKC, whereas the current version  would  remove
         DSKB.
OMT26.DOC                                                      Page 18




                                     NOTE

             We want the field's views on this one before thinking
             further about implementing it.



     7.  Notify the operator whenever  a  private  file  structure  is
         mounted  or  dismounted  so he can better schedule resources.
         Perhaps require his confirmation for MOUNTs as well  even  if
         file  structure  is  already mounted.  Perhaps, also, further
         refine this to include varying actions for batch and T/S.

     8.  Add UNLOAD and REWIND commands to OMOUNT.

     9.  For file structure MOUNTs, have equivalent of LOGIN's  /QUOTA
         and  recomputation.   Do automatic recomputation on MOUNT and
         DISMOUNT if the number of blocks used  is  greater  than  100
         blocks  over  the  logged-out quota, or is less than 0, or is
         unreasonably large, eg, greater than 777777(8).

    10.  Have REELID and VID be substitutable for each other.  This is
         implemented  in  UMOUNT  edits 64,65 under turned off feature
         tests.

    11.  Add MOUNT/CHECK to OMOUNT.

    12.  Add feature to OMOUNT to write a new tape label on DECtape.  



[End of OMT26.DOC]

[OMT23.DOC is appended as an integral part of OMT26.DOC]
OMT23.DOC                                                      Page 19


OMT23.DOC -- Changes from V22(13) to V23(35)
July 1972



1.0  SUMMARY

Some bug fixed.

OMOUNT  is  documented  in  Software  Notebook   Vol. 7,   Programming
Specifications, OMOUNT.



2.0  EXTERNAL CHANGES

If the operator does not respond  to  a  request  within  "SLPSW"  (5)
minutes  the  OMOUNT  request  is  retyped.   "SLPSW" is a conditional
assembly parameter with a default value of five (5).

"/WHAT" may be typed  whenever  OMOUNT  is  waiting  for  an  operator
response (i.e., PROCEED?).  "/WHAT" causes the current request and TTY
dialogue to be retyped.  "RPTSIZ" is  a  conditional  assembly  switch
whose  value  determines  the  amount  of TTY dialogue to save for the
"/WHAT" switch.  Default value is 100 words.

The message "---DONE---" is not typed if the request is aborted.



3.0  KNOWN DEFICIENCIES

     1.  The  selection  of  units  for  RP03  disk   packs   is   not
         flawless--e.g.   The  'Available Units' list may contain RP02
         drives.



4.0  INSTALLATION REQUIREMENTS

OMOUNT has been tested on 504B, 505 and 506 monitors.  OMOUNT  version
23 requires UMOUNT version 21.



5.0  INTERNAL CHANGES

(EDIT 14)      Make /SINGLE switch (MOUNT command) work correctly.

(EDIT 15)      Add  DBUGSW  and  R12SW  assembly   switches   to   aid
               debugging.

(EDIT 16)      Use TWOSEG instead  of  HISEG  so  can  load  DDT  with
               2-segment version.
OMT23.DOC                                                      Page 20


(SPR 10-6636)  After an illegal command is processed OMOUNT  does  not
               flush the rest of the line.

(SPR 10-6651)  Eliminate the second listing of the /VID message on the
               operators console.

(SPR 10-6870)  If the operators does not repond to  a  request  within
               five  minutes retype the OMOUNT request.  The number of
               minutes to HIBERnate is determined by  the  conditional
               assembly parameter "SLPSW" whose default value is 5.

(SPR 10-6936)  Don't use devices assigned to job 0.

(SPR 10-7230)  When mounting structures look for quotas in  AUXACC.SYS
               if not found in QUOTA.SYS.

(SPR 10-7902)  OMOUNT attempts to delete the UFD if the first block of
               the UFD is empty.

(SPR 10-8425)  Don't type "---DONE---" if the request was aborted.

(SPR 10-8181)  Do DEVCHR with  the  physical-only  bit  set  to  avoid
               "System Error @ 40XXX, Cant Open..." error message.

(SPR 10-8594)  File commands using wild-cards (*) don't always work if
               the users search list differs from [1,2]'s search list.

(SPR 10-7961)  Allow other than RP10's to be mounted.

(SPR 10-8736)  "USERS" command fails if unit name is other  than  four
               letters wide.

(EDIT 32)      Accept "/WHAT" as an operator  response.   The  current
               request and TTY dialogue will then be retyped.

(SPR 10-8844)  Before reassigning a "MOUNTED" device to the user's job
               make  sure  the  job's  current  PPN  agrees  with  the
               request's PPN.

(SPR 10-8601)  When dismounting a structure use the logged  out  quota
               found in the UFD for quota check if quota-out not found
               in QUOTA.SYS or AUXACC.SYS.

(EDIT 35)      Mount DPA1 gives "System Error ..."  and  the  code  at
               MOFS1  assumes  a DSKCHR was done but that's not always
               true.



[End of OMT23.DOC]
