                         WESTERN MICHIGAN UNIVERSITY
                               COMPUTER CENTER
 
LIBRARY PROGRAM #1.9.4
CALLING NAME:  RMAOV
PREPARED BY:  BERENICE HOUCHARD
PROGRAMMED BY:  SAM ANEMA
STATISTICAL CONSULTANT:  DR. MICHAEL STOLINE
APPROVED BY:  JACK R. MEAGHER
DATE:  JANUARY, 1973
 
                 ANALYSIS OF VARIANCE WITH REPEATED MEASURES
 
1.0  GENERAL DESCRIPTION
 
THIS PROGRAM IS DESIGNED TO HANDLE THE FOLLOWING UNBALANCED 2-FACTOR REPEATED
MODEL:
 
                                                 B
 
                                            B(1)  ...       B(IQ)
        ------------------------------------------------------------------------
               A(1)    S(1)               X(1,1,1)   ...  X(1,1,IQ)
                       .                      .               .
                       .                      .               .
                       .                      .               .
                       S(N(1))            X(1,N(1),1) ... X(1, N(1), IQ)
        ------------------------------------------------------------------------
               A(2)    S(1)               X(2,1,1)   ...  X(2,1,IQ)
                       .                      .               .
                       .                      .               .
                       .                      .               .
                       S(N(2))            X(2,N(2),1) ... X(2,N(2),IQ)
   A
        ------------------------------------------------------------------------
                       .
                       .
                       .
        ------------------------------------------------------------------------
               A(IP)   S(1)               X(IP,1,1)   ... X(IP,1,IQ)
                       .                      .               .
                       .                      .               .
                       .                      .               .
                       S(N(IP))           S(IP,N(IP),1) ... X(IP,N(IP),IQ)
        ------------------------------------------------------------------------
 
*REFERENCE:  WINER, B.J.  "STATISTICAL PRINCIPLES IN EXPERIMENTAL DESIGN"
 (MCGRAW-HILL, 1962) PP. 306-307.
 
THERE ARE IP LEVELS ON FACTOR A WHICH IS BETWEEN SUBJECTS.
 
THERE ARE IQ LEVELS ON FACTOR B WHICH IS WITHIN SUBJECTS.
 
THERE ARE N(I) SUBJECTS FOR LEVEL (GROUP) I OF FACTOR A AND IQ REPEATED
OBSERVATIONS ON EACH SUBJECT.
 
1.1  PROGRAM OUTPUT
 
THE PROGRAM PRODUCES 2 TABLES:
 
   (A)  MEAN TABLE
   (B)  ANOVA TABLE
 
CASE 1  1-WAY REPEATED MEASURE ANOVA
 
--------------------------------------------------------------------------------
 
           SOURCE                 SS       DF       MS       F       PROB
 
--------------------------------------------------------------------------------
 
BETWEEN SUBJECTS - - -
 WITHIN SUBJECTS - - -
      B- - - - - - - -
 
 RESIDUAL  - - - - - -
   TOTAL - - - - - - -
 
--------------------------------------------------------------------------------
 
CASE 2  2-WAY REPEATED MEASURE ANOVA
 
--------------------------------------------------------------------------------
 
           SOURCE                 SS       DF       MS       F       PROB
 
--------------------------------------------------------------------------------
 
BETWEEN SUBJECTS - - - - - -
      A- - - - - - - - - - -
 
SUBJECTS WITHIN GROUPS - - -
    WITHIN SUBJECTS- - - - -
         B - - - - - - - - -
        AB - - - - - - - - -
 
B X SUBJECTS WITHIN GROUPS -
         TOTAL - - - - - - -
 
--------------------------------------------------------------------------------
 
1.2  LIMITATIONS
 
   (1)  MAXIMUM OF 30 LEVELS IN THE REPEATED FACTOR WHERE THE BREAKDOWN VARIABLE
        IS INCLUDED.
 
   (2)  MAXIMUM OF 30 GROUPS
 
   (3)  MAXIMUM OF 30 SUBJECTS PER GROUP
 
   (4)  2 LINES ARE ALLOTTED FOR OBJECT TIME FORMAT, EACH LINE BEING 80 COLUMNS
        LONG.
 
2.0  PROGRAM CAPABILITIES AND OPTIONS
 
THIS PROGRAM CAN BE PROCESSED BY BATCH OR BY TERMINAL.  THE PROGRAM IS IN
CONVERSATIONAL MODE TO ALLOW INTERACTION WITH THE USER ON TERMINAL JOBS.
 
2.1  PROGRAM OUTLINE
 
FOLLOWING IS AN OUTLINE OF THE PROGRAM OPTIONS.  THE QUESTIONS AND STATEMENTS
LISTED BELOW WILL BE TYPED OUT BY THE PROGRAM IN WHICH A RESPONSE IS IMPERATIVE
TO EACH LINE.  ON BATCH JOB, MAKE UP ONE CARD FOR EACH APPROPRIATE QUESTION OR
STATEMENT.
 
LINE 1  OUTPUT?
LINE 2  INPUT?
 
LINES 1 AND 2 DEFINE WHERE THE USER INTENDS TO WRITE HIS OUTPUT FILE (LINE 1)
AND FROM WHERE THE USER EXPECTS TO READ HIS INPUT DATA (LINE 2).  SEE NOTE (2)
BELOW FOR OTHER INPUT OPTIONS.
 
A PROPER RESPONSE TO EACH OF THESE QUESTIONS CONSISTS OF THREE BASIC PARTS:
A DEVICE, A FILENAME, AND A PROJECT-PROGRAMMER NUMBER.
 
THE GENERAL FORMAT FOR THESE THREE PARTS IS AS FOLLOWS:
 
                  DEV:FILE.EXT[PROJ,PROG]
 
1)  DEV:  ANY OF THE FOLLOWING DEVICES ARE APPROPRIATE WHERE INDICATED:
 
              DEVICE LIST             DEFINITION            STATEMENT USE
 
                  TTY:                TERMINAL              INPUT OR OUTPUT
                  DSK:                DISK                  INPUT OR OUTPUT
                  CDR:                CARD READER           INPUT ONLY
                  LPT:                LINE PRINTER          OUTPUT ONLY
                  DTA0:               DECTAPE 0             INPUT OR OUTPUT
                  DTA1:               DECTAPE 1             INPUT OR OUTPUT
                  DTA2:               DECTAPE 2             INPUT OR OUTPUT
                  DTA3:               DECTAPE 3             INPUT OR OUTPUT
                  DTA4:               DECTAPE 4             INPUT OR OUTPUT
                  DTA5:               DECTAPE 5             INPUT OR OUTPUT
                  DTA6:               DECTAPE 6             INPUT OR OUTPUT
                  DTA7:               DECTAPE 7             INPUT OR OUTPUT
                  MTA0:               MAGNETIC TAPE 0       INPUT OR OUTPUT
                  MTA1:               MAGNETIC TAPE 1       INPUT OR OUTPUT
 
INPUT MAY NOT BE DONE FROM THE LINE PRINTER NOR MAY OUTPUT GO TO THE CARD
READER
 
2)  FILE.EXT IS THE NAME AND EXTENSION OF THE FILE TO BE USED.  THIS PART OF
THE SPECIFICATION IS USED ONLY IF DISK OR DECTAPE IS USED.
 
3)  [PROJ,PROG]  IF A DISK IS USED AND THE USER WISHES TO READ A FILE IN
ANOTHER PERSON'S DIRECTORY, HE MAY DO SO BY SPECIFYING THE PROJECT-PROGRAMMER
NUMBER OF THE DIRECTORY FROM WHICH HE WISHES TO READ.  THE PROJECT NUMBER
AND THE PROGRAMMER NUMBER MUST BE SEPARATED BY A COMMA AND ENCLOSED IN BRACKETS.
OUTPUT MUST GO TO YOUR OWN AREA.
 
EXAMPLE:
          OUTPUT?  LPT:/2
          INPUT?   DSK:DATA.DAT[71171,71026]
 
IN THE EXAMPLE, TWO COPIES OF THE OUTPUT ARE TO BE PRINTED BY THE HIGH SPEED
LINE PRINTER.  THE INPUT DATA IS A DISK FILE OF NAME DATA.DAT IN USER DIRECTORY
[71171,71026].
 
DEFAULTS:
 
1)  IF NO DEVICE IS SPECIFIED BUT A FILENAME IS SPECIFIED THE DEFAULT DEVICE
    WILL BE DSK:
 
2)  IF NO FILENAME IS SPECIFIED AND A DISK OR DECTAPE IS USED THE DEFAULT ON
    INPUT WILL BE FROM INPUT.DAT; ON OUTPUT IT WILL BE OUTPT.DAT.
 
3)  IF THE PROGRAM IS RUN FROM THE TERMINAL AND NO SPECIFICATION IS GIVEN (JUST
    A CARRIAGE RETURN) BOTH INPUT AND OUTPUT DEVICES WILL BE THE TERMINAL.
 
4)  IF THE PROGRAM IS RUN THROUGH BATCH AND NO SPECIFICATION IS GIVEN, (A
    BLANK CARD) THE INPUT DEVICE WILL BE CDR: AND THE OUTPUT DEVICE WILL BE
    LPT:.
 
5)  IF NO PROJECT-PROGRAMMER NUMBER IS GIVEN, THE USER'S OWN NUMBER WILL BE
    ASSUMED.
 
       (1)  IF LPT: IS USED AS AN OUTPUT DEVICE MULTIPLE COPIES MAY BE OBTAINED
            BY SPECIFYING LPT:/N WHERE N REFERS TO THE NUMBER OF COPIES DESIRED.
 
       (2)  THE FOLLOWING TWO OPTIONS ARE NOT APPLICABLE FOR THE FIRST DATA SET,
            I.E., IT IS APPLICABLE ONLY WHEN THE PROGRAM BRANCHES BACK TO LINE
            2 UPON FIRST COMPLETION OF LINES 1-8.
 
            (A)  SAME OPTION
 
                 UPON RETURNING FROM LINE 8, IF THE SAME DATA FILE IS TO BE USED
                 AGAIN, SIMPLY ENTER "SAME<CR>", OTHERWISE, EITHER USE THE
                 FINISH OPTION OR ENTER ANOTHER FILENAME, ETC.
 
            (B)  FINISH OPTION
 
                 THE USER MUST ENTER "FINISH<CR>" TO BRANCH OUT OF THE PROGRAM.
                 FAILURE TO DO SO MIGHT RESULT IN LOSING THE ENTIRE OUTPUT FILE.
 
LINE 3  FORMAT:  (F-TYPE ONLY)
 
THERE ARE 3 OPTIONS AVAILABLE FOR THE FORMAT, NAMELY:
 
       (A)  STANDARD FORMAT OPTION
 
            UNLESS OTHERWISE SPECIFIED, THE PROGRAM ASSUMES THE STANDARD OPTION.
            IN THIS OPTION, THE DATA ARE ARRANGED IN GROUPS OF 10 PER LINE, TWO
            VALUES BEING SEPARATED BY A COMMA.
 
            TO USE THIS OPTION, SIMPLY TYPE IN "<CR>" ON TERMINAL JOBS OR USE A
            BLANK CARD FOR BATCH JOBS.
 
       (B)  OBJECT TIME FORMAT OPTION
 
            IF THE DATA IS SUCH THAT A USER'S OWN FORMAT IS REQUIRED, SIMPLY
            ENTER A LEFT PARENTHESIS FOLLOWED BY THE FIRST FORMAT SPECIFICATION,
            A COMMA AND THE SECOND SPECIFICATION, ETC.  WHEN YOU FINISH ENTER
            A RIGHT PARENTHESIS, AND THEN A CARRIAGE RETURN.  THERE CAN BE A
            MAXIMUM OF 2 LINES FOR THE FORMAT, EACH LINE BEING 80 COLUMNS LONG.
            NOTE THAT THE FORMAT SPECIFICATION LIST MUST USE THE FLOATING
            POINT (F-TYPE) NOTATION AND MUST CONTAIN SPECIFICATION FOR EACH OF
            THE VARIABLES.
 
            IF A BREAKDOWN VARIABLE IS USED BE SURE TO INCLUDE A SPECIFICATION
            FOR IT IN THE FORMAT.  THE SPECIFICATIONS FOR THE FORMAT ITSELF ARE
            THE SAME AS FOR THE FORTRAN IV FORMAT STATEMENT.
 
       (C)  SAME OPTION
 
            IF AN OBJECT TIME FORMAT WAS USED ON A DATA SET AND THE SUCCEEDING
            DATA SET UTILIZES THE SAME FORMAT, SIMPLY ENTER "SAME<CR>".
 
LINE 4  ENTER IDENTIFICATION
 
ENTER A LINE OF UP TO 50 CHARACTERS TO BE PRINTED ABOVE YOUR OUTPUT.  IF YOU
WANT NO HEADING ENTER A "<CR>" ON TERMINAL JOBS OR A BLANK CARD ON BATCH JOBS.
 
LINE 5  ENTER NO. OF LEVELS IN THE REPEATED FACTOR
 
ENTER A NUMBER BETWEEN 1 AND 30 TO INDICATE THE NUMBER OF LEVELS IN THE REPEATED
FACTOR.
 
LINE 6  WOULD YOU LIKE TO USE A BREAKDOWN VARIABLE?
 
THE LEVELS IN FACTOR A (THE NON-REPEATED FACTOR) MAY BE DEFINED IN TWO WAYS.
 
       (1)  THE LEVELS MAY BE DEFINED BY AN ADDITIONAL VARIABLE CALLED
            A BREAKDOWN VARIABLE.  THE LEVELS ARE DEFINED BY SPECIFYING THE
            RANGE OF VALUES THE BREAKDOWN VARIABLE MAY ASSUME FOR EACH LEVEL.
            FOR EXAMPLE:  IF THE VALUES ENTERED IN LINE 6.2 ARE 3, 7, 9 ALL
            THOSE SUBJECTS FOR WHICH THE BREAKDOWN VARIABLE IS 3 OR LESS WOULD
            BE IN GROUP 1, ALL THOSE WHOSE BREAKDOWN VARIABLE IS GREATER THAN
            3 AND LESS THAN OR EQUAL TO 7 WOULD BE IN GROUP 2 AND ALL THOSE
            WHOSE BREAKDOWN VARIABLE IS GREATER THAN 7 AND LESS THAN OR EQUAL
            TO 9 WOULD BE IN GROUP 3.
 
       (2)  THE LEVELS MAY ALSO BE DEFINED BY SPECIFYING THE SIZES OF THE
            GROUPS AND SUBMITTING THE DATA IN ORDER OF THE GROUP, I.E., SUBMIT
            ALL SUBJECTS IN GROUP 1 BEFORE SUBMITTING GROUP 2 SUBJECTS, ETC.
 
            A YES RESPONSE TO LINE 6 WILL YIELD THE FIRST OPTION.  A NO WILL
            YIELD THE SECOND OPTION.
 
            IF THE ANSWER IS "NO", PROCEED TO LINE 7, OTHERWISE PROCEED TO
            LINE 6.1.
 
LINE 6.1  ENTER BREAKDOWN VARIABLE NUMBER
 
INDICATE THE RELATIVE POSITION OF THE BREAKDOWN VARIABLE TO THE DATA VARIABLES.
IF IT APPEARS FIRST ENTER 1.  IF IT APPEARS SECOND ENTER 2, ETC.
 
LINE 6.2  ENTER UPPER BOUNDS ON THE BREAKDOWN VARIABLE
 
ENTER THE UPPER LIMITS ON THE BREAKDOWN VARIABLE FOR EACH GROUP.  FOR A MORE
COMPLETE DESCRIPTION SEE (1) UNDER THE DESCRIPTION FOR LINE 6.
 
PROCEED TO LINE 8.
 
LINE 7  ENTER THE NUMBER OF SUBJECTS IN EACH GROUP
 
THE NUMBER OF SUBJECTS IN EACH LEVEL OF FACTOR A MUST BE SUBMITTED HERE.  SEE
(2) IN THE DESCRIPTION FOR LINE 6.
 
LINE 8  (A)  ENTER DATA.
        (B)  YOUR DATA IS BEING READ.
 
THE PROGRAM WILL TYPE OUT MESSAGE A IF IT IS A TERMINAL JOB AND THE INPUT DATA
IS TO BE ENTERED DURING EXECUTION TIME (I.E. WHILE RUNNING THE PROGRAM).
OTHERWISE, MESSAGE B WILL BE TYPED OUT.
 
IMPORTANT:  YOU MUST ENTER THE DATA ACCORDING TO THE FORMAT YOU CHOSE.
 
AFTER ANALYZING THE DATA, THE PROGRAM WILL BRANCH TO LINE 2, THE USER CAN EITHER
PROCESS ANOTHER DATA SET, IN THIS CASE REPEAT LINES 2 TO 8; OR EXIT FROM THE
PROGRAM IN THIS CASE ENTER "FINISH<CR>".
 
3.0  METHOD OF USE
 
PROCEDURE AND SETUP FOR TERMINAL AND BATCH JOBS DIFFER SLIGHTLY.
 
3.1  TERMINAL JOB
 
FOLLOWING A SUCCESSFUL LOGIN, THE USER TYPES "R RMAOV<CR>".  INTERACTION
BETWEEN USER AND PROGRAM BEGINS AT THIS POINT.  THE PROGRAM WILL TYPE OUT
THE APPROPRIATE QUESTION OR STATEMENT AS OUTLINED IN SECTION 3.1.
 
EXAMPLE:
 
THE FOLLOWING EXAMPLE IS TAKEN FROM *WINER'S, "STATISTICAL PRINCIPLES IN
EXPERIMENTAL DESIGN"  PAGES 306-307.  EXCEPT FOR OUTPUT? AND INPUT?
ALL LINES TERMINATED BY THE <CR> ARE ENTERED BY THE USER.
TERMINAL IS USED FOR BOTH INPUT AND OUTPUT AND STANDARD
FORMAT OPTION IS SELECTED.
 
.R RMAOV<CR>
---WMU REPEATED MEASURE ANOVA
OUTPUT?<CR>
INPUT?<CR>
FORMAT:  (F-TYPE ONLY)
<CR>
ENTER IDENTIFICATION
WINER PAGE 306 (SAMPLE TERMINAL RUN)<CR>
ENTER NO OF LEVELS IN THE REPEATED FACTOR
4<CR>
WOULD YOU LIKE TO USE A BREAKDOWN VARIABLE?
NO<CR>
ENTER THE NUMBER OF SUBJECTS IN EACH GROUP
3,3<CR>
ENTER DATA
0,0,5,3<CR>
3,1,5,4<CR>
4,3,6,2<CR>
4,2,7,8<CR>
5,4,6,6<CR>
7,5,8,9<CR>
WINER PAGE 306 (SAMPLE TERMINAL RUN)
 



                                   MEANS
 FACTOR                         FACTOR B
   A  SIZE       1         2         3         4
   1     3      2.333     1.333     5.333     3.000
   2     3      5.333     3.667     7.000     7.667



                 2 - WAY    REPEATED  MEASURE  ANOVA

          SOURCE                     SS      DF     MS        F     PROB

      BETWEEN SUBJECTS  - - -      68.2083    5    13.6417
            A - - - - - - - -      51.0417    1    51.0417  11.893 0.026
   SUBJECTS WITHIN GROUPS - -      17.1667    4     4.2917
       WITHIN SUBJECTS  - - -      69.7500   18     3.8750
            B - - - - - - - -      47.4583    3    15.8194  12.798 0.000
           AB - - - - - - - -       7.4583    3     2.4861   2.011 0.166
 B X SUBJECTS WITHIN GROUPS -      14.8333   12     1.2361
          TOTAL - - - - - - -     137.9583   23
 
INPUT? FINISH<CR>

3.2  BATCH JOB
 
THE FOLLOWING IS A BATCH JOB SETUP:  (EACH LINE REPRESENTS ONE CARD, EACH CARD
STARTING IN COLUMN 1; DO NOT INCLUDE THE COMMENTS AT THE RIGHT).  IF INPUT DATA
ARE NOT IN CARDS, SKIP THE SECTION FROM $DATA TO $EOD INCLUSIVE.
 
--------------------------------------------------------------------------------
 
                                          COMMENTS
 
   $JOB [#,#]                             JOB CARD; INSERT USER'S PROJECT-
                                          PROGRAMMER NUMBER WITHIN THE BRACKET.
 
   $PASSWORD ######                       IN PLACE OF THE 6#'S, PUT IN THE
                                          PASSWORD.
 
   $DATA                                  SIGNIFY BEGINNING OF DATA DECK.
 
         (DATA CARDS)                     INSERT THE DATA CARD DECK TO BE
                                          ANALYZED.
 
   $EOD                                   SIGNIFY THE END OF DATA CARD DECK.
 
   .R RMAOV                               START THE EXECUTION.
 
        (RESPONSES TO LINES 1-8 IN
        SECTION 2.1 REPEATED OR NOT)
 
   (EOF)                                  AN END-OF-FILE CARD.
 
--------------------------------------------------------------------------------
 
EXAMPLE:  FOLLOWING IS A BATCH JOB SETUP USING THE SAME EXAMPLE IN SECTION 3.1.
THE INPUT DEVICE IS CDR:, WHILE OUTPUT DEVICE IS LPT:
 
                                          COMMENTS
 
   $JOB [420,420]                         JOB CARD
   $PASSWORD                              PASSWORD
   $DATA                                  START OF INPUT DATA
   0,0,5,3
   3,1,5,4
   4,3,6,2
   4,2,7,8                                INPUT DATA CARDS
   5,4,6,6
   7,5,8,9
   $EOD                                   END OF DATA DECK
   .R RMAOV                               START EXECUTION
   LPT:                                   OUTPUT DEVICE IS LINE PRINTER
   CDR:                                   INPUT DEVICE IS CARD READER
     (A BLANK CARD)                       STANDARD FORMAT
   SAMPLE BATCH RUN                       IDENTIFICATION
   4                                      NO. OF LEVELS IN THE REPEATED FACTOR
   3,3                                    NO. OF SUBJECTS IN EACH GROUP
   FINISH                                 TO BRANCH OUT OF THE PROGRAM
   (EOF)				  AN END OF FILE CARD
