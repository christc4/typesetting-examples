


SYSERR.DOC -- Changes from V12(763) to V14(1267)
July 1979



























COPYRIGHT (C) 1972,1975,1978,1979 BY
DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.


THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
TRANSFERRED.

THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
CORPORATION.

DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR  RELIABILITY  OF  ITS
SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
SYR14.DOC                                                       Page 2


SYSERR.DOC -- Changes from V12(763) to V14(1267)
July 1979



1.0  SUMMARY

SYSERR is a program used to list the  contents  of  the  system  error
file.   It  is the report generating portion of the DECSYSTEM-20 Error
Detection, Recover, and Reporting Package.

SYSERR Version 14(1267) runs on TOPS20 Version 4.

SYSERR uses HELPER, SCAN, and the compatability package.

Documentation on how to run SYSERR and descriptions of report  formats
may be found in the TOPS-10 and TOPS-20 SYSERR Manual  (AA-D533A-TK).



2.0  EXTERNAL CHANGES

This  release  of  the  SYSERR  package  includes  the  following  new
functions:

     1.  FIX KLERR REPORTS  ( [] FIELD VALUES & VMA VALUE )
	  FORCE 3 DIGIT DRAM ADDRESS

     2.  NEW OPERATOR LOG ENTRY

     3.  MAKE S/N IN PAGE HEADER CHANGE WITH NEW S/N IN ENTRY

     4.  FIXED  S-BUS FUNCTIONS TO REPORT DMA CORRECTLY

     5.  ADDED /OCTAL SWITCH FOR DEBUGGING

     6.  ADD PROGRAM NAME STRING TO NETWORK REPORTS  (202 & 203)

     7.  ADD PROGRAM STRING OUTPUT TO NETWORK REPORTS

     8.  FIX BIT TRANSLATIONS FOR TU45

     9.  NEW SUMMARIES - BUGXXX BREAKOUT,  CHANNEL & DEVICE ERROR TOTALS

    10.  ADD CHECK11 REPORT  (222)

    11.  ADD CONFIGURATION STATUS CHANGE ENTRY  (115)

    12.  CHECK FOR ILLEGAL DIGITS IN BCD S/N - TYPE ? INSTEAD

    13.  ADD USER NAME TO BRIEF MASBUSS ENTRY

    14.  ADD DH11 STATUS REGISTER TO DH11 ENTRY  (130-3)

    15.  FIX /SEQ FOR FRONT END ENTRIES
SYR14.DOC                                                       Page 3

    16.  FIX RESYNC CODE TO HANDLE LARGE ENTRIES - STOPS SYSERR FROM DYING

    17.  MAKE WARNING MESSAGES COME OUT AT THE RIGHT TIME

    18.  FIX KS-10 CONI-APR TRANSLATION FOR 8080 INTERRUPT

    19.  ADD RECOGNITION OF TU77 DEVICE TYPE

    20.  OUTPUT *** INSTEAD OF 999 FOR FIELD OVERFLOW IN SUMMARIES



3.0  KNOWN BUGS AND DEFICIENCIES

       There is a problem in the monitor with the DX20 pointer to sub
       tables being blank.  This is due to the SYSERR buffer space being
       full.  The problem will be fixed in version 4 of the Monitor.

	 There is also a problem with the /REMOTE switch. When using
	/REMOTE and trying to get KLERR entries to transfer there is
	a problem if you use the /SEQ: switch. The sequence number given
	by the listing of the KLERR entry (either BRIEF or regular) is
	the sequence number of thethe last packet for that entry. The
	KLERR entry is made up of either 5 or 9 actual entries which
	are used to produce the one entry for printout. The only way
	to get around this present restriction is to use the /SEQ:
	switch and ask for an entry aprox 10 before the seq number of
	the KLERR entry and the next 10. This way you will get a few extra
	entries but you are sure of getting all the KLERR entries.


4.0  INSTALLATION INSTRUCTIONS


4.1  Files Needed to Run This Package:

     SYSERR.EXE - Command Passer and file initialization

     SYSERA.EXE - Report generating routines for TOPS10

     SYSERB.EXE - Report generating routines for TOPS10

     SYSERC.EXE - Report generating routines for TOPS10

     SYSERD.EXE - Report generating routines for TOPS20

     SYSERK.EXE - Report generating routines for KLERROR entries

     SYSERN.EXE - Report generating routines for NETWORKS entries

     SYSERS.EXE - Summary report generation

     SYSERR.HLP - Help file for SYSERR package
SYR14.DOC                                                       Page 4


4.2  Instructions for Loading and Installing the SYSERR Package

Mount the tape labeled  Distribution  Tape  on  MTA0:   and  type  the
following commands:

     R DUMPER
     TAPE MTA0:
     REWIND
     DENSITY 1600-BPI
     SKIP 2
     RESTORE <*> SYSER%.* (TO) <SUBSYS> *.*.-1
     REW


4.3  Files Need to Build SYSERR Package

The SYSERR package is build from the following files:

     SYRUNV.MAC - Universal file containing  revision  history,  MACRO
                  definitions, and error file descriptions.

     SYRLOW.MAC - Universal file containing low segment definitions.

     SYRLIB.MAC - Collection of common routines for all modules.

     SYSERA.MAC
     SYSERB.MAC
     SYSERC.MAC
     SYSERR.MAC
     SYSERD.MAC - Source files for package.
     SYSERS.MAC
     SYSERK.MAC
     SYSERN.MAC

     SCNMAC.UNV - Universal file for SCAN command scanner

     SCAN.REL
     HELPER.REL
     SYSERR.HLP
     SYSERR.CTL


4.4  Instructions for Building the SYSERR Package

Mount the tape labeled  Distribution  Tape  on  MTA0:   and  type  the
following commands:

     R DUMPER
     TAPE MTA0:
     REWIND
     DENSITY 1600-BPI
     SKIP 3
     RESTORE <*>*.*.* (TO) <self>*.*.*
     REWIND
     ^C
     SUBMIT SYSERR.CTL/TIME:20:00/REST:1


4.5  Special Considerations

None.
SYR14.DOC                                                       Page 5


5.0  INTERNAL CHANGES

The following internal changes have been included in this release:

	;1000 - ADDS BUFFER PROCESSING CODE FOR /NOW IN SYRLIB 
	;1002 - FIX /NOW FOR NO PAGE HEADINGS 
	;1004 - MAKE A SUBROUTINE OUT OF DSERCD IN D AND PUT IT INTO LIB 
	;1005 - INSTALL BRIEF PROCESSORS FOR TOPS10
	;1006 - MOVE SPECIAL ROUTINES FOR 130 AND 30 INTO LIB 
	;1007 - FIX BLTTAB TO WORK FOR BOTH TOPS10 AND TOPS20 ENTRY PROCESSORS
	;1010 - INSTALL A SUBROUTINE IN LIB TO BE USED TO FIX SUBTABLE OFFSETS
	;1011 - FIX PRCFIL IN LIB TO ACCOUNT FOR FIXED DAEMON BUG
	;1012 - FIX BRF016 SO THAT CORRECT ROUTINE IS CALLED TO TYPE MSG
	;1013 - FIX BCK050 TO PAY ATTENTION TO /DEV SWITCH
	;1014 - FIX KLERR VMA LISTING IN K 
	;1016 - INSTALL SUPPORT FOR CODE 12 (ER.DXE) 

	;1100 - ADD SUPPORT FOR 116 ENTRIES (OPERATOR LOG)
	;1101 - CHANGE IDCHK IN SYRLIB TO SUPPORT ABBREVIATED NAMES ALA DEVCHK
	;1102 - CHANGE BRIEF OUTPUT FOR SYSLOG ENTRIES TO INCLUDE DEVICE
	;1103 - CHANGE SYSERB TO LIST RH10/20 CONTROLLER ADDRESS VERSUS
	;	LOGICAL #(WHICH WAS NEVER SUPPLIED)
	;1104 - FIX ILL MEM REFS AT BADRSP IN SYSERA SPR #10-26258
	;1105 - FIX BAD DEVICE NAME MESSAGE IN 'MBCHAR'  
	;1106 - FIX PAGE HEADER S/N TO CHANGE WITH NEW S/N  
	;1110 - INSTALL SUPPORT FOR CODE 63 (ER.CSB) 
	;1111 - INSTALL SUPPORT FOR CODE 64 (ER.DSB) 
	;1112 - ANSWER TO SPR #10-27340 INCORRECT PAGE BREAKS
	;1113 - ANSWER TO SPR #10-27361 ILL MEM REFS IN B 
	;1114 - INSTALL SUPPORT FOR CODE 14 (ER.SWE) 
	;1115 - FIX OLD BUG IN CONFIG ENTRY PROCESSOR 
	;1116 - FIX R1%000 IN C FOR CPU #,,DTE # 
	;1117 - INSTALL DETAIL PROCESSOR FOR ER.HSB (CODE 33) 
	;1120 - FIX LENGTH OF DX20 LISTING- CAUSES LOOP 
	;1121 - INSTALL DETAIL PROCESSOR FOR ER.HCC (CODE 72) 
	;1122 - REWRITE CSCLST IN B AND ADD SUPPORT FOR NEW TYPES
	;1123 - FIX SWE00B FOR PROPER FIELD LENGTHS 
	;1124 - INSTALL DATE/TIME CHANGE CODE ENTRY 15 
	;1125 - INSTALL SUPPORT FOR ER.DSC EVENT CODE 45 
	;1126 - CHANGE IFN TO IFE AT TOPSYS+6 IN R TO FIX
		;ILL MEM REFS WHEN FULSEG=0
	;1127 - FIX KL201A IN C TO FINALLY FIX KLERR PROBLEM
	;1130 - CHANGE KLEEND IN LOW TO BE BLOCK INSTEAD OF PTR
	;1131 - FIX CINLST TO WORK WITH NO DISK STATS IN ENTRY
	;1132 - INSTALL SUPPORT FOR NODE ON/OFF LINE IN CSCLST IN B 
	;1133 - SUPPORT DETAIL LISTING FOR RH11,RM03, AND RH11-TAPE FOR
		;KS10 RUNNING TOPS10
	;1134 - ADD MDT00A IN C TO FIX OFFSET PTR TO TABLE OF SBDIAGS
	;1135 - FIX SBUSFN TO CALL SBDMA IF IT HAS A DMA TO REPORT AND FIX
		; SBDMA TO USE CORRECT AC'S
	;1136 - SUPPORT RM03 AND RP07 IN CODE 5 ENTRIES
	;1137 - FIX KAELST TO DO THE PROPER THINGS AND ADD KAE00A TO FIX
		;OFFSET PTR TO SBDIAG TABLE AND CALL SBUSFN
SYR14.DOC                                                       Page 6

	;1140 - FIX NETALL TO INCLUDE DL10 ENTRY
	;1141 - MERGE KL VER13 WITH KS VER 13
	;1142 - EXTEND SUMMARIES TO 8 CONTROLLERS,8 DEVICES 
	;1143 - FIX FIELD VALUE OUTPUT IN KLERR & PUT FIELD VALUES AT END 
	;1144 - FIXED BCK45 TO IGNORE /DEV:
	;1145 - FIXED SYSERN TO HAVE NAME TABLES
	;1146 - ADDED "/OCTAL" TO LIST CONTENTS OF WKBUFF BETWEEN HEADER AND
	;	 BODY TO FACILITATE DEBUGGING & SYSERR VERIFICATION  
	;	 -DEVELOPMENT ORIENTED COMMAND- PROBABLY SHOULDN'T BE DOCUMENTED
	;1147 - FIX BCK15 TO IGNORE /DEV: 
	;1150 - FIX DUM & BRF 202 & 203 TO TYPE OUT PROGRAM NAME STRING
	;1151 - INSTALL NL$PST IN N FOR PROGRAM STRING TYPEOUT 
	;1152 - IMPLEMENT NEW SWITCH SYSSFT TO GET SOFTWARE ENTRIES 
	;1153 - FIX TU16TC IN B AND D FOR CORRECT BIT TRANSATION 
	;1154 - REWROTE DSC00A IN A - I DIDN'T LIKE THE OUTPUT FORMAT 

	;1200 - INSERT DYNAMIC TABLE ALLOCATOR 
	;1201 - FIX 'CLOSE ,OUTCHN' IN FATAL  
	;1202 - ADD 'NETHDW' AND 'NETOPR' TO COMMANDS AND ADD 210 & 220
	;	TO 'NETALL' - RLD
	;1203 - ADD EVENT TYPE 222, CHECK11 REPORT, IDENTICAL TO 220 EXCEPT
	;	FOR THE NAME. LISTED UNDER NETALL AND NETOPR. - RLD
	;1204 - ADD EVENT TYPE 115 - CONFIGURATION STATUS CHANGE  
	;1205 - ADD ADDITIONAL ITEMS TO FULL CONTROL TABLE FOR 210
	;	ENTRIES, HETWORK HARDWARE ENTRIES -RLD
	;1206 - FIX DSERCD IN LIB TO TAKE CARE OF ILLEGAL BCD DIGITS  
	;	FIX S/N HANDLING FOR DX20 DEVICES IN SUMMARIES
	;1207 - ADD USER NAME TO MASBUS BRIEF ENTRIES  
	;	TAKE CONTROL OF TOPS-20 SUMMARIES AWAY FROM SMLOOP
	;1210 - ADD DH11 STATUS REGISTERS TO 130-3 & 30-3 ENTRIES  
	;1211 - FIX /SEQ ON FRONT END ENTRIES  
	;1212 - MERGE V13 (TOPS-10) & V14 (TOPS-20)  
	;1213 - COSMETIC AND RANGE CHECKING CHANGES FOR NETWORK ENTRIES  
	;1214 - ADD MORE BRIEF PROCESSING COMMAND FOR ENTRY 210 AND MINOR
	;	FIXES TO NETWORK EVENT LOGGING 
	;1215 - FIX UNIT DEF. & S/N IN CONFIG. STATUS CHANGE (115) ENTRY  
	;1216 - FORCE 3 DIGITS IN DRAM ADDRESS IN KLERR REPORT  
	;1217 - DEVICE SUMMARY & DYNAMIC TABLE ALLOCATION  
	;1220 - FIX RESYNC WHEN OFFSET > 177 (SYRLIB) 
	;1221 - MAKE WARNINGS PRINT AT RIGHT TIME WHEN OUT DEV IS TTY 
	;1222 - TEMPORARY PATCH ??? FOR 116 SUMMARY TITLE  "TYPMES+15"  
	;1223 - ADD DH11 TEXT TRANSLATIONS  
	;1224 - ADD MAXxxx TO TRANSLATION MACRO TBLDEV IN 'UNV, AND  REPLACED
	;	 "REPEAT 36-MINxxx" WITH "BLOCK (MAXxxx-MINxxx+1) IN 'D  
	;1225 - FIX KS-10 CONI APR TRANSLATION FOR 8080 INTERRUPT  
	;1226 - MOVE KLE200 & KLE201 FORM SYSERC & SYSERD TO SYRLIB  
	;1227 - ADD "FROM NODE" IN BRIEF PROCESSOR FOR NET LINE STATS. 
	;1230 - STOP MESSAGES FROM GOING TO FILE IN REMOTE. 
	;1231 - PATCH AT MBCHR1: TO FIX MONITOR TU77 RECOGNITION PROBLEM  
	;1232 - MODIFY FIXBU2 SO THAT WORD 0 OF A BLOCK PRINTS ON DUMPS  
	;1233 - FIX DRVTYP TO USE MDEDTP AS INDEX FOR MDE000 FOR TOPS10 
	;1234 - CLEAR THRU .JBREL TO ENSURE DYNAMIC TABLE AREA IS ZEROED  
	;1235 - YET MORE FIXES TO 'KLERR'  
SYR14.DOC                                                       Page 7

	;1236 - FIX SBUSFN NOT TO EXECUTE IF PTR TO SUBTABLE = 0 
	;	ALSO FIX THE CALLERS TO CALL WITH THE BAD PTR IN P2
	;1237 - FIX BITLST NOT TO EXECUTE IF PTR TO NXMTAB IS NO GOOD 
	;	PARTIAL ANSWER TO SPR #10-28173
	;1240 - FIX SML11 IN S TO PUT PROPER HEADING ON THE PAGE 
	;1241 -  TOPS-10  
	;1242 - FIX BAD WARNING IN 111 SUMMARY WHEN NO MASBUSS ERRORS  
	;1243 - FIX TU77 BLOW UP IN DEVICE ERROR REGISTER BIT-TO-TEXT  
	;1244 - TEST FOR MISSING LINE STATISTICS COUNTERS. 
	;1245 - DROPPED AN INST. IN S AT SML116+A FEW
	;1246 - FIX RESOURCE SPELLING IN 'N'
	;	FIX 'N' NOT TO ASK FOR /DET WHEN /BR TYPED 
	;1267 - TAKE OUT 'NEXT' IN DH11 REPORTS PER R. BELANGER 



6.0  SUGGESTIONS

None.



[End of SYR14.DOC]
