	THIS IS THE DOCUMENTATION FILE FOR TAPTST.MAC

1)  AUTHOR:	ANDY COPANAS - DEC,MAYNARD,MASS

2)  DATE SUBMITTED:	FEBRUARY 10,1971

3)  PURPOSE:

	TAPTST IS DESIGNED TO GIVE A MAGTAPE A WORKOUT IN
ORDER TO TRY AND FIND ITS BAD REGIONS, SO THAT THE USER WILL
HAVE A FAIR IDEA OF ITS RELIABILITY.

	THIS IS ACCOMPLISHED BY WRITING A BUFFERFUL OF 1'S
WHICH IS 4800 (DECIMAL) WORDS LONG.  THIS MEANS THAT THERE
WILL BE FEW INTER-RECORD GAPS, THUS TESTING MOST OF THE TAPE'S
SURFACE.  (4800 WDS = 3FT. OF TAPE AT 800 BPI)

4)  METHOD:

	TAPTST WILL ASK THE USER FOR THE TYPE OF TEST THAT HE
DESIRES. THE THREE CHOICES ARE:  1)READ & VERIFY AT 556 BPI ONLY,
2)READ & VERIFY AT 800 BPI ONLY, OR 3)READ & VERIFY AT 556, THEN AT
800 BPI.

	WHEN THE TEST HAS BEEN SET UP, TAPTST WILL PROCEED TO
FILL THE TAPE WITH ONES, AND THEN WILL REWIND THE TAPE AND
PERFORM A VERIFICATION OPERATION TO SEE IF ALL RECORDS
CONTAIN ONLY ONES IN THEM.  THE PROGRAM COUNTERS WILL KEEP
TRACK OF THE NUMBER OF RECORDS READ OR WRITTEN ON THE TAPE.

	THERE ARE TWO TYPES OF ERRORS THAT MAY OCCUR, THE
PROGRAM MAY BE UNABLE TO READ OR WRITE THE RECORD DUE TO 
DATA OR PARITY ERRORS, OR THE VERIFICATION OF A WORD WITH-
IN A RECORD MAY FAIL.  IT IS DESIRABLE TO KNOW ABOUT BOTH
KINDS OF FAILURES.

	TAPTST DOESN'T USE THE AUTOMATIC ERROR-CORRECTION FEATURE OF THE
MONITOR (BIT 29 OF THE MAGTAPE STATUS BITS).  THIS ALLOWS TAPTST
TO PERFORM ERROR RECOVERY EVERY TIME DATA OR PARITY ERRORS
OCCUR.  WHEN, FOR THESE REASONS, THE RECORD CANNOT BE WRITTEN OR
READ, TAPTST WILL GIVE THE TAPE A MAXIMUM OF 10 (DECIMAL) 
TRIES BEFORE IT GIVES UP.  IT WILL INDICATE THIS TO THE USER,
AND WILL SKIP OVER THE BAD RECORD AND CONTINUE OPERATION.

	IF A RECORD IS SUCCESSFULLY READ, THEN ANY ERRORS IN
VERIFYING WILL BE PINPOINTED AS FOLLOWS: 
	1) THE INCORRECT DATA WORD WILL BE PRINTED (IN OCTAL)
	2) RECORD # (IN OCTAL)
	3) SIZE OF RECORD (SHOULD ALWAYS BE 11300 OCTAL WDS.,
				EXCEPT FOR LAST RECORD)
	4) OCTAL POSITION WITHIN THE RECORD (I.E. 1ST WD, 577TH WD.,ETC)
THIS SHOULD HELP THE USER TO GAIN A ROUGH IDEA OF WHICH AREA
ON THE TAPE IS BAD, AND HOW BAD IT REALLY IS.


5)  SAMPLE OPERATING INSTRUCTIONS: (AND SAMPLE ERROR MESSAGES)


	.LOG
	JOB 1 DEC DATA CENTER SYS#169 TTY2
	#13,602
	PASSWORD:
	1555	09-FEB-71

	.AS MTA1 TAPTST
	MTA1 ASSIGNED

	.EX TAPTST		;OR- RUN DSK(DTAN) TAPTST
	MACRO: TAPTST
	LOADING

	LOADER 6K CORE
	EXECUTION
	DO YOU WANT ONE PASS AT 556 BPI? (Y OR C.R.)
	DO YOU WANT ONE PASS AT 800 BPI? (Y OR C.R.)
	DO YOU WANT 2 PASSES, ONE AT 556,
	THEN AT 800? (Y OR C.R.)
	Y
	556 BPI
	NOW WRITING TAPE
	0005   ATTEMPTS TO READ/WRITE ON TAPE
	RECORD NUMBER (IN OCTAL)    0057

	0002   ATTEMPTS TO READ/WRITE ON TAPE
	RECORD NUMBER (IN OCTAL)    0237

	READ/WRITE FAILED AFTER 10 TRIES ON 
	RECORD NUMBER (IN OCTAL)    0301

	NOW VERIFYING TAPE

	READ/WRITE FAILED AFTER 10 TRIES ON
	RECORD NUMBER (IN OCTAL)    0057

	VERIFY ERROR ON DATA WORD   177777770000  
	RECORD NUMBER (IN OCTAL)    0237
	RECORD SIZE (IN OCTAL) =   011300
	POSITION WITHIN THIS RECORD =    000356

	VERIFY ERROR ON DATA WORD   676574738899
	RECORD NUMBER (IN OCTAL)    0237
	RECORD SIZE (IN OCTAL) =   011300
	POSITION WITHIN THIS RECORD =    011001

	READ/WRITE FAILED AFTER 10 TRIES ON
	RECORD NUMBER (IN OCTAL)    0301

	800 BPI
	NOW WRITING TAPE
	READ/WRITE FAILED AFTER 10 TRIES ON
	RECORD NUMBER (IN OCTAL)    1000

	NOW VERIFYING TAPE
	READ/WRITE FAILED AFTER 10 TRIES ON
	RECORD NUMBER (IN OCTAL)    1000

	VERIFY ERROR ON DATA WORD   777777777773
	RECORD NUMBER (IN OCTAL)    1040
	RECORD SIZE (IN OCTAL) =   011300
	POSITION WITHIN THIS RECORD =    007742

	DONE

	EXIT

	.(AT THIS POINT, THE USER COULD MOUNT A NEW TAPE
ON THE SAME DRIVE, TYPE "REEN", AND START OVER AGAIN.)

6)  EXECUTION TIME: ABOUT 50 MIN. (OF REAL TIME) FOR 2 PASSES
			OF A 2400 FOOT REEL. (556 & 800 BPI)
