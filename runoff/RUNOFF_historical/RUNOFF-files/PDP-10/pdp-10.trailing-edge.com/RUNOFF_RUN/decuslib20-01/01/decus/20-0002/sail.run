;MAKE A FLOYD-EVANS PRODUCTION TABLE AND A SYMBOL TABLE
;PROD, PROD.QQQ [TEMP], RESTAB.TNX
RUN PTRAN
PROD_HEL
B
RUN RTRAN
RESTAB.TNX_PROD,FOO2.TNX
B
;
;THIS MAKES A COMPILER-- SAIL.REL--LATER TO BE LOADED
fail
THAT.TNX@
B
;
;THIS MAKES A SEGMENT-- <SAIL>T-6-SAISG9.SAV
fail
SGMNT.TNX@
B
LINK
UPPER
/GO
START
T-6-SAISG9.EXE
;now we have lowtsa: put jobdat in it:
APPEND JOBDAT.REL LOWTSA.REL
;
;THIS LOADS AND SAVES THE COMPILER
LINK
LOWTSA
SAIL
/GO
START
SAV SAIL
;
;DELETE THE GARBAGE FILES CREATED IN THE ABOVE
DEL SAIL.REL.*,UPPER.REL.*,LOWER.REL.*
;
;THESE STEPS WILL MAKE A LIBRARY -- <SAIL>HLBSA9.REL AND 
;<SAIL>LIBSA9.REL-- WHEN EXECUTED.  I HAVE COMMENTED THEM
;OUT HERE SINCE FAIL COMPLAINS ABOUT A FEW IRRELEVANT ERRORS
;BUT [I THINK] CLEARS THE INPUT BUFFER
fail
LIB.TNX@
B
COP HEAD.REL HLBSA9.REL
AP TRIGS.REL HLBSA9.REL
COP HLBSA9.REL LIBSA9.REL
;DELETE GARBAGE FILE CREATED ABOVE
DEL TRIGS.REL
;
;THIS MAKES AN OPCODE TABLE <SAIL>3OPS3.OPS
;[REMARK:  ADD KL INSTRUCTIONS TO THE MAKTAB.TNX PROGRAM.]
RUN MAKTAB
S:<3-BUNDLED>MONSYM.MAC
3OPS3.OPS
;[REMARK:  ONLY THING LEFT IS BAIL.]
fail
BAICLC_BPDAHD,BAICLC
BAIIO1_BPDAHD,BAIIO1
BAIIO2_BPDAHD,BAIIO2
BAIMSC_BPDAHD,BAIMSC
BAIPRC_BPDAHD,BAIPRC
BAISM1_BSM1HD,BAISM1
B
SAIL
BAIPD9
B
LINK
BAISM1/E/G

;the following makes GOGTAB.DEF:
;
;saihed.rel is a special sort of head.rel, with only symbols
fail
saihed_saihed.fai,tenxsw.,head.
B
;makgog is a program that looks through the .REL file and extracts
;global symbols for GOGTAB.DEF.  It is taken from SCISS, the rest
;of which is not needed for the 20 version.
ru makgog
del saihed.rel

;this needs the new version of gogtab
ru sail
bail
